(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Xf={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function TT(){if(Ky)return Wl;Ky=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Wl.Fragment=e,Wl.jsx=i,Wl.jsxs=i,Wl}var Xy;function AT(){return Xy||(Xy=1,Xf.exports=TT()),Xf.exports}var C=AT(),$f={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function ST(){if($y)return wt;$y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function $(N,Z,it){this.props=N,this.context=Z,this.refs=W,this.updater=it||H}$.prototype.isReactComponent={},$.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},$.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Et(){}Et.prototype=$.prototype;function pt(N,Z,it){this.props=N,this.context=Z,this.refs=W,this.updater=it||H}var ct=pt.prototype=new Et;ct.constructor=pt,J(ct,$.prototype),ct.isPureReactComponent=!0;var Bt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function x(N,Z,it,tt,lt,bt){return it=bt.ref,{$$typeof:s,type:N,key:Z,ref:it!==void 0?it:null,props:bt}}function S(N,Z){return x(N.type,Z,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function O(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return Z[it]})}var M=/\/+/g;function L(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):Z.toString(36)}function R(){}function ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ee(N,Z,it,tt,lt){var bt=typeof N;(bt==="undefined"||bt==="boolean")&&(N=null);var yt=!1;if(N===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(N.$$typeof){case s:case e:yt=!0;break;case A:return yt=N._init,ee(yt(N._payload),Z,it,tt,lt)}}if(yt)return lt=lt(N),yt=tt===""?"."+L(N,0):tt,Bt(lt)?(it="",yt!=null&&(it=yt.replace(M,"$&/")+"/"),ee(lt,Z,it,"",function(bn){return bn})):lt!=null&&(b(lt)&&(lt=S(lt,it+(lt.key==null||N&&N.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+yt)),Z.push(lt)),1;yt=0;var pe=tt===""?".":tt+":";if(Bt(N))for(var Kt=0;Kt<N.length;Kt++)tt=N[Kt],bt=pe+L(tt,Kt),yt+=ee(tt,Z,it,bt,lt);else if(Kt=D(N),typeof Kt=="function")for(N=Kt.call(N),Kt=0;!(tt=N.next()).done;)tt=tt.value,bt=pe+L(tt,Kt++),yt+=ee(tt,Z,it,bt,lt);else if(bt==="object"){if(typeof N.then=="function")return ee(ce(N),Z,it,tt,lt);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(N,Z,it){if(N==null)return N;var tt=[],lt=0;return ee(N,tt,"","",function(bt){return Z.call(it,bt,lt++)}),tt}function nt(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var ot=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ot(){}return wt.Children={map:G,forEach:function(N,Z,it){G(N,function(){Z.apply(this,arguments)},it)},count:function(N){var Z=0;return G(N,function(){Z++}),Z},toArray:function(N){return G(N,function(Z){return Z})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=$,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=pt,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return vt.H.useMemoCache(N)}},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,Z,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var tt=J({},N.props),lt=N.key,bt=void 0;if(Z!=null)for(yt in Z.ref!==void 0&&(bt=void 0),Z.key!==void 0&&(lt=""+Z.key),Z)!zt.call(Z,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Z.ref===void 0||(tt[yt]=Z[yt]);var yt=arguments.length-2;if(yt===1)tt.children=it;else if(1<yt){for(var pe=Array(yt),Kt=0;Kt<yt;Kt++)pe[Kt]=arguments[Kt+2];tt.children=pe}return x(N.type,lt,void 0,void 0,bt,tt)},wt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},wt.createElement=function(N,Z,it){var tt,lt={},bt=null;if(Z!=null)for(tt in Z.key!==void 0&&(bt=""+Z.key),Z)zt.call(Z,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(lt[tt]=Z[tt]);var yt=arguments.length-2;if(yt===1)lt.children=it;else if(1<yt){for(var pe=Array(yt),Kt=0;Kt<yt;Kt++)pe[Kt]=arguments[Kt+2];lt.children=pe}if(N&&N.defaultProps)for(tt in yt=N.defaultProps,yt)lt[tt]===void 0&&(lt[tt]=yt[tt]);return x(N,bt,void 0,void 0,null,lt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:g,render:N}},wt.isValidElement=b,wt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:nt}},wt.memo=function(N,Z){return{$$typeof:_,type:N,compare:Z===void 0?null:Z}},wt.startTransition=function(N){var Z=vt.T,it={};vt.T=it;try{var tt=N(),lt=vt.S;lt!==null&&lt(it,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ot,ot)}catch(bt){ot(bt)}finally{vt.T=Z}},wt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},wt.use=function(N){return vt.H.use(N)},wt.useActionState=function(N,Z,it){return vt.H.useActionState(N,Z,it)},wt.useCallback=function(N,Z){return vt.H.useCallback(N,Z)},wt.useContext=function(N){return vt.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,Z){return vt.H.useDeferredValue(N,Z)},wt.useEffect=function(N,Z,it){var tt=vt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(N,Z)},wt.useId=function(){return vt.H.useId()},wt.useImperativeHandle=function(N,Z,it){return vt.H.useImperativeHandle(N,Z,it)},wt.useInsertionEffect=function(N,Z){return vt.H.useInsertionEffect(N,Z)},wt.useLayoutEffect=function(N,Z){return vt.H.useLayoutEffect(N,Z)},wt.useMemo=function(N,Z){return vt.H.useMemo(N,Z)},wt.useOptimistic=function(N,Z){return vt.H.useOptimistic(N,Z)},wt.useReducer=function(N,Z,it){return vt.H.useReducer(N,Z,it)},wt.useRef=function(N){return vt.H.useRef(N)},wt.useState=function(N){return vt.H.useState(N)},wt.useSyncExternalStore=function(N,Z,it){return vt.H.useSyncExternalStore(N,Z,it)},wt.useTransition=function(){return vt.H.useTransition()},wt.version="19.1.0",wt}var Zy;function Fd(){return Zy||(Zy=1,$f.exports=ST()),$f.exports}var St=Fd(),Zf={exports:{}},to={},Jf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function bT(){return Jy||(Jy=1,function(s){function e(G,nt){var ot=G.length;G.push(nt);t:for(;0<ot;){var Ot=ot-1>>>1,N=G[Ot];if(0<o(N,nt))G[Ot]=nt,G[ot]=N,ot=Ot;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ot=G.pop();if(ot!==nt){G[0]=ot;t:for(var Ot=0,N=G.length,Z=N>>>1;Ot<Z;){var it=2*(Ot+1)-1,tt=G[it],lt=it+1,bt=G[lt];if(0>o(tt,ot))lt<N&&0>o(bt,tt)?(G[Ot]=bt,G[lt]=ot,Ot=lt):(G[Ot]=tt,G[it]=ot,Ot=it);else if(lt<N&&0>o(bt,ot))G[Ot]=bt,G[lt]=ot,Ot=lt;else break t}}return nt}function o(G,nt){var ot=G.sortIndex-nt.sortIndex;return ot!==0?ot:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,I=null,D=3,H=!1,J=!1,W=!1,$=!1,Et=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=G)a(_),nt.sortIndex=nt.expirationTime,e(y,nt);else break;nt=i(_)}}function vt(G){if(W=!1,Bt(G),!J)if(i(y)!==null)J=!0,zt||(zt=!0,L());else{var nt=i(_);nt!==null&&ee(vt,nt.startTime-G)}}var zt=!1,x=-1,S=5,b=-1;function O(){return $?!0:!(s.unstable_now()-b<S)}function M(){if($=!1,zt){var G=s.unstable_now();b=G;var nt=!0;try{t:{J=!1,W&&(W=!1,pt(x),x=-1),H=!0;var ot=D;try{e:{for(Bt(G),I=i(y);I!==null&&!(I.expirationTime>G&&O());){var Ot=I.callback;if(typeof Ot=="function"){I.callback=null,D=I.priorityLevel;var N=Ot(I.expirationTime<=G);if(G=s.unstable_now(),typeof N=="function"){I.callback=N,Bt(G),nt=!0;break e}I===i(y)&&a(y),Bt(G)}else a(y);I=i(y)}if(I!==null)nt=!0;else{var Z=i(_);Z!==null&&ee(vt,Z.startTime-G),nt=!1}}break t}finally{I=null,D=ot,H=!1}nt=void 0}}finally{nt?L():zt=!1}}}var L;if(typeof ct=="function")L=function(){ct(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ce=R.port2;R.port1.onmessage=M,L=function(){ce.postMessage(null)}}else L=function(){Et(M,0)};function ee(G,nt){x=Et(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ot=D;D=nt;try{return G()}finally{D=ot}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=D;D=G;try{return nt()}finally{D=ot}},s.unstable_scheduleCallback=function(G,nt,ot){var Ot=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ot+ot:Ot):ot=Ot,G){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ot+N,G={id:A++,callback:nt,priorityLevel:G,startTime:ot,expirationTime:N,sortIndex:-1},ot>Ot?(G.sortIndex=ot,e(_,G),i(y)===null&&G===i(_)&&(W?(pt(x),x=-1):W=!0,ee(vt,ot-Ot))):(G.sortIndex=N,e(y,G),J||H||(J=!0,zt||(zt=!0,L()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var nt=D;return function(){var ot=D;D=nt;try{return G.apply(this,arguments)}finally{D=ot}}}}(Wf)),Wf}var Wy;function wT(){return Wy||(Wy=1,Jf.exports=bT()),Jf.exports}var td={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function RT(){if(t_)return Ke;t_=1;var s=Fd();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(y,_,null,A)},Ke.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:H}):A==="script"&&a.d.X(y,{crossOrigin:I,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ke.requestFormReset=function(y){a.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var e_;function CT(){if(e_)return td.exports;e_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),td.exports=RT(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function IT(){if(n_)return to;n_=1;var s=wT(),e=Fd(),i=CT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case $:return"Profiler";case W:return"StrictMode";case vt:return"Suspense";case zt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case pt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:ce(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ce(t(n))}catch{}}return null}var ee=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ot=[],N=-1;function Z(t){return{current:t}}function it(t){0>N||(t.current=Ot[N],Ot[N]=null,N--)}function tt(t,n){N++,Ot[N]=t.current,t.current=n}var lt=Z(null),bt=Z(null),yt=Z(null),pe=Z(null);function Kt(t,n){switch(tt(yt,n),tt(bt,t),tt(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ay(n),t=Sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(lt),tt(lt,t)}function bn(){it(lt),it(bt),it(yt)}function Kn(t){t.memoizedState!==null&&tt(pe,t);var n=lt.current,r=Sy(n,t.type);n!==r&&(tt(bt,t),tt(lt,r))}function zn(t){bt.current===t&&(it(lt),it(bt)),pe.current===t&&(it(pe),Kl._currentValue=ot)}var _i=Object.prototype.hasOwnProperty,vi=s.unstable_scheduleCallback,Ei=s.unstable_cancelCallback,Fr=s.unstable_shouldYield,ks=s.unstable_requestPaint,Je=s.unstable_now,Qa=s.unstable_getCurrentPriorityLevel,Ji=s.unstable_ImmediatePriority,Ti=s.unstable_UserBlockingPriority,Ai=s.unstable_NormalPriority,Ya=s.unstable_LowPriority,ft=s.unstable_IdlePriority,he=s.log,fn=s.unstable_setDisableYieldValue,Ht=null,Mt=null;function dn(t){if(typeof he=="function"&&fn(t),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Ht,t)}catch{}}var Qe=Math.clz32?Math.clz32:Qr,Do=Math.log,$c=Math.LN2;function Qr(t){return t>>>=0,t===0?32:31-(Do(t)/$c|0)|0}var Yr=256,Kr=4194304;function Pn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zs(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Pn(l):(v&=E,v!==0?c=Pn(v):r||(r=E&~t,r!==0&&(c=Pn(r))))):(E=l&~f,E!==0?c=Pn(E):v!==0?c=Pn(v):r||(r=l&~t,r!==0&&(c=Pn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ka(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function $a(){var t=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),t}function Si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function bi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Za(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(r=v&~r;0<r;){var F=31-Qe(r),K=1<<F;E[F]=0,w[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var B=P[F];B!==null&&(B.lane&=-536870913)}r&=~K}l!==0&&Xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ja(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ps(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:qy(t.type))}function No(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var re=Math.random().toString(36).slice(2),we="__reactFiber$"+re,ye="__reactProps$"+re,wn="__reactContainer$"+re,Wa="__reactEvents$"+re,Zc="__reactListeners$"+re,er="__reactHandles$"+re,Vo="__reactResources$"+re,$r="__reactMarker$"+re;function nr(t){delete t[we],delete t[ye],delete t[Wa],delete t[Zc],delete t[er]}function wi(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[wn]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Cy(t);t!==null;){if(r=t[we])return r;t=Cy(t)}return n}t=r,r=t.parentNode}return null}function $n(t){if(t=t[we]||t[wn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function We(t){var n=t[Vo];return n||(n=t[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(t){t[$r]=!0}var tl=new Set,Bs={};function Bn(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Bs[t]=n,t=0;t<n.length;t++)tl.add(n[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Zr={};function xo(t){return _i.call(Zr,t)?!0:_i.call(Mo,t)?!1:Oo.test(t)?Zr[t]=!0:(Mo[t]=!0,!1)}function ir(t,n,r){if(xo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function je(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Jr,Uo;function Ci(t){if(Jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Uo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+Uo}var qs=!1;function Hs(t,n){if(!t||qs)return"";qs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var P=B}Reflect.construct(t,[],K)}else{try{K.call()}catch(B){P=B}t.call(K.prototype)}}else{try{throw Error()}catch(B){P=B}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),z=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===z.length)for(l=w.length-1,c=z.length-1;1<=l&&0<=c&&w[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==z[c]){var F=`
`+w[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{qs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ci(r):""}function el(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return Ci("Activity");default:return""}}function Gs(t){try{var n="";do n+=el(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jc(t){var n=nl(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fs(t){t._valueTracker||(t._valueTracker=Jc(t))}function il(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=nl(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wc=/[\n"\\]/g;function _e(t){return t.replace(Wc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mn(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?rr(t,v,tn(n)):r!=null?rr(t,v,tn(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+tn(E):t.removeAttribute("name")}function ts(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function rr(t,n,r){n==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ii(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Xt(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function es(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ee(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||ns.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function rl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Lo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Lo(t,f,n[f])}function sl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(t){return eh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Di=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Vi=null;function al(t){var n=$n(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(mn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_e(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));mn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&il(l)}break t;case"textarea":Xt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ii(t,!!r.multiple,n,!1)}}}var Wn=!1;function jo(t,n,r){if(Wn)return t(n,r);Wn=!0;try{var l=t(n);return l}finally{if(Wn=!1,(Ni!==null||Vi!==null)&&(Nu(),Ni&&(n=Ni,t=Vi,Vi=Ni=null,al(n),t)))for(n=0;n<t.length;n++)al(t[n])}}function is(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(qn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){In=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{In=!1}var ti=null,sr=null,Oi=null;function ll(){if(Oi)return Oi;var t,n=sr,r=n.length,l,c="value"in ti?ti.value:ti.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return Oi=c.slice(t,1<l?1-l:void 0)}function ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function ol(){return!1}function Ve(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ni:ol,this.isPropagationStopped=ol,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),n}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Ve(Gt),ss=A({},Gt,{view:0,detail:0}),ko=Ve(ss),Ks,Xs,ii,as=A({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(Ks=t.screenX-ii.screenX,Xs=t.screenY-ii.screenY):Xs=Ks=0,ii=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),Dn=Ve(as),zo=A({},as,{dataTransfer:0}),nh=Ve(zo),ls=A({},ss,{relatedTarget:0}),$s=Ve(ls),ul=A({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Ve(ul),Po=A({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Js=Ve(Po),ih=A({},Gt,{data:0}),cl=Ve(ih),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=qo[t])?!!n[t]:!1}function us(){return hl}var Ho=A({},ss,{key:function(t){if(t.key){var n=os[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ws=Ve(Ho),Go=A({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ve(Go),Mi=A({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),Fo=Ve(Mi),Qo=A({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=Ve(Qo),Ko=A({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=Ve(Ko),en=A({},Gt,{newState:0,oldState:0}),Xo=Ve(en),$o=[9,13,27,32],ri=qn&&"CompositionEvent"in window,u=null;qn&&"documentMode"in document&&(u=document.documentMode);var m=qn&&"TextEvent"in window&&!u,p=qn&&(!ri||u&&8<u&&11>=u),T=" ",j=!1;function q(t,n){switch(t){case"keyup":return $o.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Re(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(j=!0,T);case"textInput":return t=n.data,t===T&&j?null:t;default:return null}}function Ut(t,n){if(xt)return t==="compositionend"||!ri&&q(t,n)?(t=ll(),Oi=sr=ti=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Oe[t.type]:n==="textarea"}function xi(t,n,r,l){Ni?Vi?Vi.push(l):Vi=[l]:Ni=l,n=Lu(n,"onChange"),0<n.length&&(r=new Ys("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ke=null,si=null;function dl(t){yy(t,0)}function Zo(t){var n=Zn(t);if(il(n))return t}function km(t,n){if(t==="change")return n}var zm=!1;if(qn){var rh;if(qn){var sh="oninput"in document;if(!sh){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),sh=typeof Pm.oninput=="function"}rh=sh}else rh=!1;zm=rh&&(!document.documentMode||9<document.documentMode)}function Bm(){ke&&(ke.detachEvent("onpropertychange",qm),si=ke=null)}function qm(t){if(t.propertyName==="value"&&Zo(si)){var n=[];xi(n,si,t,Cn(t)),jo(dl,n)}}function ZE(t,n,r){t==="focusin"?(Bm(),ke=n,si=r,ke.attachEvent("onpropertychange",qm)):t==="focusout"&&Bm()}function JE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(si)}function WE(t,n){if(t==="click")return Zo(n)}function t1(t,n){if(t==="input"||t==="change")return Zo(n)}function e1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:e1;function ml(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_i.call(n,c)||!gn(t[c],n[c]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,n){var r=Hm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Hm(r)}}function Fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Wr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Wr(t.document)}return n}function ah(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var n1=qn&&"documentMode"in document&&11>=document.documentMode,ea=null,lh=null,gl=null,oh=!1;function Ym(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oh||ea==null||ea!==Wr(l)||(l=ea,"selectionStart"in l&&ah(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=Lu(lh,"onSelect"),0<l.length&&(n=new Ys("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ea)))}function cs(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var na={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},uh={},Km={};qn&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function hs(t){if(uh[t])return uh[t];if(!na[t])return t;var n=na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Km)return uh[t]=n[r];return t}var Xm=hs("animationend"),$m=hs("animationiteration"),Zm=hs("animationstart"),i1=hs("transitionrun"),r1=hs("transitionstart"),s1=hs("transitioncancel"),Jm=hs("transitionend"),Wm=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function Hn(t,n){Wm.set(t,n),Bn(n,[t])}var tg=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var r=tg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Gs(n)},tg.set(t,n),n)}return{value:t,source:n,stack:Gs(n)}}var Vn=[],ia=0,hh=0;function Jo(){for(var t=ia,n=hh=ia=0;n<t;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var c=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&eg(r,c,f)}}function Wo(t,n,r,l){Vn[ia++]=t,Vn[ia++]=n,Vn[ia++]=r,Vn[ia++]=l,hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function fh(t,n,r,l){return Wo(t,n,r,l),tu(t)}function ra(t,n){return Wo(t,null,null,n),tu(t)}function eg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function tu(t){if(50<Pl)throw Pl=0,vf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var sa={};function a1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,r,l){return new a1(t,n,r,l)}function dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var r=t.alternate;return r===null?(r=pn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ng(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")dh(t)&&(v=1);else if(typeof t=="string")v=oT(t,r,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=pn(31,r,n,c),t.elementType=b,t.lanes=f,t;case J:return fs(r.children,c,f,n);case W:v=8,c|=24;break;case $:return t=pn(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case vt:return t=pn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case zt:return t=pn(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:case ct:v=10;break t;case pt:v=9;break t;case Bt:v=11;break t;case x:v=14;break t;case S:v=16,l=null;break t}v=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function fs(t,n,r,l){return t=pn(7,t,l,n),t.lanes=r,t}function mh(t,n,r){return t=pn(6,t,null,n),t.lanes=r,t}function gh(t,n,r){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var aa=[],la=0,nu=null,iu=0,On=[],Mn=0,ds=null,Li=1,ji="";function ms(t,n){aa[la++]=iu,aa[la++]=nu,nu=t,iu=n}function ig(t,n,r){On[Mn++]=Li,On[Mn++]=ji,On[Mn++]=ds,ds=t;var l=Li;t=ji;var c=32-Qe(l)-1;l&=~(1<<c),r+=1;var f=32-Qe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Li=1<<32-Qe(n)+c|r<<c|l,ji=f+t}else Li=1<<f|r<<c|l,ji=t}function ph(t){t.return!==null&&(ms(t,1),ig(t,1,0))}function yh(t){for(;t===nu;)nu=aa[--la],aa[la]=null,iu=aa[--la],aa[la]=null;for(;t===ds;)ds=On[--Mn],On[Mn]=null,ji=On[--Mn],On[Mn]=null,Li=On[--Mn],On[Mn]=null}var nn=null,oe=null,qt=!1,gs=null,ai=!1,_h=Error(a(519));function ps(t){var n=Error(a(418,""));throw _l(Nn(n,t)),_h}function rg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<ql.length;r++)Dt(ql[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ts(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),es(n,l.value,l.defaultValue,l.children),Fs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ty(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||ps(t)}function sg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:nn=nn.return}}function pl(t){if(t!==nn)return!1;if(!qt)return sg(t),qt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Uf(t.type,t.memoizedProps)),r=!r),r&&oe&&ps(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=Fn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,Tr(t.type)?(t=zf,zf=null,oe=t):oe=n):oe=nn?Fn(t.stateNode.nextSibling):null;return!0}function yl(){oe=nn=null,qt=!1}function ag(){var t=gs;return t!==null&&(an===null?an=t:an.push.apply(an,t),gs=null),t}function _l(t){gs===null?gs=[t]:gs.push(t)}var vh=Z(null),ys=null,ki=null;function ar(t,n,r){tt(vh,n._currentValue),n._currentValue=r}function zi(t){t._currentValue=vh.current,it(vh)}function Eh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Eh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(a(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Eh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function vl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=c.type;gn(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===pe.current){if(v=c.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}c=c.return}t!==null&&Th(n,t,r,l),n.flags|=262144}function ru(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _s(t){ys=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return lg(ys,t)}function su(t,n){return ys===null&&_s(t),lg(t,n)}function lg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(t===null)throw Error(a(308));ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ki=ki.next=n;return r}var l1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},o1=s.unstable_scheduleCallback,u1=s.unstable_NormalPriority,Ie={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new l1,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&o1(u1,function(){t.controller.abort()})}var Tl=null,Sh=0,oa=0,ua=null;function c1(t,n){if(Tl===null){var r=Tl=[];Sh=0,oa=Rf(),ua={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Sh++,n.then(og,og),n}function og(){if(--Sh===0&&Tl!==null){ua!==null&&(ua.status="fulfilled");var t=Tl;Tl=null,oa=0,ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function h1(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var ug=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&c1(t,n),ug!==null&&ug(t,n)};var vs=Z(null);function bh(){var t=vs.current;return t!==null?t:ne.pooledCache}function au(t,n){n===null?tt(vs,vs.current):tt(vs,n.pool)}function cg(){var t=bh();return t===null?null:{parent:Ie._currentValue,pool:t}}var Al=Error(a(460)),hg=Error(a(474)),lu=Error(a(542)),wh={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ou(){}function dg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ou,ou),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t;default:if(typeof n.status=="string")n.then(ou,ou);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t}throw Sl=n,Al}}var Sl=null;function mg(){if(Sl===null)throw Error(a(459));var t=Sl;return Sl=null,t}function gg(t){if(t===Al||t===lu)throw Error(a(483))}var lr=!1;function Rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=tu(t),eg(t,null,r),n}return Wo(t,l,n,r),tu(t)}function bl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ja(t,r)}}function Ih(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Dh=!1;function wl(){if(Dh){var t=ua;if(t!==null)throw t}}function Rl(t,n,r,l){Dh=!1;var c=t.updateQueue;lr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,z=w.next;w.next=null,v===null?f=z:v.next=z,v=w;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=w))}if(f!==null){var K=c.baseState;v=0,F=z=w=null,E=f;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(Lt&P)===P:(l&P)===P){P!==0&&P===oa&&(Dh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,dt=E;P=n;var Jt=r;switch(dt.tag){case 1:if(_t=dt.payload,typeof _t=="function"){K=_t.call(Jt,K,P);break t}K=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=dt.payload,P=typeof _t=="function"?_t.call(Jt,K,P):_t,P==null)break t;K=A({},K,P);break t;case 2:lr=!0}}P=E.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=B,w=K):F=F.next=B,v|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);F===null&&(w=K),c.baseState=w,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),yr|=v,t.lanes=v,t.memoizedState=K}}function pg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function yg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pg(r[t],n)}var ca=Z(null),uu=Z(0);function _g(t,n){t=Qi,tt(uu,t),tt(ca,n),Qi=t|n.baseLanes}function Nh(){tt(uu,Qi),tt(ca,ca.current)}function Vh(){Qi=uu.current,it(ca),it(uu)}var cr=0,Rt=null,$t=null,ve=null,cu=!1,ha=!1,Es=!1,hu=0,Cl=0,fa=null,f1=0;function de(){throw Error(a(321))}function Oh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!gn(t[r],n[r]))return!1;return!0}function Mh(t,n,r,l,c,f){return cr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ep:np,Es=!1,f=r(l,c),Es=!1,ha&&(f=Eg(n,r,l,c)),vg(t),f}function vg(t){G.H=yu;var n=$t!==null&&$t.next!==null;if(cr=0,ve=$t=Rt=null,cu=!1,Cl=0,fa=null,n)throw Error(a(300));t===null||Me||(t=t.dependencies,t!==null&&ru(t)&&(Me=!0))}function Eg(t,n,r,l){Rt=t;var c=0;do{if(ha&&(fa=null),Cl=0,ha=!1,25<=c)throw Error(a(301));if(c+=1,ve=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=v1,f=n(r,l)}while(ha);return f}function d1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Rt.flags|=1024),n}function xh(){var t=hu!==0;return hu=0,t}function Uh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Lh(t){if(cu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}cu=!1}cr=0,ve=$t=Rt=null,ha=!1,Cl=hu=0,fa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Rt.memoizedState=ve=t:ve=ve.next=t,ve}function Ee(){if($t===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=ve===null?Rt.memoizedState:ve.next;if(n!==null)ve=n,$t=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ve===null?Rt.memoizedState=ve=t:ve=ve.next=t}return ve}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=Cl;return Cl+=1,fa===null&&(fa=[]),t=dg(fa,t,n),n=Rt,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ep:np),t}function fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===ct)return Ye(t)}throw Error(a(438,String(t)))}function kh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=jh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Pi(t,n){return typeof n=="function"?n(t):n}function du(t){var n=Ee();return zh(n,$t,t)}function zh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,w=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Lt&K)===K:(cr&K)===K){var P=z.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===oa&&(F=!0);else if((cr&P)===P){z=z.next,P===oa&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=K,v=f):w=w.next=K,Rt.lanes|=P,yr|=P;K=z.action,Es&&r(f,K),f=z.hasEagerState?z.eagerState:r(f,K)}else P={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=P,v=f):w=w.next=P,Rt.lanes|=K,yr|=K;z=z.next}while(z!==null&&z!==n);if(w===null?v=f:w.next=E,!gn(f,t.memoizedState)&&(Me=!0,F&&(r=ua,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ph(t){var n=Ee(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);gn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Tg(t,n,r){var l=Rt,c=Ee(),f=qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var v=!gn(($t||c).memoizedState,r);v&&(c.memoizedState=r,Me=!0),c=c.queue;var E=bg.bind(null,l,c,t);if(Dl(2048,8,E,[t]),c.getSnapshot!==n||v||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,da(9,mu(),Sg.bind(null,l,c,r,n),null),ne===null)throw Error(a(349));f||(cr&124)!==0||Ag(l,n,r)}return r}function Ag(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=jh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Sg(t,n,r,l){n.value=r,n.getSnapshot=l,wg(n)&&Rg(t)}function bg(t,n,r){return r(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!gn(t,r)}catch{return!0}}function Rg(t){var n=ra(t,2);n!==null&&Tn(n,t,2)}function Bh(t){var n=rn();if(typeof t=="function"){var r=t;if(t=r(),Es){dn(!0);try{r()}finally{dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function Cg(t,n,r,l){return t.baseState=r,zh(t,$t,typeof l=="function"?l:Pi)}function m1(t,n,r,l,c){if(pu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ig(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,v={};G.T=v;try{var E=r(c,l),w=G.S;w!==null&&w(v,E),Dg(t,n,E)}catch(z){qh(t,n,z)}finally{G.T=f}}else try{f=r(c,l),Dg(t,n,f)}catch(z){qh(t,n,z)}}function Dg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ng(t,n,l)},function(l){return qh(t,n,l)}):Ng(t,n,r)}function Ng(t,n,r){n.status="fulfilled",n.value=r,Vg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ig(t,r)))}function qh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Vg(n),n=n.next;while(n!==l)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Og(t,n){return n}function Mg(t,n){if(qt){var r=ne.formState;if(r!==null){t:{var l=Rt;if(qt){if(oe){e:{for(var c=oe,f=ai;c.nodeType!==8;){if(!f){c=null;break e}if(c=Fn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Fn(c.nextSibling),l=c.data==="F!";break t}}ps(l)}l=!1}l&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},r.queue=l,r=Jg.bind(null,Rt,l),l.dispatch=r,l=Bh(!1),f=Yh.bind(null,Rt,!1,l.queue),l=rn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=m1.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=Ee();return Ug(n,$t,t)}function Ug(t,n,r){if(n=zh(t,n,Og)[0],t=du(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Il(n)}catch(v){throw v===Al?lu:v}else l=n;n=Ee();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,da(9,mu(),g1.bind(null,c,r),null)),[l,f,t]}function g1(t,n){t.action=n}function Lg(t){var n=Ee(),r=$t;if(r!==null)return Ug(n,r,t);Ee(),n=n.memoizedState,r=Ee();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function da(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=jh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function mu(){return{destroy:void 0,resource:void 0}}function jg(){return Ee().memoizedState}function gu(t,n,r,l){var c=rn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=da(1|n,mu(),r,l)}function Dl(t,n,r,l){var c=Ee();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&Oh(l,$t.memoizedState.deps)?c.memoizedState=da(n,f,r,l):(Rt.flags|=t,c.memoizedState=da(1|n,f,r,l))}function kg(t,n){gu(8390656,8,t,n)}function zg(t,n){Dl(2048,8,t,n)}function Pg(t,n){return Dl(4,2,t,n)}function Bg(t,n){return Dl(4,4,t,n)}function qg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hg(t,n,r){r=r!=null?r.concat([t]):null,Dl(4,4,qg.bind(null,n,t),r)}function Hh(){}function Gg(t,n){var r=Ee();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Oh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Fg(t,n){var r=Ee();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Oh(n,l[1]))return l[0];if(l=t(),Es){dn(!0);try{t()}finally{dn(!1)}}return r.memoizedState=[l,n],l}function Gh(t,n,r){return r===void 0||(cr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Kp(),Rt.lanes|=t,yr|=t,r)}function Qg(t,n,r,l){return gn(r,n)?r:ca.current!==null?(t=Gh(t,r,l),gn(t,n)||(Me=!0),t):(cr&42)===0?(Me=!0,t.memoizedState=r):(t=Kp(),Rt.lanes|=t,yr|=t,n)}function Yg(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,Yh(t,!1,n,r);try{var w=c(),z=G.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=h1(w,l);Nl(t,n,F,En(t))}else Nl(t,n,l,En(t))}catch(K){Nl(t,n,{then:function(){},status:"rejected",reason:K},En())}finally{nt.p=f,G.T=v}}function p1(){}function Fh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Kg(t).queue;Yg(t,c,n,ot,r===null?p1:function(){return Xg(t),r(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Kg(t).next.queue;Nl(t,n,{},En())}function Qh(){return Ye(Kl)}function $g(){return Ee().memoizedState}function Zg(){return Ee().memoizedState}function y1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();t=or(r);var l=ur(n,t,r);l!==null&&(Tn(l,n,r),bl(l,n,r)),n={cache:Ah()},t.payload=n;return}n=n.return}}function _1(t,n,r){var l=En();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},pu(t)?Wg(n,r):(r=fh(t,n,r,l),r!==null&&(Tn(r,t,l),tp(r,n,l)))}function Jg(t,n,r){var l=En();Nl(t,n,r,l)}function Nl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(pu(t))Wg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,gn(E,v))return Wo(t,n,c,0),ne===null&&Jo(),!1}catch{}finally{}if(r=fh(t,n,c,l),r!==null)return Tn(r,t,l),tp(r,n,l),!0}return!1}function Yh(t,n,r,l){if(l={lane:2,revertLane:Rf(),action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(n)throw Error(a(479))}else n=fh(t,r,l,2),n!==null&&Tn(n,t,2)}function pu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Wg(t,n){ha=cu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function tp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ja(t,r)}}var yu={readContext:Ye,use:fu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},ep={readContext:Ye,use:fu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ye,useEffect:kg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,gu(4194308,4,qg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return gu(4194308,4,t,n)},useInsertionEffect:function(t,n){gu(4,2,t,n)},useMemo:function(t,n){var r=rn();n=n===void 0?null:n;var l=t();if(Es){dn(!0);try{t()}finally{dn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=rn();if(r!==void 0){var c=r(n);if(Es){dn(!0);try{r(n)}finally{dn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=_1.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Bh(t);var n=t.queue,r=Jg.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Hh,useDeferredValue:function(t,n){var r=rn();return Gh(r,t,n)},useTransition:function(){var t=Bh(!1);return t=Yg.bind(null,Rt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=rn();if(qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ne===null)throw Error(a(349));(Lt&124)!==0||Ag(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,kg(bg.bind(null,l,f,t),[t]),l.flags|=2048,da(9,mu(),Sg.bind(null,l,f,r,n),null),r},useId:function(){var t=rn(),n=ne.identifierPrefix;if(qt){var r=ji,l=Li;r=(l&~(1<<32-Qe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=hu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=f1++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Yh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:kh,useCacheRefresh:function(){return rn().memoizedState=y1.bind(null,Rt)}},np={readContext:Ye,use:fu,useCallback:Gg,useContext:Ye,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Pg,useLayoutEffect:Bg,useMemo:Fg,useReducer:du,useRef:jg,useState:function(){return du(Pi)},useDebugValue:Hh,useDeferredValue:function(t,n){var r=Ee();return Qg(r,$t.memoizedState,t,n)},useTransition:function(){var t=du(Pi)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Qh,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=Ee();return Cg(r,$t,t,n)},useMemoCache:kh,useCacheRefresh:Zg},v1={readContext:Ye,use:fu,useCallback:Gg,useContext:Ye,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Pg,useLayoutEffect:Bg,useMemo:Fg,useReducer:Ph,useRef:jg,useState:function(){return Ph(Pi)},useDebugValue:Hh,useDeferredValue:function(t,n){var r=Ee();return $t===null?Gh(r,t,n):Qg(r,$t.memoizedState,t,n)},useTransition:function(){var t=Ph(Pi)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Qh,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var r=Ee();return $t!==null?Cg(r,$t,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:kh,useCacheRefresh:Zg},ma=null,Vl=0;function _u(t){var n=Vl;return Vl+=1,ma===null&&(ma=[]),dg(ma,t,n)}function Ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function vu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){var n=t._init;return n(t._payload)}function rp(t){function n(U,V){if(t){var k=U.deletions;k===null?(U.deletions=[V],U.flags|=16):k.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=Ui(U,V),U.index=0,U.sibling=null,U}function f(U,V,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<V?(U.flags|=67108866,V):k):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,k,Q){return V===null||V.tag!==6?(V=mh(k,U.mode,Q),V.return=U,V):(V=c(V,k),V.return=U,V)}function w(U,V,k,Q){var at=k.type;return at===J?F(U,V,k.props.children,Q,k.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&ip(at)===V.type)?(V=c(V,k.props),Ol(V,k),V.return=U,V):(V=eu(k.type,k.key,k.props,null,U.mode,Q),Ol(V,k),V.return=U,V)}function z(U,V,k,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==k.containerInfo||V.stateNode.implementation!==k.implementation?(V=gh(k,U.mode,Q),V.return=U,V):(V=c(V,k.children||[]),V.return=U,V)}function F(U,V,k,Q,at){return V===null||V.tag!==7?(V=fs(k,U.mode,Q,at),V.return=U,V):(V=c(V,k),V.return=U,V)}function K(U,V,k){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=mh(""+V,U.mode,k),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return k=eu(V.type,V.key,V.props,null,U.mode,k),Ol(k,V),k.return=U,k;case H:return V=gh(V,U.mode,k),V.return=U,V;case S:var Q=V._init;return V=Q(V._payload),K(U,V,k)}if(ee(V)||L(V))return V=fs(V,U.mode,k,null),V.return=U,V;if(typeof V.then=="function")return K(U,_u(V),k);if(V.$$typeof===ct)return K(U,su(U,V),k);vu(U,V)}return null}function P(U,V,k,Q){var at=V!==null?V.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return at!==null?null:E(U,V,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return k.key===at?w(U,V,k,Q):null;case H:return k.key===at?z(U,V,k,Q):null;case S:return at=k._init,k=at(k._payload),P(U,V,k,Q)}if(ee(k)||L(k))return at!==null?null:F(U,V,k,Q,null);if(typeof k.then=="function")return P(U,V,_u(k),Q);if(k.$$typeof===ct)return P(U,V,su(U,k),Q);vu(U,k)}return null}function B(U,V,k,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(k)||null,E(V,U,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return U=U.get(Q.key===null?k:Q.key)||null,w(V,U,Q,at);case H:return U=U.get(Q.key===null?k:Q.key)||null,z(V,U,Q,at);case S:var Ct=Q._init;return Q=Ct(Q._payload),B(U,V,k,Q,at)}if(ee(Q)||L(Q))return U=U.get(k)||null,F(V,U,Q,at,null);if(typeof Q.then=="function")return B(U,V,k,_u(Q),at);if(Q.$$typeof===ct)return B(U,V,k,su(V,Q),at);vu(V,Q)}return null}function _t(U,V,k,Q){for(var at=null,Ct=null,ut=V,mt=V=0,Ue=null;ut!==null&&mt<k.length;mt++){ut.index>mt?(Ue=ut,ut=null):Ue=ut.sibling;var Pt=P(U,ut,k[mt],Q);if(Pt===null){ut===null&&(ut=Ue);break}t&&ut&&Pt.alternate===null&&n(U,ut),V=f(Pt,V,mt),Ct===null?at=Pt:Ct.sibling=Pt,Ct=Pt,ut=Ue}if(mt===k.length)return r(U,ut),qt&&ms(U,mt),at;if(ut===null){for(;mt<k.length;mt++)ut=K(U,k[mt],Q),ut!==null&&(V=f(ut,V,mt),Ct===null?at=ut:Ct.sibling=ut,Ct=ut);return qt&&ms(U,mt),at}for(ut=l(ut);mt<k.length;mt++)Ue=B(ut,U,mt,k[mt],Q),Ue!==null&&(t&&Ue.alternate!==null&&ut.delete(Ue.key===null?mt:Ue.key),V=f(Ue,V,mt),Ct===null?at=Ue:Ct.sibling=Ue,Ct=Ue);return t&&ut.forEach(function(Rr){return n(U,Rr)}),qt&&ms(U,mt),at}function dt(U,V,k,Q){if(k==null)throw Error(a(151));for(var at=null,Ct=null,ut=V,mt=V=0,Ue=null,Pt=k.next();ut!==null&&!Pt.done;mt++,Pt=k.next()){ut.index>mt?(Ue=ut,ut=null):Ue=ut.sibling;var Rr=P(U,ut,Pt.value,Q);if(Rr===null){ut===null&&(ut=Ue);break}t&&ut&&Rr.alternate===null&&n(U,ut),V=f(Rr,V,mt),Ct===null?at=Rr:Ct.sibling=Rr,Ct=Rr,ut=Ue}if(Pt.done)return r(U,ut),qt&&ms(U,mt),at;if(ut===null){for(;!Pt.done;mt++,Pt=k.next())Pt=K(U,Pt.value,Q),Pt!==null&&(V=f(Pt,V,mt),Ct===null?at=Pt:Ct.sibling=Pt,Ct=Pt);return qt&&ms(U,mt),at}for(ut=l(ut);!Pt.done;mt++,Pt=k.next())Pt=B(ut,U,mt,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&ut.delete(Pt.key===null?mt:Pt.key),V=f(Pt,V,mt),Ct===null?at=Pt:Ct.sibling=Pt,Ct=Pt);return t&&ut.forEach(function(ET){return n(U,ET)}),qt&&ms(U,mt),at}function Jt(U,V,k,Q){if(typeof k=="object"&&k!==null&&k.type===J&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case D:t:{for(var at=k.key;V!==null;){if(V.key===at){if(at=k.type,at===J){if(V.tag===7){r(U,V.sibling),Q=c(V,k.props.children),Q.return=U,U=Q;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&ip(at)===V.type){r(U,V.sibling),Q=c(V,k.props),Ol(Q,k),Q.return=U,U=Q;break t}r(U,V);break}else n(U,V);V=V.sibling}k.type===J?(Q=fs(k.props.children,U.mode,Q,k.key),Q.return=U,U=Q):(Q=eu(k.type,k.key,k.props,null,U.mode,Q),Ol(Q,k),Q.return=U,U=Q)}return v(U);case H:t:{for(at=k.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===k.containerInfo&&V.stateNode.implementation===k.implementation){r(U,V.sibling),Q=c(V,k.children||[]),Q.return=U,U=Q;break t}else{r(U,V);break}else n(U,V);V=V.sibling}Q=gh(k,U.mode,Q),Q.return=U,U=Q}return v(U);case S:return at=k._init,k=at(k._payload),Jt(U,V,k,Q)}if(ee(k))return _t(U,V,k,Q);if(L(k)){if(at=L(k),typeof at!="function")throw Error(a(150));return k=at.call(k),dt(U,V,k,Q)}if(typeof k.then=="function")return Jt(U,V,_u(k),Q);if(k.$$typeof===ct)return Jt(U,V,su(U,k),Q);vu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,V!==null&&V.tag===6?(r(U,V.sibling),Q=c(V,k),Q.return=U,U=Q):(r(U,V),Q=mh(k,U.mode,Q),Q.return=U,U=Q),v(U)):r(U,V)}return function(U,V,k,Q){try{Vl=0;var at=Jt(U,V,k,Q);return ma=null,at}catch(ut){if(ut===Al||ut===lu)throw ut;var Ct=pn(29,ut,null,U.mode);return Ct.lanes=Q,Ct.return=U,Ct}finally{}}}var ga=rp(!0),sp=rp(!1),xn=Z(null),li=null;function hr(t){var n=t.alternate;tt(De,De.current&1),tt(xn,t),li===null&&(n===null||ca.current!==null||n.memoizedState!==null)&&(li=t)}function ap(t){if(t.tag===22){if(tt(De,De.current),tt(xn,t),li===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(li=t)}}else fr()}function fr(){tt(De,De.current),tt(xn,xn.current)}function Bi(t){it(xn),li===t&&(li=null),it(De)}var De=Z(0);function Eu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||kf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Kh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=En(),c=or(l);c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&(Tn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=En(),c=or(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&(Tn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=En(),l=or(r);l.tag=2,n!=null&&(l.callback=n),n=ur(t,l,r),n!==null&&(Tn(n,t,r),bl(n,t,r))}};function lp(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ml(r,l)||!ml(c,f):!0}function op(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Xh.enqueueReplaceState(n,n.state,null)}function Ts(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function up(t){Tu(t)}function cp(t){console.error(t)}function hp(t){Tu(t)}function Au(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $h(t,n,r){return r=or(r),r.tag=3,r.payload={element:null},r.callback=function(){Au(t,n)},r}function dp(t){return t=or(t),t.tag=3,t}function mp(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){fp(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fp(n,r,l),typeof c!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function E1(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&vl(n,r,c,!0),r=xn.current,r!==null){switch(r.tag){case 13:return li===null?Tf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===wh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Sf(t,l,c)),!1;case 22:return r.flags|=65536,l===wh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Sf(t,l,c)),!1}throw Error(a(435,r.tag))}return Sf(t,l,c),Tf(),!1}if(qt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==_h&&(t=Error(a(422),{cause:l}),_l(Nn(t,r)))):(l!==_h&&(n=Error(a(423),{cause:l}),_l(Nn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Nn(l,r),c=$h(t.stateNode,l,c),Ih(t,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,r),zl===null?zl=[f]:zl.push(f),ue!==4&&(ue=2),n===null)return!0;l=Nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=$h(r.stateNode,l,t),Ih(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=dp(c),mp(c,t,r,l),Ih(r,c),!1}r=r.return}while(r!==null);return!1}var gp=Error(a(461)),Me=!1;function ze(t,n,r,l){n.child=t===null?sp(n,null,r,l):ga(n,t.child,r,l)}function pp(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return _s(n),l=Mh(t,n,r,v,f,c),E=xh(),t!==null&&!Me?(Uh(t,n,c),qi(t,n,c)):(qt&&E&&ph(n),n.flags|=1,ze(t,n,l,c),n.child)}function yp(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!dh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,_p(t,n,f,l,c)):(t=eu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sf(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:ml,r(v,l)&&t.ref===n.ref)return qi(t,n,c)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function _p(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(ml(f,l)&&t.ref===n.ref)if(Me=!1,n.pendingProps=l=f,sf(t,c))(t.flags&131072)!==0&&(Me=!0);else return n.lanes=t.lanes,qi(t,n,c)}return Zh(t,n,r,l,c)}function vp(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ep(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(n,f!==null?f.cachePool:null),f!==null?_g(n,f):Nh(),ap(n);else return n.lanes=n.childLanes=536870912,Ep(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(au(n,f.cachePool),_g(n,f),fr(),n.memoizedState=null):(t!==null&&au(n,null),Nh(),fr());return ze(t,n,c,r),n.child}function Ep(t,n,r,l){var c=bh();return c=c===null?null:{parent:Ie._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&au(n,null),Nh(),ap(n),t!==null&&vl(t,n,l,!0),null}function Su(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Zh(t,n,r,l,c){return _s(n),r=Mh(t,n,r,l,void 0,c),l=xh(),t!==null&&!Me?(Uh(t,n,c),qi(t,n,c)):(qt&&l&&ph(n),n.flags|=1,ze(t,n,r,c),n.child)}function Tp(t,n,r,l,c,f){return _s(n),n.updateQueue=null,r=Eg(n,l,r,c),vg(t),l=xh(),t!==null&&!Me?(Uh(t,n,f),qi(t,n,f)):(qt&&l&&ph(n),n.flags|=1,ze(t,n,r,f),n.child)}function Ap(t,n,r,l,c){if(_s(n),n.stateNode===null){var f=sa,v=r.contextType;typeof v=="object"&&v!==null&&(f=Ye(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Rh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Ye(v):sa,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Kh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Xh.enqueueReplaceState(f,f.state,null),Rl(n,l,f,c),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=Ts(r,E);f.props=w;var z=f.context,F=r.contextType;v=sa,typeof F=="object"&&F!==null&&(v=Ye(F));var K=r.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&op(n,f,l,v),lr=!1;var P=n.memoizedState;f.state=P,Rl(n,l,f,c),wl(),z=n.memoizedState,E||P!==z||lr?(typeof K=="function"&&(Kh(n,r,K,l),z=n.memoizedState),(w=lr||lp(n,r,w,l,P,z,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ch(t,n),v=n.memoizedProps,F=Ts(r,v),f.props=F,K=n.pendingProps,P=f.context,z=r.contextType,w=sa,typeof z=="object"&&z!==null&&(w=Ye(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||P!==w)&&op(n,f,l,w),lr=!1,P=n.memoizedState,f.state=P,Rl(n,l,f,c),wl();var B=n.memoizedState;v!==K||P!==B||lr||t!==null&&t.dependencies!==null&&ru(t.dependencies)?(typeof E=="function"&&(Kh(n,r,E,l),B=n.memoizedState),(F=lr||lp(n,r,F,l,P,B,w)||t!==null&&t.dependencies!==null&&ru(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=w,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Su(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ga(n,t.child,null,c),n.child=ga(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=qi(t,n,c),t}function Sp(t,n,r,l){return yl(),n.flags|=256,ze(t,n,r,l),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(t){return{baseLanes:t,cachePool:cg()}}function tf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Un),t}function bp(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?hr(n):fr(),qt){var E=oe,w;if(w=E){t:{for(w=E,E=ai;w.nodeType!==8;){if(!E){E=null;break t}if(w=Fn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:ds!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},w=pn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,nn=n,oe=null,w=!0):w=!1}w||ps(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return kf(E)?n.lanes=32:n.lanes=536870912,null;Bi(n)}return E=l.children,l=l.fallback,c?(fr(),c=n.mode,E=bu({mode:"hidden",children:E},c),l=fs(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Wh(r),c.childLanes=tf(t,v,r),n.memoizedState=Jh,l):(hr(n),ef(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(hr(n),n.flags&=-257,n=nf(t,n,r)):n.memoizedState!==null?(fr(),n.child=t.child,n.flags|=128,n=null):(fr(),c=l.fallback,E=n.mode,l=bu({mode:"visible",children:l.children},E),c=fs(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ga(n,t.child,null,r),l=n.child,l.memoizedState=Wh(r),l.childLanes=tf(t,v,r),n.memoizedState=Jh,n=c);else if(hr(n),kf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(a(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),n=nf(t,n,r)}else if(Me||vl(t,n,r,!1),v=(r&t.childLanes)!==0,Me||v){if(v=ne,v!==null&&(l=r&-r,l=(l&42)!==0?1:Wi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ra(t,l),Tn(v,t,l),gp;E.data==="$?"||Tf(),n=nf(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,oe=Fn(E.nextSibling),nn=n,qt=!0,gs=null,ai=!1,t!==null&&(On[Mn++]=Li,On[Mn++]=ji,On[Mn++]=ds,Li=t.id,ji=t.overflow,ds=n),n=ef(n,l.children),n.flags|=4096);return n}return c?(fr(),c=l.fallback,E=n.mode,w=t.child,z=w.sibling,l=Ui(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?c=Ui(z,c):(c=fs(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Wh(r):(w=E.cachePool,w!==null?(z=Ie._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=cg(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=tf(t,v,r),n.memoizedState=Jh,l):(hr(n),r=t.child,t=r.sibling,r=Ui(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function ef(t,n){return n=bu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bu(t,n){return t=pn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,n,r){return ga(n,t.child,null,r),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,r)}function rf(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Rp(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=De.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,r,n);else if(t.tag===19)wp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(De,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Eu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),rf(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}rf(n,!0,r,null,f);break;case"together":rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),yr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(vl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ui(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ui(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function sf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ru(t)))}function T1(t,n,r){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),ar(n,Ie,t.memoizedState.cache),yl();break;case 27:case 5:Kn(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:ar(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?bp(t,n,r):(hr(n),t=qi(t,n,r),t!==null?t.sibling:null);hr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(vl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Rp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(De,De.current),l)break;return null;case 22:case 23:return n.lanes=0,vp(t,n,r);case 24:ar(n,Ie,t.memoizedState.cache)}return qi(t,n,r)}function Cp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Me=!0;else{if(!sf(t,r)&&(n.flags&128)===0)return Me=!1,T1(t,n,r);Me=(t.flags&131072)!==0}else Me=!1,qt&&(n.flags&1048576)!==0&&ig(n,iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")dh(l)?(t=Ts(l,t),n.tag=1,n=Ap(null,n,l,t,r)):(n.tag=0,n=Zh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Bt){n.tag=11,n=pp(null,n,l,t,r);break t}else if(c===x){n.tag=14,n=yp(null,n,l,t,r);break t}}throw n=ce(l)||l,Error(a(306,n,""))}}return n;case 0:return Zh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Ts(l,n.pendingProps),Ap(t,n,l,c,r);case 3:t:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Ch(t,n),Rl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,ar(n,Ie,l),l!==f.cache&&Th(n,[Ie],r,!0),wl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sp(t,n,l,r);break t}else if(l!==c){c=Nn(Error(a(424)),n),_l(c),n=Sp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Fn(t.firstChild),nn=n,qt=!0,gs=null,ai=!0,r=sp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(yl(),l===c){n=qi(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return Su(t,n),t===null?(r=Vy(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,t=n.pendingProps,l=ku(yt.current).createElement(r),l[we]=n,l[ye]=t,Be(l,r,t),fe(l),n.stateNode=l):n.memoizedState=Vy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Kn(n),t===null&&qt&&(l=n.stateNode=Iy(n.type,n.pendingProps,yt.current),nn=n,ai=!0,c=oe,Tr(n.type)?(zf=c,oe=Fn(l.firstChild)):oe=c),ze(t,n,n.pendingProps.children,r),Su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((c=l=oe)&&(l=X1(l,n.type,n.pendingProps,ai),l!==null?(n.stateNode=l,nn=n,oe=Fn(l.firstChild),ai=!1,c=!0):c=!1),c||ps(n)),Kn(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Uf(c,f)?l=null:v!==null&&Uf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Mh(t,n,d1,null,null,r),Kl._currentValue=c),Su(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&qt&&((t=r=oe)&&(r=$1(r,n.pendingProps,ai),r!==null?(n.stateNode=r,nn=n,oe=null,t=!0):t=!1),t||ps(n)),null;case 13:return bp(t,n,r);case 4:return Kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ga(n,null,l,r):ze(t,n,l,r),n.child;case 11:return pp(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ar(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_s(n),c=Ye(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return yp(t,n,n.type,n.pendingProps,r);case 15:return _p(t,n,n.type,n.pendingProps,r);case 19:return Rp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=bu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ui(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return vp(t,n,r);case 24:return _s(n),l=Ye(Ie),t===null?(c=bh(),c===null&&(c=ne,f=Ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Rh(n),ar(n,Ie,c)):((t.lanes&r)!==0&&(Ch(t,n),Rl(n,null,null,r),wl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ar(n,Ie,l)):(l=f.cache,ar(n,Ie,l),l!==c.cache&&Th(n,[Ie],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(t){t.flags|=4}function Ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ly(n)){if(n=xn.current,n!==null&&((Lt&4194048)===Lt?li!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==li))throw Sl=wh,hg;t.flags|=8192}}function wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$a():536870912,t.lanes|=n,va|=n)}function Ml(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function A1(t,n,r){var l=n.pendingProps;switch(yh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Ie),bn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pl(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ag())),ae(n),null;case 26:return r=n.memoizedState,t===null?(Hi(n),r!==null?(ae(n),Ip(n,r)):(ae(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Hi(n),ae(n),Ip(n,r)):(ae(n),n.flags&=-16777217):(t.memoizedProps!==l&&Hi(n),ae(n),n.flags&=-16777217),null;case 27:zn(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}t=lt.current,pl(n)?rg(n):(t=Iy(c,l,r),n.stateNode=t,Hi(n))}return ae(n),null;case 5:if(zn(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(t=lt.current,pl(n))rg(n);else{switch(c=ku(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Hi(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yt.current,pl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=nn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ty(t.nodeValue,r)),t||ps(n)}else t=ku(t).createTextNode(l),t[we]=n,n.stateNode=t}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=pl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Bi(n),n):(Bi(n),null)}if(Bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),wu(n,n.updateQueue),ae(n),null;case 4:return bn(),t===null&&Nf(n.stateNode.containerInfo),ae(n),null;case 10:return zi(n.type),ae(n),null;case 19:if(it(De),c=n.memoizedState,c===null)return ae(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Ml(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Eu(t),f!==null){for(n.flags|=128,Ml(c,!1),t=f.updateQueue,n.updateQueue=t,wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)ng(r,t),r=r.sibling;return tt(De,De.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Iu&&(n.flags|=128,l=!0,Ml(c,!1),n.lanes=4194304)}else{if(!l)if(t=Eu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,wu(n,t),Ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return ae(n),null}else 2*Je()-c.renderingStartTime>Iu&&r!==536870912&&(n.flags|=128,l=!0,Ml(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=De.current,tt(De,l?t&1|2:t&1),n):(ae(n),null);case 22:case 23:return Bi(n),Vh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(vs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zi(Ie),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function S1(t,n){switch(yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(Ie),bn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return zn(n),null;case 13:if(Bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(De),null;case 4:return bn(),null;case 10:return zi(n.type),null;case 22:case 23:return Bi(n),Vh(),t!==null&&it(vs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(Ie),null;case 25:return null;default:return null}}function Dp(t,n){switch(yh(n),n.tag){case 3:zi(Ie),bn();break;case 26:case 27:case 5:zn(n);break;case 4:bn();break;case 13:Bi(n);break;case 19:it(De);break;case 10:zi(n.type);break;case 22:case 23:Bi(n),Vh(),t!==null&&it(vs);break;case 24:zi(Ie)}}function xl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){Wt(n,n.return,E)}}function dr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var w=r,z=E;try{z()}catch(F){Wt(c,w,F)}}}l=l.next}while(l!==f)}}catch(F){Wt(n,n.return,F)}}function Np(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{yg(n,r)}catch(l){Wt(t,t.return,l)}}}function Vp(t,n,r){r.props=Ts(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Wt(t,n,l)}}function Ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Wt(t,n,c)}}function oi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Wt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Wt(t,n,c)}else r.current=null}function Op(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Wt(t,t.return,c)}}function af(t,n,r){try{var l=t.stateNode;G1(l,t.type,r,n),l[ye]=n}catch(c){Wt(t,t.return,c)}}function Mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tr(t.type)||t.tag===4}function lf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ju));else if(l!==4&&(l===27&&Tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(of(t,n,r),t=t.sibling;t!==null;)of(t,n,r),t=t.sibling}function Ru(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ru(t,n,r),t=t.sibling;t!==null;)Ru(t,n,r),t=t.sibling}function xp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,r),n[we]=t,n[ye]=r}catch(f){Wt(t,t.return,f)}}var Gi=!1,me=!1,uf=!1,Up=typeof WeakSet=="function"?WeakSet:Set,xe=null;function b1(t,n){if(t=t.containerInfo,Mf=Gu,t=Qm(t),ah(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,w=-1,z=0,F=0,K=t,P=null;e:for(;;){for(var B;K!==r||c!==0&&K.nodeType!==3||(E=v+c),K!==f||l!==0&&K.nodeType!==3||(w=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)P=K,K=B;for(;;){if(K===t)break e;if(P===r&&++z===c&&(E=v),P===f&&++F===l&&(w=v),(B=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=B}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(xf={focusedElem:t,selectionRange:r},Gu=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=Ts(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Wt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)jf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Lp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:mr(t,r),l&4&&xl(5,r);break;case 1:if(mr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Wt(r,r.return,v)}else{var c=Ts(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(r,r.return,v)}}l&64&&Np(r),l&512&&Ul(r,r.return);break;case 3:if(mr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yg(t,n)}catch(v){Wt(r,r.return,v)}}break;case 27:n===null&&l&4&&xp(r);case 26:case 5:mr(t,r),n===null&&l&4&&Op(r),l&512&&Ul(r,r.return);break;case 12:mr(t,r);break;case 13:mr(t,r),l&4&&zp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=M1.bind(null,r),Z1(t,r))));break;case 22:if(l=r.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||me,c=Gi;var f=me;Gi=l,(me=n)&&!f?gr(t,r,(r.subtreeFlags&8772)!==0):mr(t,r),Gi=c,me=f}break;case 30:break;default:mr(t,r)}}function jp(t){var n=t.alternate;n!==null&&(t.alternate=null,jp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,sn=!1;function Fi(t,n,r){for(r=r.child;r!==null;)kp(t,n,r),r=r.sibling}function kp(t,n,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ht,r)}catch{}switch(r.tag){case 26:me||oi(r,n),Fi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:me||oi(r,n);var l=se,c=sn;Tr(r.type)&&(se=r.stateNode,sn=!1),Fi(t,n,r),Gl(r.stateNode),se=l,sn=c;break;case 5:me||oi(r,n);case 6:if(l=se,c=sn,se=null,Fi(t,n,r),se=l,sn=c,se!==null)if(sn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(r.stateNode)}catch(f){Wt(r,n,f)}else try{se.removeChild(r.stateNode)}catch(f){Wt(r,n,f)}break;case 18:se!==null&&(sn?(t=se,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Jl(t)):Ry(se,r.stateNode));break;case 4:l=se,c=sn,se=r.stateNode.containerInfo,sn=!0,Fi(t,n,r),se=l,sn=c;break;case 0:case 11:case 14:case 15:me||dr(2,r,n),me||dr(4,r,n),Fi(t,n,r);break;case 1:me||(oi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Vp(r,n,l)),Fi(t,n,r);break;case 21:Fi(t,n,r);break;case 22:me=(l=me)||r.memoizedState!==null,Fi(t,n,r),me=l;break;default:Fi(t,n,r)}}function zp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(r){Wt(n,n.return,r)}}function w1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Up),n;default:throw Error(a(435,t.tag))}}function cf(t,n){var r=w1(t);n.forEach(function(l){var c=x1.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function yn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Tr(E.type)){se=E.stateNode,sn=!1;break t}break;case 5:se=E.stateNode,sn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(se===null)throw Error(a(160));kp(f,v,c),se=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Pp(n,t),n=n.sibling}var Gn=null;function Pp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),_n(t),l&4&&(dr(3,t,t.return),xl(3,t),dr(5,t,t.return));break;case 1:yn(n,t),_n(t),l&512&&(me||r===null||oi(r,r.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Gn;if(yn(n,t),_n(t),l&512&&(me||r===null||oi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$r]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,r),f[we]=t,fe(f),l=f;break t;case"link":var v=xy("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;case"meta":if(v=xy("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,fe(f),l=f}t.stateNode=l}else Uy(c,t.type,t.stateNode);else t.stateNode=My(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Uy(c,t.type,t.stateNode):My(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&af(t,t.memoizedProps,r.memoizedProps)}break;case 27:yn(n,t),_n(t),l&512&&(me||r===null||oi(r,r.return)),r!==null&&l&4&&af(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,t),_n(t),l&512&&(me||r===null||oi(r,r.return)),t.flags&32){c=t.stateNode;try{Rn(c,"")}catch(B){Wt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,af(t,c,r!==null?r.memoizedProps:c)),l&1024&&(uf=!0);break;case 6:if(yn(n,t),_n(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Wt(t,t.return,B)}}break;case 3:if(Bu=null,c=Gn,Gn=zu(n.containerInfo),yn(n,t),Gn=c,_n(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(B){Wt(t,t.return,B)}uf&&(uf=!1,Bp(t));break;case 4:l=Gn,Gn=zu(t.stateNode.containerInfo),yn(n,t),_n(t),Gn=l;break;case 12:yn(n,t),_n(t);break;case 13:yn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(pf=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,z=Gi,F=me;if(Gi=z||c,me=F||w,yn(n,t),me=F,Gi=z,_n(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Gi||me||As(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var K=w.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(B){Wt(w,w.return,B)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(B){Wt(w,w.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,cf(t,r))));break;case 19:yn(n,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 30:break;case 21:break;default:yn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Mp(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=lf(t);Ru(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(Rn(v,""),r.flags&=-33);var E=lf(t);Ru(t,E,v);break;case 3:case 4:var w=r.stateNode.containerInfo,z=lf(t);of(t,z,w);break;default:throw Error(a(161))}}catch(F){Wt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Bp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Bp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function mr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Lp(t,n.alternate,n),n=n.sibling}function As(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:dr(4,n,n.return),As(n);break;case 1:oi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Vp(n,n.return,r),As(n);break;case 27:Gl(n.stateNode);case 26:case 5:oi(n,n.return),As(n);break;case 22:n.memoizedState===null&&As(n);break;case 30:As(n);break;default:As(n)}t=t.sibling}}function gr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:gr(c,f,r),xl(4,f);break;case 1:if(gr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)pg(w[c],E)}catch(z){Wt(l,l.return,z)}}r&&v&64&&Np(f),Ul(f,f.return);break;case 27:xp(f);case 26:case 5:gr(c,f,r),r&&l===null&&v&4&&Op(f),Ul(f,f.return);break;case 12:gr(c,f,r);break;case 13:gr(c,f,r),r&&v&4&&zp(c,f);break;case 22:f.memoizedState===null&&gr(c,f,r),Ul(f,f.return);break;case 30:break;default:gr(c,f,r)}n=n.sibling}}function hf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&El(r))}function ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function ui(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qp(t,n,r,l),n=n.sibling}function qp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,l),c&2048&&xl(9,n);break;case 1:ui(t,n,r,l);break;case 3:ui(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){ui(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Wt(n,n.return,w)}}else ui(t,n,r,l);break;case 13:ui(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,l):Ll(t,n):f._visibility&2?ui(t,n,r,l):(f._visibility|=2,pa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&hf(v,n);break;case 24:ui(t,n,r,l),c&2048&&ff(n.alternate,n);break;default:ui(t,n,r,l)}}function pa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:pa(f,v,E,w,c),xl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?pa(f,v,E,w,c):Ll(f,v):(F._visibility|=2,pa(f,v,E,w,c)),c&&z&2048&&hf(v.alternate,v);break;case 24:pa(f,v,E,w,c),c&&z&2048&&ff(v.alternate,v);break;default:pa(f,v,E,w,c)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Ll(r,l),c&2048&&hf(l.alternate,l);break;case 24:Ll(r,l),c&2048&&ff(l.alternate,l);break;default:Ll(r,l)}n=n.sibling}}var jl=8192;function ya(t){if(t.subtreeFlags&jl)for(t=t.child;t!==null;)Hp(t),t=t.sibling}function Hp(t){switch(t.tag){case 26:ya(t),t.flags&jl&&t.memoizedState!==null&&cT(Gn,t.memoizedState,t.memoizedProps);break;case 5:ya(t);break;case 3:case 4:var n=Gn;Gn=zu(t.stateNode.containerInfo),ya(t),Gn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=jl,jl=16777216,ya(t),jl=n):ya(t));break;default:ya(t)}}function Gp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Qp(l,t)}Gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fp(t),t=t.sibling}function Fp(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&dr(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Cu(t)):kl(t);break;default:kl(t)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Qp(l,t)}Gp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:dr(8,n,n.return),Cu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Cu(n));break;default:Cu(n)}t=t.sibling}}function Qp(t,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:dr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xe=l;else t:for(r=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(jp(l),l===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var R1={getCacheForType:function(t){var n=Ye(Ie),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},C1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,It=null,Lt=0,Yt=0,vn=null,pr=!1,_a=!1,df=!1,Qi=0,ue=0,yr=0,Ss=0,mf=0,Un=0,va=0,zl=null,an=null,gf=!1,pf=0,Iu=1/0,Du=null,_r=null,Pe=0,vr=null,Ea=null,Ta=0,yf=0,_f=null,Yp=null,Pl=0,vf=null;function En(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(G.T!==null){var t=oa;return t!==0?t:Rf()}return tr()}function Kp(){Un===0&&(Un=(Lt&536870912)===0||qt?Xa():536870912);var t=xn.current;return t!==null&&(t.flags|=32),Un}function Tn(t,n,r){(t===ne&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Aa(t,0),Er(t,Lt,Un,!1)),bi(t,r),((Qt&2)===0||t!==ne)&&(t===ne&&((Qt&2)===0&&(Ss|=r),ue===4&&Er(t,Lt,Un,!1)),ci(t))}function Xp(t,n,r){if((Qt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Xr(t,n),c=l?N1(t,n):Af(t,n,!0),f=l;do{if(c===0){_a&&!l&&Er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!I1(r)){c=Af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=zl;var w=E.current.memoizedState.isDehydrated;if(w&&(Aa(E,v).flags|=256),v=Af(E,v,!1),v!==2){if(df&&!w){E.errorRecoveryDisabledLanes|=f,Ss|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Aa(t,0),Er(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Er(l,n,Un,!pr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=pf+300-Je(),10<c)){if(Er(l,n,Un,!pr),zs(l,0,!0)!==0)break t;l.timeoutHandle=by($p.bind(null,l,r,an,Du,gf,n,Un,Ss,va,pr,f,2,-0,0),c);break t}$p(l,r,an,Du,gf,n,Un,Ss,va,pr,f,0,-0,0)}}break}while(!0);ci(t)}function $p(t,n,r,l,c,f,v,E,w,z,F,K,P,B){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:uT},Hp(n),K=hT(),K!==null)){t.cancelPendingCommit=K(iy.bind(null,t,n,f,r,l,c,v,E,w,F,1,P,B)),Er(t,f,v,!z);return}iy(t,n,f,r,l,c,v,E,w)}function I1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Er(t,n,r,l){n&=~mf,n&=~Ss,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Qe(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Xn(t,r,n)}function Nu(){return(Qt&6)===0?(Bl(0),!1):!0}function Ef(){if(It!==null){if(Yt===0)var t=It.return;else t=It,ki=ys=null,Lh(t),ma=null,Vl=0,t=It;for(;t!==null;)Dp(t.alternate,t),t=t.return;It=null}}function Aa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Q1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ef(),ne=t,It=r=Ui(t.current,null),Lt=n,Yt=0,vn=null,pr=!1,_a=Xr(t,n),df=!1,va=Un=mf=Ss=yr=ue=0,an=zl=null,gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Qe(l),f=1<<c;n|=t[c],l&=~f}return Qi=n,Jo(),r}function Zp(t,n){Rt=null,G.H=yu,n===Al||n===lu?(n=mg(),Yt=3):n===hg?(n=mg(),Yt=4):Yt=n===gp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(ue=1,Au(t,Nn(n,t.current)))}function Jp(){var t=G.H;return G.H=yu,t===null?yu:t}function Wp(){var t=G.A;return G.A=R1,t}function Tf(){ue=4,pr||(Lt&4194048)!==Lt&&xn.current!==null||(_a=!0),(yr&134217727)===0&&(Ss&134217727)===0||ne===null||Er(ne,Lt,Un,!1)}function Af(t,n,r){var l=Qt;Qt|=2;var c=Jp(),f=Wp();(ne!==t||Lt!==n)&&(Du=null,Aa(t,n)),n=!1;var v=ue;t:do try{if(Yt!==0&&It!==null){var E=It,w=vn;switch(Yt){case 8:Ef(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var z=Yt;if(Yt=0,vn=null,Sa(t,E,w,z),r&&_a){v=0;break t}break;default:z=Yt,Yt=0,vn=null,Sa(t,E,w,z)}}D1(),v=ue;break}catch(F){Zp(t,F)}while(!0);return n&&t.shellSuspendCounter++,ki=ys=null,Qt=l,G.H=c,G.A=f,It===null&&(ne=null,Lt=0,Jo()),v}function D1(){for(;It!==null;)ty(It)}function N1(t,n){var r=Qt;Qt|=2;var l=Jp(),c=Wp();ne!==t||Lt!==n?(Du=null,Iu=Je()+500,Aa(t,n)):_a=Xr(t,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=vn;e:switch(Yt){case 1:Yt=0,vn=null,Sa(t,n,f,1);break;case 2:case 9:if(fg(f)){Yt=0,vn=null,ey(n);break}n=function(){Yt!==2&&Yt!==9||ne!==t||(Yt=7),ci(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:fg(f)?(Yt=0,vn=null,ey(n)):(Yt=0,vn=null,Sa(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||Ly(v)){Yt=0,vn=null;var w=E.sibling;if(w!==null)It=w;else{var z=E.return;z!==null?(It=z,Vu(z)):It=null}break e}}Yt=0,vn=null,Sa(t,n,f,5);break;case 6:Yt=0,vn=null,Sa(t,n,f,6);break;case 8:Ef(),ue=6;break t;default:throw Error(a(462))}}V1();break}catch(F){Zp(t,F)}while(!0);return ki=ys=null,G.H=l,G.A=c,Qt=r,It!==null?0:(ne=null,Lt=0,Jo(),ue)}function V1(){for(;It!==null&&!Fr();)ty(It)}function ty(t){var n=Cp(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?Vu(t):It=n}function ey(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Tp(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Tp(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Lh(n);default:Dp(r,n),n=It=ng(n,Qi),n=Cp(r,n,Qi)}t.memoizedProps=t.pendingProps,n===null?Vu(t):It=n}function Sa(t,n,r,l){ki=ys=null,Lh(n),ma=null,Vl=0;var c=n.return;try{if(E1(t,c,n,r,Lt)){ue=1,Au(t,Nn(r,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ue=1,Au(t,Nn(r,t.current)),It=null;return}n.flags&32768?(qt||l===1?t=!0:_a||(Lt&536870912)!==0?t=!1:(pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):Vu(n)}function Vu(t){var n=t;do{if((n.flags&32768)!==0){ny(n,pr);return}t=n.return;var r=A1(n.alternate,n,Qi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ue===0&&(ue=5)}function ny(t,n){do{var r=S1(t.alternate,t);if(r!==null){r.flags&=32767,It=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=r}while(t!==null);ue=6,It=null}function iy(t,n,r,l,c,f,v,E,w){t.cancelPendingCommit=null;do Ou();while(Pe!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=hh,Za(t,r,f,v,E,w),t===ne&&(It=ne=null,Lt=0),Ea=n,vr=t,Ta=r,yf=f,_f=c,Yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,U1(Ai,function(){return oy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=nt.p,nt.p=2,v=Qt,Qt|=4;try{b1(t,n,r)}finally{Qt=v,nt.p=c,G.T=l}}Pe=1,ry(),sy(),ay()}}function ry(){if(Pe===1){Pe=0;var t=vr,n=Ea,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Qt;Qt|=4;try{Pp(n,t);var f=xf,v=Qm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Fm(E.ownerDocument.documentElement,E)){if(w!==null&&ah(E)){var z=w.start,F=w.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var B=P.getSelection(),_t=E.textContent.length,dt=Math.min(w.start,_t),Jt=w.end===void 0?dt:Math.min(w.end,_t);!B.extend&&dt>Jt&&(v=Jt,Jt=dt,dt=v);var U=Gm(E,dt),V=Gm(E,Jt);if(U&&V&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==V.node||B.focusOffset!==V.offset)){var k=K.createRange();k.setStart(U.node,U.offset),B.removeAllRanges(),dt>Jt?(B.addRange(k),B.extend(V.node,V.offset)):(k.setEnd(V.node,V.offset),B.addRange(k))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Gu=!!Mf,xf=Mf=null}finally{Qt=c,nt.p=l,G.T=r}}t.current=n,Pe=2}}function sy(){if(Pe===2){Pe=0;var t=vr,n=Ea,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var c=Qt;Qt|=4;try{Lp(t,n.alternate,n)}finally{Qt=c,nt.p=l,G.T=r}}Pe=3}}function ay(){if(Pe===4||Pe===3){Pe=0,ks();var t=vr,n=Ea,r=Ta,l=Yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ea=vr=null,ly(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_r=null),Ps(r),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ht,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=nt.p,nt.p=2,G.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=c}}(Ta&3)!==0&&Ou(),ci(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===vf?Pl++:(Pl=0,vf=t):Pl=0,Bl(0)}}function ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Ou(t){return ry(),sy(),ay(),oy()}function oy(){if(Pe!==5)return!1;var t=vr,n=yf;yf=0;var r=Ps(Ta),l=G.T,c=nt.p;try{nt.p=32>r?32:r,G.T=null,r=_f,_f=null;var f=vr,v=Ta;if(Pe=0,Ea=vr=null,Ta=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,Fp(f.current),qp(f,f.current,v,r),Qt=E,Bl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ht,f)}catch{}return!0}finally{nt.p=c,G.T=l,ly(t,n)}}function uy(t,n,r){n=Nn(r,n),n=$h(t.stateNode,n,2),t=ur(t,n,2),t!==null&&(bi(t,2),ci(t))}function Wt(t,n,r){if(t.tag===3)uy(t,t,r);else for(;n!==null;){if(n.tag===3){uy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=Nn(r,t),r=dp(2),l=ur(n,r,2),l!==null&&(mp(r,l,n,t),bi(l,2),ci(l));break}}n=n.return}}function Sf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new C1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(df=!0,c.add(r),t=O1.bind(null,t,n,r),n.then(t,t))}function O1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ne===t&&(Lt&r)===r&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>Je()-pf?(Qt&2)===0&&Aa(t,0):mf|=r,va===Lt&&(va=0)),ci(t)}function cy(t,n){n===0&&(n=$a()),t=ra(t,n),t!==null&&(bi(t,n),ci(t))}function M1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),cy(t,r)}function x1(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),cy(t,r)}function U1(t,n){return vi(t,n)}var Mu=null,ba=null,bf=!1,xu=!1,wf=!1,bs=0;function ci(t){t!==ba&&t.next===null&&(ba===null?Mu=ba=t:ba=ba.next=t),xu=!0,bf||(bf=!0,j1())}function Bl(t,n){if(!wf&&xu){wf=!0;do for(var r=!1,l=Mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Qe(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,my(l,f))}else f=Lt,f=zs(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Xr(l,f)||(r=!0,my(l,f));l=l.next}while(r);wf=!1}}function L1(){hy()}function hy(){xu=bf=!1;var t=0;bs!==0&&(F1()&&(t=bs),bs=0);for(var n=Je(),r=null,l=Mu;l!==null;){var c=l.next,f=fy(l,n);f===0?(l.next=null,r===null?Mu=c:r.next=c,c===null&&(ba=r)):(r=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=c}Bl(t)}function fy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Qe(f),E=1<<v,w=c[v];w===-1?((E&r)===0||(E&l)!==0)&&(c[v]=Ka(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=ne,r=Lt,r=zs(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ei(l),Ps(r)){case 2:case 8:r=Ti;break;case 32:r=Ai;break;case 268435456:r=ft;break;default:r=Ai}return l=dy.bind(null,t),r=vi(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ei(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ou()&&t.callbackNode!==r)return null;var l=Lt;return l=zs(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xp(t,l,n),fy(t,Je()),t.callbackNode!=null&&t.callbackNode===r?dy.bind(null,t):null)}function my(t,n){if(Ou())return null;Xp(t,n,!0)}function j1(){Y1(function(){(Qt&6)!==0?vi(Ji,L1):hy()})}function Rf(){return bs===0&&(bs=Xa()),bs}function gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qs(""+t)}function py(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function k1(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=gy((c[ye]||null).action),v=l.submitter;v&&(n=(n=v[ye]||null)?gy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ys("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(bs!==0){var w=v?py(c,v):new FormData(c);Fh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?py(c,v):new FormData(c),Fh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Cf=0;Cf<ch.length;Cf++){var If=ch[Cf],z1=If.toLowerCase(),P1=If[0].toUpperCase()+If.slice(1);Hn(z1,"on"+P1)}Hn(Xm,"onAnimationEnd"),Hn($m,"onAnimationIteration"),Hn(Zm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(i1,"onTransitionRun"),Hn(r1,"onTransitionStart"),Hn(s1,"onTransitionCancel"),Hn(Jm,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function yy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){Tu(F)}c.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){Tu(F)}c.currentTarget=null,f=w}}}}function Dt(t,n){var r=n[Wa];r===void 0&&(r=n[Wa]=new Set);var l=t+"__bubble";r.has(l)||(_y(n,t,2,!1),r.add(l))}function Df(t,n,r){var l=0;n&&(l|=4),_y(r,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[Uu]){t[Uu]=!0,tl.forEach(function(r){r!=="selectionchange"&&(B1.has(r)||Df(r,!1,t),Df(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,Df("selectionchange",!1,n))}}function _y(t,n,r,l){switch(qy(n)){case 2:var c=mT;break;case 8:c=gT;break;default:c=Gf}r=c.bind(null,n,r,t),c=void 0,!In||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Vf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=wi(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}E=E.parentNode}}l=l.return}jo(function(){var z=f,F=Cn(r),K=[];t:{var P=Wm.get(t);if(P!==void 0){var B=Ys,_t=t;switch(t){case"keypress":if(ei(r)===0)break t;case"keydown":case"keyup":B=Ws;break;case"focusin":_t="focus",B=$s;break;case"focusout":_t="blur",B=$s;break;case"beforeblur":case"afterblur":B=$s;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Fo;break;case Xm:case $m:case Zm:B=Zs;break;case Jm:B=Yo;break;case"scroll":case"scrollend":B=ko;break;case"wheel":B=ta;break;case"copy":case"cut":case"paste":B=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=fl;break;case"toggle":case"beforetoggle":B=Xo}var dt=(n&4)!==0,Jt=!dt&&(t==="scroll"||t==="scrollend"),U=dt?P!==null?P+"Capture":null:P;dt=[];for(var V=z,k;V!==null;){var Q=V;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||U===null||(Q=is(V,U),Q!=null&&dt.push(Hl(V,Q,k))),Jt)break;V=V.return}0<dt.length&&(P=new B(P,_t,null,r,F),K.push({event:P,listeners:dt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&r!==Di&&(_t=r.relatedTarget||r.fromElement)&&(wi(_t)||_t[wn]))break t;if((B||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,B?(_t=r.relatedTarget||r.toElement,B=z,_t=_t?wi(_t):null,_t!==null&&(Jt=h(_t),dt=_t.tag,_t!==Jt||dt!==5&&dt!==27&&dt!==6)&&(_t=null)):(B=null,_t=z),B!==_t)){if(dt=Dn,Q="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(dt=fl,Q="onPointerLeave",U="onPointerEnter",V="pointer"),Jt=B==null?P:Zn(B),k=_t==null?P:Zn(_t),P=new dt(Q,V+"leave",B,r,F),P.target=Jt,P.relatedTarget=k,Q=null,wi(F)===z&&(dt=new dt(U,V+"enter",_t,r,F),dt.target=k,dt.relatedTarget=Jt,Q=dt),Jt=Q,B&&_t)e:{for(dt=B,U=_t,V=0,k=dt;k;k=wa(k))V++;for(k=0,Q=U;Q;Q=wa(Q))k++;for(;0<V-k;)dt=wa(dt),V--;for(;0<k-V;)U=wa(U),k--;for(;V--;){if(dt===U||U!==null&&dt===U.alternate)break e;dt=wa(dt),U=wa(U)}dt=null}else dt=null;B!==null&&vy(K,P,B,dt,!1),_t!==null&&Jt!==null&&vy(K,Jt,_t,dt,!0)}}t:{if(P=z?Zn(z):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var at=km;else if(Ce(P))if(zm)at=t1;else{at=JE;var Ct=ZE}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&sl(z.elementType)&&(at=km):at=WE;if(at&&(at=at(t,z))){xi(K,at,r,F);break t}Ct&&Ct(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&rr(P,"number",P.value)}switch(Ct=z?Zn(z):window,t){case"focusin":(Ce(Ct)||Ct.contentEditable==="true")&&(ea=Ct,lh=z,gl=null);break;case"focusout":gl=lh=ea=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Ym(K,r,F);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Ym(K,r,F)}var ut;if(ri)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else xt?q(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(xt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&xt&&(ut=ll()):(ti=F,sr="value"in ti?ti.value:ti.textContent,xt=!0)),Ct=Lu(z,mt),0<Ct.length&&(mt=new cl(mt,t,null,r,F),K.push({event:mt,listeners:Ct}),ut?mt.data=ut:(ut=et(r),ut!==null&&(mt.data=ut)))),(ut=m?Re(t,r):Ut(t,r))&&(mt=Lu(z,"onBeforeInput"),0<mt.length&&(Ct=new cl("onBeforeInput","beforeinput",null,r,F),K.push({event:Ct,listeners:mt}),Ct.data=ut)),k1(K,t,z,r,F)}yy(K,n)})}function Hl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Lu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=is(t,r),c!=null&&l.unshift(Hl(t,c,f)),c=is(t,n),c!=null&&l.push(Hl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||z===null||(w=z,c?(z=is(r,f),z!=null&&v.unshift(Hl(r,z,w))):c||(z=is(r,f),z!=null&&v.push(Hl(r,z,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(q1,`
`).replace(H1,"")}function Ty(t,n){return n=Ey(n),Ey(t)===n}function ju(){}function Zt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Rn(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,r,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Qs(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Qs(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ju);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Qs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":je(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=th.get(r)||r,ir(t,r,l))}}function Of(t,n,r,l,c,f){switch(r){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ir(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(t,n,f,v,r,null)}}c&&Zt(t,n,"srcSet",r.srcSet,r,null),l&&Zt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=v=c=null,w=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":w=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(t,n,l,F,r,null)}}ts(t,f,E,w,z,v,c,!1),Fs(t);return;case"select":Dt("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Zt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?Ii(t,!!l,n,!1):r!=null&&Ii(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(t,n,v,E,r,null)}es(t,l,c,f),Fs(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,w,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)Dt(ql[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(t,n,z,l,r,null)}return;default:if(sl(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&Of(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Zt(t,n,E,l,r,null))}function G1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,w=null,z=null,F=null;for(B in r){var K=r[B];if(r.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=K;default:l.hasOwnProperty(B)||Zt(t,n,B,null,l,K)}}for(var P in l){var B=l[P];if(K=r[P],l.hasOwnProperty(P)&&(B!=null||K!=null))switch(P){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&Zt(t,n,P,B,l,K)}}mn(t,v,E,w,z,F,f,c);return;case"select":B=v=E=P=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Zt(t,n,c,f,l,w)}n=E,r=v,l=B,P!=null?Ii(t,!!r,P,!1):!!l!=!!r&&(n!=null?Ii(t,!!r,n,!0):Ii(t,!!r,r?[]:"",!1));return;case"textarea":B=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":P=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Zt(t,n,v,c,l,f)}Xt(t,P,B);return;case"option":for(var _t in r)if(P=r[_t],r.hasOwnProperty(_t)&&P!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Zt(t,n,_t,null,l,P)}for(w in l)if(P=l[w],B=r[w],l.hasOwnProperty(w)&&P!==B&&(P!=null||B!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(t,n,w,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)P=r[dt],r.hasOwnProperty(dt)&&P!=null&&!l.hasOwnProperty(dt)&&Zt(t,n,dt,null,l,P);for(z in l)if(P=l[z],B=r[z],l.hasOwnProperty(z)&&P!==B&&(P!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Zt(t,n,z,P,l,B)}return;default:if(sl(n)){for(var Jt in r)P=r[Jt],r.hasOwnProperty(Jt)&&P!==void 0&&!l.hasOwnProperty(Jt)&&Of(t,n,Jt,void 0,l,P);for(F in l)P=l[F],B=r[F],!l.hasOwnProperty(F)||P===B||P===void 0&&B===void 0||Of(t,n,F,P,l,B);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Zt(t,n,U,null,l,P);for(K in l)P=l[K],B=r[K],!l.hasOwnProperty(K)||P===B||P==null&&B==null||Zt(t,n,K,P,l,B)}var Mf=null,xf=null;function ku(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lf=null;function F1(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(K1)}:by;function K1(t){setTimeout(function(){throw t})}function Tr(t){return t==="head"}function Ry(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Gl(v.documentElement),r&2&&Gl(v.body),r&4)for(r=v.head,Gl(r),v=r.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[$r]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),Jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Jl(n)}function jf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":jf(r),nr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function X1(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$r])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function $1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Z1(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var zf=null;function Cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Iy(t,n,r){switch(n=ku(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nr(t)}var Ln=new Map,Dy=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=nt.d;nt.d={f:J1,r:W1,D:tT,C:eT,L:nT,m:iT,X:sT,S:rT,M:aT};function J1(){var t=Yi.f(),n=Nu();return t||n}function W1(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):Yi.r(t)}var Ra=typeof document>"u"?null:document;function Ny(t,n,r){var l=Ra;if(l&&typeof n=="string"&&n){var c=_e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Dy.has(c)||(Dy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),fe(n),l.head.appendChild(n)))}}function tT(t){Yi.D(t),Ny("dns-prefetch",t,null)}function eT(t,n){Yi.C(t,n),Ny("preconnect",t,n)}function nT(t,n,r){Yi.L(t,n,r);var l=Ra;if(l&&t&&n){var c='link[rel="preload"][as="'+_e(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+_e(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+_e(r.imageSizes)+'"]')):c+='[href="'+_e(t)+'"]';var f=c;switch(n){case"style":f=Ca(t);break;case"script":f=Ia(t)}Ln.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Ln.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Fl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),Be(n,"link",t),fe(n),l.head.appendChild(n)))}}function iT(t,n){Yi.m(t,n);var r=Ra;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ia(t)}if(!Ln.has(f)&&(t=A({rel:"modulepreload",href:t},n),Ln.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ql(f)))return}l=r.createElement("link"),Be(l,"link",t),fe(l),r.head.appendChild(l)}}}function rT(t,n,r){Yi.S(t,n,r);var l=Ra;if(l&&t){var c=We(l).hoistableStyles,f=Ca(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Fl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Ln.get(f))&&Pf(t,r);var w=v=l.createElement("link");fe(w),Be(w,"link",t),w._p=new Promise(function(z,F){w.onload=z,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function sT(t,n){Yi.X(t,n);var r=Ra;if(r&&t){var l=We(r).hoistableScripts,c=Ia(t),f=l.get(c);f||(f=r.querySelector(Ql(c)),f||(t=A({src:t,async:!0},n),(n=Ln.get(c))&&Bf(t,n),f=r.createElement("script"),fe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function aT(t,n){Yi.M(t,n);var r=Ra;if(r&&t){var l=We(r).hoistableScripts,c=Ia(t),f=l.get(c);f||(f=r.querySelector(Ql(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Ln.get(c))&&Bf(t,n),f=r.createElement("script"),fe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Vy(t,n,r,l){var c=(c=yt.current)?zu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ca(r.href),r=We(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ca(r.href);var f=We(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Fl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Ln.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ln.set(t,r),f||lT(c,t,r,v.state))),n&&l===null)throw Error(a(528,""));return v}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ia(r),r=We(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ca(t){return'href="'+_e(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function lT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),fe(n),t.head.appendChild(n))}function Ia(t){return'[src="'+_e(t)+'"]'}function Ql(t){return"script[async]"+t}function My(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+_e(r.href)+'"]');if(l)return n.instance=l,fe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),fe(l),Be(l,"style",c),Pu(l,r.precedence,t),n.instance=l;case"stylesheet":c=Ca(r.href);var f=t.querySelector(Fl(c));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;l=Oy(r),(c=Ln.get(c))&&Pf(l,c),f=(t.ownerDocument||t).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Be(f,"link",l),n.state.loading|=4,Pu(f,r.precedence,t),n.instance=f;case"script":return f=Ia(r.src),(c=t.querySelector(Ql(f)))?(n.instance=c,fe(c),c):(l=r,(c=Ln.get(f))&&(l=A({},r),Bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),fe(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,r.precedence,t));return n.instance}function Pu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function xy(t,n,r){if(Bu===null){var l=new Map,c=Bu=new Map;c.set(r,l)}else c=Bu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[$r]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function Uy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function oT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yl=null;function uT(){}function cT(t,n,r){if(Yl===null)throw Error(a(475));var l=Yl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ca(r.href),f=t.querySelector(Fl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,fe(f);return}f=t.ownerDocument||t,r=Oy(r),(c=Ln.get(c))&&Pf(r,c),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=qu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function hT(){if(Yl===null)throw Error(a(475));var t=Yl;return t.stylesheets&&t.count===0&&qf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&qf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function qu(){if(this.count--,this.count===0){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hu=null;function qf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hu=new Map,n.forEach(fT,t),Hu=null,qu.call(t))}function fT(t,n){if(!(n.state.loading&4)){var r=Hu.get(t);if(r)var l=r.get(null);else{r=new Map,Hu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=qu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function dT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function jy(t,n,r,l,c,f,v,E,w,z,F,K){return t=new dT(t,n,r,v,E,w,z,K),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=Ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Rh(f),t}function ky(t){return t?(t=sa,t):sa}function zy(t,n,r,l,c,f){c=ky(c),l.context===null?l.context=c:l.pendingContext=c,l=or(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ur(t,l,n),r!==null&&(Tn(r,t,n),bl(r,t,n))}function Py(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Hf(t,n){Py(t,n),(t=t.alternate)&&Py(t,n)}function By(t){if(t.tag===13){var n=ra(t,67108864);n!==null&&Tn(n,t,67108864),Hf(t,67108864)}}var Gu=!0;function mT(t,n,r,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=2,Gf(t,n,r,l)}finally{nt.p=f,G.T=c}}function gT(t,n,r,l){var c=G.T;G.T=null;var f=nt.p;try{nt.p=8,Gf(t,n,r,l)}finally{nt.p=f,G.T=c}}function Gf(t,n,r,l){if(Gu){var c=Ff(l);if(c===null)Vf(t,n,l,Fu,r),Hy(t,l);else if(yT(c,t,n,r,l))l.stopPropagation();else if(Hy(t,l),n&4&&-1<pT.indexOf(t)){for(;c!==null;){var f=$n(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Pn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-Qe(v);E.entanglements[1]|=w,v&=~w}ci(f),(Qt&6)===0&&(Iu=Je()+500,Bl(0))}}break;case 13:E=ra(f,2),E!==null&&Tn(E,f,2),Nu(),Hf(f,2)}if(f=Ff(l),f===null&&Vf(t,n,l,Fu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Vf(t,n,l,null,r)}}function Ff(t){return t=Cn(t),Qf(t)}var Fu=null;function Qf(t){if(Fu=null,t=wi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Fu=t,null}function qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case Ji:return 2;case Ti:return 8;case Ai:case Ya:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Yf=!1,Ar=null,Sr=null,br=null,Xl=new Map,$l=new Map,wr=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(t,n){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=$n(n),n!==null&&By(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function yT(t,n,r,l,c){switch(n){case"focusin":return Ar=Zl(Ar,t,n,r,l,c),!0;case"dragenter":return Sr=Zl(Sr,t,n,r,l,c),!0;case"mouseover":return br=Zl(br,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Xl.set(f,Zl(Xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,$l.set(f,Zl($l.get(f)||null,t,n,r,l,c)),!0}return!1}function Gy(t){var n=wi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,No(t.priority,function(){if(r.tag===13){var l=En();l=Wi(l);var c=ra(r,l);c!==null&&Tn(c,r,l),Hf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ff(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Di=l,r.target.dispatchEvent(l),Di=null}else return n=$n(r),n!==null&&By(n),t.blockedOn=r,!1;n.shift()}return!0}function Fy(t,n,r){Qu(t)&&r.delete(n)}function _T(){Yf=!1,Ar!==null&&Qu(Ar)&&(Ar=null),Sr!==null&&Qu(Sr)&&(Sr=null),br!==null&&Qu(br)&&(br=null),Xl.forEach(Fy),$l.forEach(Fy)}function Yu(t,n){t.blockedOn===n&&(t.blockedOn=null,Yf||(Yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_T)))}var Ku=null;function Qy(t){Ku!==t&&(Ku=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ku===t&&(Ku=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Qf(l||r)===null)continue;break}var f=$n(r);f!==null&&(t.splice(n,3),n-=3,Fh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Jl(t){function n(w){return Yu(w,t)}Ar!==null&&Yu(Ar,t),Sr!==null&&Yu(Sr,t),br!==null&&Yu(br,t),Xl.forEach(n),$l.forEach(n);for(var r=0;r<wr.length;r++){var l=wr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)Gy(r),r.blockedOn===null&&wr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[ye]||null;if(typeof f=="function")v||Qy(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ye]||null)E=v.formAction;else if(Qf(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Qy(r)}}}function Kf(t){this._internalRoot=t}Xu.prototype.render=Kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=En();zy(r,l,t,n,null,null)},Xu.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;zy(t.current,2,null,t,null,null),Nu(),n[wn]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var r=0;r<wr.length&&n!==0&&n<wr[r].priority;r++);wr.splice(r,0,t),r===0&&Gy(t)}};var Yy=e.version;if(Yy!=="19.1.0")throw Error(a(527,Yy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var vT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Ht=$u.inject(vT),Mt=$u}catch{}}return to.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=up,f=cp,v=hp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=jy(t,1,!1,null,null,r,l,c,f,v,E,null),t[wn]=n.current,Nf(t),new Kf(n)},to.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=up,v=cp,E=hp,w=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=jy(t,1,!0,n,r??null,l,c,f,v,E,w,z),n.context=ky(null),r=n.current,l=En(),l=Wi(l),c=or(l),c.callback=null,ur(r,c,l),r=l,n.current.lanes=r,bi(n,r),ci(n),t[wn]=n.current,Nf(t),new Xu(n)},to.version="19.1.0",to}var i_;function DT(){if(i_)return Zf.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zf.exports=IT(),Zf.exports}var NT=DT();const VT="/voucher-wallet2/assets/money-bg-CbFHKl6r.jpg",OT=document.documentElement;OT.style.setProperty("--money-bg-url",`url(${VT})`);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),r_=s=>{const e=xT(s);return e.charAt(0).toUpperCase()+e.slice(1)},Dv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),UT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=St.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...g},y)=>St.createElement("svg",{ref:y,...LT,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Dv("lucide",o),...!h&&!UT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>St.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(s,e)=>{const i=St.forwardRef(({className:a,...o},h)=>St.createElement(jT,{ref:h,iconNode:e,className:Dv(`lucide-${MT(r_(s))}`,`lucide-${s}`,a),...o}));return i.displayName=r_(s),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],gd=Fe("archive",kT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PT=Fe("arrow-right",zT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qT=Fe("chart-pie",BT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],GT=Fe("circle-alert",HT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QT=Fe("external-link",FT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KT=Fe("eye-off",YT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$T=Fe("eye",XT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JT=Fe("lock",ZT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qd=Fe("plus",WT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nv=Fe("rotate-ccw",tA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nA=Fe("save",eA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rA=Fe("square-pen",iA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Yd=Fe("trash-2",sA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lA=Fe("triangle-alert",aA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vv=Fe("user",oA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],s_=Fe("wallet",uA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xs=Fe("x",cA),hA=s=>{const e=s.filter(o=>!o.isArchived),i=e.reduce((o,h)=>o+h.amount,0),a=e.reduce((o,h)=>(o[h.name]=(o[h.name]||0)+h.amount,o),{});return{totalAmount:i,byType:a}},pd=s=>`${s.toLocaleString("he-IL")} ש״ח`,fA=({isOpen:s,onClose:e,onAdd:i})=>{const[a,o]=St.useState(""),h=g=>{g.preventDefault(),a.trim()&&(i(a.trim()),d())},d=()=>{o(""),e()};return s?C.jsx("div",{className:"modal-overlay",onClick:d,children:C.jsxs("div",{className:"modal-content glass",onClick:g=>g.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h2",{children:"הוסף משתמש חדש"}),C.jsx("button",{className:"close-btn",onClick:d,children:C.jsx(xs,{size:24})})]}),C.jsxs("form",{onSubmit:h,className:"modal-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"שם המשתמש:"}),C.jsx("input",{type:"text",className:"input",value:a,onChange:g=>o(g.target.value),placeholder:"הכנס שם משתמש...",autoFocus:!0,required:!0})]}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{type:"button",className:"btn btn-secondary",onClick:d,children:"ביטול"}),C.jsxs("button",{type:"submit",className:"btn btn-primary",children:[C.jsx(Vv,{size:16}),"הוסף משתמש"]})]})]})]})}):null},dA=({users:s,onSelectUser:e,onAddUser:i,onDeleteUser:a})=>{const[o,h]=St.useState(!1),d=()=>{h(!0)},g=(y,_)=>{y.stopPropagation(),a(_)};return C.jsx("div",{className:"user-selector",children:C.jsxs("div",{className:"user-selector-content glass",children:[C.jsx("div",{className:"buyme-logo",children:C.jsx("img",{src:"/buyme-logo.png",alt:"BuyMe",className:"buyme-image"})}),C.jsx("h1",{className:"app-title",children:"ארנק שוברים"}),C.jsx("p",{className:"app-subtitle",children:"בחר משתמש כדי להמשיך"}),C.jsxs("div",{className:"user-buttons",children:[s.map(y=>C.jsxs("div",{className:"user-button-wrapper",children:[C.jsxs("button",{className:"user-button btn btn-primary",onClick:()=>e(y),children:[C.jsx(Vv,{size:20}),y.name]}),C.jsx("button",{className:"delete-user-btn btn btn-danger",onClick:_=>g(_,y),title:"מחק משתמש",children:C.jsx(Yd,{size:16})})]},y.id)),C.jsxs("button",{className:"add-user-btn btn btn-secondary",onClick:d,children:[C.jsx(Qd,{size:20}),"הוסף משתמש"]})]}),C.jsx(fA,{isOpen:o,onClose:()=>h(!1),onAdd:y=>{i(y),h(!1)}})]})})},a_=({voucher:s,onEdit:e,onArchive:i,onDelete:a,onRestore:o,onOpenLink:h,isArchived:d=!1})=>{const g=y=>{y.stopPropagation(),s.link&&h(s.link)};return C.jsxs("div",{className:"voucher-card glass",children:[C.jsxs("div",{className:"voucher-header",children:[C.jsxs("h3",{className:"voucher-name",onClick:g,style:{cursor:s.link?"pointer":"default"},children:[s.name,s.link&&C.jsx(QT,{size:16,className:"external-link-icon"})]}),C.jsx("div",{className:"voucher-amount",children:pd(s.amount)})]}),C.jsx("div",{className:"voucher-actions",children:d?C.jsxs(C.Fragment,{children:[o&&C.jsx("button",{className:"action-btn btn btn-secondary",onClick:()=>o(s),title:"שחזר לארנק",children:C.jsx(Nv,{size:16})}),a&&C.jsx("button",{className:"action-btn btn btn-danger",onClick:()=>a(s),title:"מחק לצמיתות",children:C.jsx(Yd,{size:16})})]}):C.jsxs(C.Fragment,{children:[C.jsxs("button",{className:"action-btn btn btn-secondary",onClick:()=>e(s),title:"עריכה",children:[C.jsx(rA,{size:16}),"ערוך"]}),i&&C.jsxs("button",{className:"action-btn btn btn-secondary",onClick:()=>i(s),title:"העבר לארכיון",children:[C.jsx(gd,{size:16}),"העבר לארכיון"]})]})})]})},yd=["ביי מי","תו הזהב","אחר"],bc=({isOpen:s,title:e="הודעה",message:i,onClose:a,variant:o="info"})=>s?C.jsx("div",{className:"modal-overlay",onClick:a,children:C.jsxs("div",{className:"alert-modal glass",onClick:h=>h.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("div",{className:`modal-icon ${o}`,children:C.jsx(GT,{size:24})}),C.jsx("h2",{children:e}),C.jsx("button",{className:"close-btn",onClick:a,children:C.jsx(xs,{size:20})})]}),C.jsx("div",{className:"modal-body",children:C.jsx("p",{children:i})}),C.jsx("div",{className:"modal-actions",children:C.jsx("button",{className:"btn btn-primary",onClick:a,children:"אישור"})})]})}):null,mA=({isOpen:s,onClose:e,onAdd:i})=>{const[a,o]=St.useState("ביי מי"),[h,d]=St.useState(""),[g,y]=St.useState(""),[_,A]=St.useState(""),[I,D]=St.useState({isOpen:!1,message:"",variant:"warning"}),H=W=>{if(W.preventDefault(),!g||parseFloat(g)<=0){D({isOpen:!0,message:"אנא הזן סכום תקין",variant:"warning"});return}if(!_.trim()){D({isOpen:!0,message:"אנא הזן קישור לשובר",variant:"warning"});return}const $=a==="אחר"?h.trim():a;if(!$){D({isOpen:!0,message:"אנא הזן שם שובר",variant:"warning"});return}i($,parseFloat(g),_.trim()),J()},J=()=>{o("ביי מי"),d(""),y(""),A(""),D({isOpen:!1,message:"",variant:"warning"}),e()};return s?C.jsxs("div",{className:"modal-overlay",onClick:J,children:[C.jsxs("div",{className:"modal-content glass",onClick:W=>W.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h2",{children:"הוסף שובר חדש"}),C.jsx("button",{className:"close-btn",onClick:J,children:C.jsx(xs,{size:24})})]}),C.jsxs("form",{onSubmit:H,className:"modal-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"סוג שובר:"}),C.jsx("select",{className:"select",value:a,onChange:W=>o(W.target.value),children:yd.map(W=>C.jsx("option",{value:W,children:W},W))})]}),a==="אחר"&&C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"שם השובר:"}),C.jsx("input",{type:"text",className:"input",value:h,onChange:W=>d(W.target.value),placeholder:"הזן שם שובר...",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"סכום (ש״ח):"}),C.jsx("input",{type:"number",className:"input",value:g,onChange:W=>y(W.target.value),placeholder:"הזן סכום...",min:"0.01",step:"0.01",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"קישור לשובר:"}),C.jsx("input",{type:"url",className:"input",value:_,onChange:W=>A(W.target.value),placeholder:"הזן קישור...",required:!0})]}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{type:"button",className:"btn btn-secondary",onClick:J,children:"ביטול"}),C.jsxs("button",{type:"submit",className:"btn btn-primary",children:[C.jsx(Qd,{size:16}),"הוסף שובר"]})]})]})]}),C.jsx(bc,{isOpen:I.isOpen,message:I.message,variant:I.variant,onClose:()=>D({isOpen:!1,message:"",variant:"warning"})})]}):null},gA=({isOpen:s,voucher:e,onClose:i,onSave:a})=>{const[o,h]=St.useState("ביי מי"),[d,g]=St.useState(""),[y,_]=St.useState(""),[A,I]=St.useState(""),[D,H]=St.useState({isOpen:!1,message:"",variant:"warning"});St.useEffect(()=>{e&&(yd.includes(e.name)&&e.name!=="אחר"?(h(e.name),g("")):(h("אחר"),g(e.name)),_(e.amount.toString()),I(e.link||""))},[e]);const J=$=>{if($.preventDefault(),!e)return;if(!y||parseFloat(y)<0){H({isOpen:!0,message:"אנא הזן סכום תקין",variant:"warning"});return}if(!A.trim()){H({isOpen:!0,message:"אנא הזן קישור לשובר",variant:"warning"});return}const Et=o==="אחר"?d.trim():o;if(!Et){H({isOpen:!0,message:"אנא הזן שם שובר",variant:"warning"});return}a(e.id,Et,parseFloat(y),A.trim()),W()},W=()=>{h("ביי מי"),g(""),_(""),I(""),H({isOpen:!1,message:"",variant:"warning"}),i()};return!s||!e?null:C.jsxs("div",{className:"modal-overlay",onClick:W,children:[C.jsxs("div",{className:"modal-content glass",onClick:$=>$.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h2",{children:"עריכת שובר"}),C.jsx("button",{className:"close-btn",onClick:W,children:C.jsx(xs,{size:24})})]}),C.jsxs("form",{onSubmit:J,className:"modal-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"סוג שובר:"}),C.jsx("select",{className:"select",value:o,onChange:$=>h($.target.value),children:yd.map($=>C.jsx("option",{value:$,children:$},$))})]}),o==="אחר"&&C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"שם השובר:"}),C.jsx("input",{type:"text",className:"input",value:d,onChange:$=>g($.target.value),placeholder:"הזן שם שובר...",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"סכום (ש״ח):"}),C.jsx("input",{type:"number",className:"input",value:y,onChange:$=>_($.target.value),placeholder:"הזן סכום...",min:"0",step:"0.01",required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"קישור לשובר:"}),C.jsx("input",{type:"url",className:"input",value:A,onChange:$=>I($.target.value),placeholder:"הזן קישור...",required:!0})]}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{type:"button",className:"btn btn-secondary",onClick:W,children:"ביטול"}),C.jsxs("button",{type:"submit",className:"btn btn-primary",children:[C.jsx(nA,{size:16}),"שמור שינויים"]})]})]})]}),C.jsx(bc,{isOpen:D.isOpen,message:D.message,variant:D.variant,onClose:()=>H({isOpen:!1,message:"",variant:"warning"})})]})},pA=({isOpen:s,voucher:e,onClose:i,onRestore:a})=>{const[o,h]=St.useState(""),[d,g]=St.useState({isOpen:!1,message:"",variant:"warning"}),y=A=>{if(A.preventDefault(),!!e){if(!o||parseFloat(o)<=0){g({isOpen:!0,message:"אנא הזן סכום תקין",variant:"warning"});return}a(e.id,parseFloat(o)),_()}},_=()=>{h(""),g({isOpen:!1,message:"",variant:"warning"}),i()};return!s||!e?null:C.jsxs("div",{className:"modal-overlay",onClick:_,children:[C.jsxs("div",{className:"modal-content glass",onClick:A=>A.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h2",{children:"שחזור שובר"}),C.jsx("button",{className:"close-btn",onClick:_,children:C.jsx(xs,{size:24})})]}),C.jsxs("div",{className:"voucher-info",children:[C.jsxs("h3",{children:["שובר: ",e.name]}),C.jsxs("p",{children:["סכום קודם: ",e.amount.toLocaleString("he-IL")," ש״ח"]})]}),C.jsxs("form",{onSubmit:y,className:"modal-form",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"סכום חדש (ש״ח):"}),C.jsx("input",{type:"number",className:"input",value:o,onChange:A=>h(A.target.value),placeholder:"הזן סכום מעודכן...",min:"0.01",step:"0.01",required:!0,autoFocus:!0})]}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{type:"button",className:"btn btn-secondary",onClick:_,children:"ביטול"}),C.jsxs("button",{type:"submit",className:"btn btn-primary",children:[C.jsx(Nv,{size:16}),"שחזר לארנק"]})]})]})]}),C.jsx(bc,{isOpen:d.isOpen,message:d.message,variant:d.variant,onClose:()=>g({isOpen:!1,message:"",variant:"warning"})})]})},Zu=({isOpen:s,title:e,message:i,confirmText:a="כן",cancelText:o="לא",onConfirm:h,onCancel:d,variant:g="warning"})=>s?C.jsx("div",{className:"modal-overlay",onClick:d,children:C.jsxs("div",{className:"confirmation-modal glass",onClick:y=>y.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("div",{className:`modal-icon ${g}`,children:C.jsx(lA,{size:24})}),C.jsx("h2",{children:e}),C.jsx("button",{className:"close-btn",onClick:d,children:C.jsx(xs,{size:20})})]}),C.jsx("div",{className:"modal-body",children:C.jsx("p",{children:i})}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{className:"btn btn-secondary",onClick:d,children:o}),C.jsx("button",{className:`btn ${g==="danger"?"btn-danger":"btn-primary"}`,onClick:h,children:a})]})]})}):null,l_=({isOpen:s,title:e,message:i,onConfirm:a,onCancel:o})=>{const[h,d]=St.useState(""),[g,y]=St.useState(!1),_=I=>{I.preventDefault(),a(h),d(""),y(!1)},A=()=>{d(""),y(!1),o()};return s?C.jsx("div",{className:"modal-overlay",onClick:A,children:C.jsxs("div",{className:"password-modal glass",onClick:I=>I.stopPropagation(),children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("div",{className:"modal-icon",children:C.jsx(JT,{size:24})}),C.jsx("h2",{children:e}),C.jsx("button",{className:"close-btn",onClick:A,children:C.jsx(xs,{size:20})})]}),C.jsxs("form",{onSubmit:_,className:"modal-form",children:[i&&C.jsx("div",{className:"modal-body",children:C.jsx("p",{children:i})}),C.jsx("div",{className:"password-input-group",children:C.jsxs("div",{className:"password-input-wrapper",children:[C.jsx("input",{type:g?"text":"password",className:"password-input",value:h,onChange:I=>d(I.target.value),placeholder:"הכנס סיסמת מנהל",autoFocus:!0,required:!0}),C.jsx("button",{type:"button",className:"password-toggle",onClick:()=>y(!g),children:g?C.jsx(KT,{size:18}):C.jsx($T,{size:18})})]})}),C.jsxs("div",{className:"modal-actions",children:[C.jsx("button",{type:"button",className:"btn btn-secondary",onClick:A,children:"ביטול"}),C.jsx("button",{type:"submit",className:"btn btn-primary",children:"אישור"})]})]})]})}):null},yA=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_A=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,H=_&63;y||(H=64,d||(D=64)),a.push(i[A],i[I],i[D],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ov(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):_A(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const I=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||_==null||I==null)throw new vA;const D=h<<2|g>>4;if(a.push(D),_!==64){const H=g<<4&240|_>>2;if(a.push(H),I!==64){const J=_<<6&192|I;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(s){const e=Ov(s);return Mv.encodeByteArray(e,!0)},uc=function(s){return EA(s).replace(/\./g,"")},TA=function(s){try{return Mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=()=>AA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof o_>"u")return;const s=o_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&TA(s[1]);return e&&JSON.parse(e)},Kd=()=>{try{return yA()||SA()||bA()||wA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},RA=s=>Kd()?.emulatorHosts?.[s],CA=s=>{const e=RA(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},xv=()=>Kd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DA(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uc(JSON.stringify(i)),uc(JSON.stringify(d)),""].join(".")}const so={};function VA(){const s={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?s.emulator.push(e):s.prod.push(e);return s}function OA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let u_=!1;function MA(s,e){if(typeof window>"u"||typeof document>"u"||!Xd(window.location.host)||so[s]===e||so[s]||u_)return;so[s]=e;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",h=VA().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{u_=!0,d()},D}function A(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=OA(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),Et=i("preprendIcon"),pt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;g(ct),A($,W);const Bt=_();y(pt,Et),ct.append(pt,J,$,Bt),document.body.appendChild(ct)}h?(J.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){const s=Kd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function jA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uv(){try{return typeof indexedDB=="object"}catch{return!1}}function Lv(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function kA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="FirebaseError";class Br extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=zA,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?PA(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Br(o,g,a)}}function PA(s,e){return s.replace(BA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const BA=/\{\$([^}]+)}/g;function ho(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(c_(h)&&c_(d)){if(!ho(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function c_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=1e3,HA=2,GA=4*60*60*1e3,FA=.5;function h_(s,e=qA,i=HA){const a=e*Math.pow(i,s),o=Math.round(FA*a*(Math.random()-.5)*2);return Math.min(GA,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(s){return s&&s._delegate?s._delegate:s}class Ki{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new IA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(s){return s===ws?void 0:s}function KA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const $A={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},ZA=kt.INFO,JA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},WA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=JA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $d{constructor(e){this.name=e,this._logLevel=ZA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const tS=(s,e)=>e.some(i=>s instanceof i);let f_,d_;function eS(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nS(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,_d=new WeakMap,kv=new WeakMap,ed=new WeakMap,Zd=new WeakMap;function iS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ir(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&jv.set(i,s)}).catch(()=>{}),Zd.set(e,s),e}function rS(s){if(_d.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});_d.set(s,e)}let vd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return _d.get(s);if(e==="objectStoreNames")return s.objectStoreNames||kv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ir(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sS(s){vd=s(vd)}function aS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(nd(this),e,...i);return kv.set(a,e.sort?e.sort():[e]),Ir(a)}:nS().includes(s)?function(...e){return s.apply(nd(this),e),Ir(jv.get(this))}:function(...e){return Ir(s.apply(nd(this),e))}}function lS(s){return typeof s=="function"?aS(s):(s instanceof IDBTransaction&&rS(s),tS(s,eS())?new Proxy(s,vd):s)}function Ir(s){if(s instanceof IDBRequest)return iS(s);if(ed.has(s))return ed.get(s);const e=lS(s);return e!==s&&(ed.set(s,e),Zd.set(e,s)),e}const nd=s=>Zd.get(s);function zv(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=Ir(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ir(d.result),y.oldVersion,y.newVersion,Ir(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const oS=["get","getKey","getAll","getAllKeys","count"],uS=["put","add","delete","clear"],id=new Map;function m_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(id.get(e))return id.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=uS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||oS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return id.set(e,h),h}sS(s=>({...s,get:(e,i,a)=>m_(e,i)||s.get(e,i,a),has:(e,i)=>!!m_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(hS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function hS(s){return s.getComponent()?.type==="VERSION"}const Ed="@firebase/app",g_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new $d("@firebase/app"),fS="@firebase/app-compat",dS="@firebase/analytics-compat",mS="@firebase/analytics",gS="@firebase/app-check-compat",pS="@firebase/app-check",yS="@firebase/auth",_S="@firebase/auth-compat",vS="@firebase/database",ES="@firebase/data-connect",TS="@firebase/database-compat",AS="@firebase/functions",SS="@firebase/functions-compat",bS="@firebase/installations",wS="@firebase/installations-compat",RS="@firebase/messaging",CS="@firebase/messaging-compat",IS="@firebase/performance",DS="@firebase/performance-compat",NS="@firebase/remote-config",VS="@firebase/remote-config-compat",OS="@firebase/storage",MS="@firebase/storage-compat",xS="@firebase/firestore",US="@firebase/ai",LS="@firebase/firestore-compat",jS="firebase",kS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",zS={[Ed]:"fire-core",[fS]:"fire-core-compat",[mS]:"fire-analytics",[dS]:"fire-analytics-compat",[pS]:"fire-app-check",[gS]:"fire-app-check-compat",[yS]:"fire-auth",[_S]:"fire-auth-compat",[vS]:"fire-rtdb",[ES]:"fire-data-connect",[TS]:"fire-rtdb-compat",[AS]:"fire-fn",[SS]:"fire-fn-compat",[bS]:"fire-iid",[wS]:"fire-iid-compat",[RS]:"fire-fcm",[CS]:"fire-fcm-compat",[IS]:"fire-perf",[DS]:"fire-perf-compat",[NS]:"fire-rc",[VS]:"fire-rc-compat",[OS]:"fire-gcs",[MS]:"fire-gcs-compat",[xS]:"fire-fst",[LS]:"fire-fst-compat",[US]:"fire-vertex","fire-js":"fire-js",[jS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,PS=new Map,Ad=new Map;function p_(s,e){try{s.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Mr(s){const e=s.name;if(Ad.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,s);for(const i of cc.values())p_(i,s);for(const i of PS.values())p_(i,s);return!0}function To(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function BS(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new wc("app","Firebase",qS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=kS;function Pv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Td,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(i||(i=xv()),!i)throw Dr.create("no-options");const h=cc.get(o);if(h){if(ho(i,h.options)&&ho(a,h.config))return h;throw Dr.create("duplicate-app",{appName:o})}const d=new XA(o);for(const y of Ad.values())d.addComponent(y);const g=new HS(i,a,d);return cc.set(o,g),g}function Bv(s=Td){const e=cc.get(s);if(!e&&s===Td&&xv())return Pv();if(!e)throw Dr.create("no-app",{appName:s});return e}function fi(s,e,i){let a=zS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Mr(new Ki(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firebase-heartbeat-database",QS=1,fo="firebase-heartbeat-store";let rd=null;function qv(){return rd||(rd=zv(FS,QS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(fo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Dr.create("idb-open",{originalErrorMessage:s.message})})),rd}async function YS(s){try{const i=(await qv()).transaction(fo),a=await i.objectStore(fo).get(Hv(s));return await i.done,a}catch(e){if(e instanceof Br)Xi.warn(e.message);else{const i=Dr.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(i.message)}}}async function y_(s,e){try{const a=(await qv()).transaction(fo,"readwrite");await a.objectStore(fo).put(e,Hv(s)),await a.done}catch(i){if(i instanceof Br)Xi.warn(i.message);else{const a=Dr.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(a.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1024,XS=30;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XS){const o=WS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=__(),{heartbeatsToSend:i,unsentEntries:a}=ZS(this._heartbeatsCache.heartbeats),o=uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xi.warn(e),""}}}function __(){return new Date().toISOString().substring(0,10)}function ZS(s,e=KS){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),v_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),v_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class JS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uv()?Lv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function v_(s){return uc(JSON.stringify({version:2,heartbeats:s})).length}function WS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(s){Mr(new Ki("platform-logger",e=>new cS(e),"PRIVATE")),Mr(new Ki("heartbeat",e=>new $S(e),"PRIVATE")),fi(Ed,g_,s),fi(Ed,g_,"esm2020"),fi("fire-js","")}tb("");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,Gv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function b(){}b.prototype=S.prototype,x.D=S.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(O,M,L){for(var R=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)R[ce-2]=arguments[ce];return S.prototype[M].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,b){b||(b=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)O[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=x.g[0],b=x.g[1],M=x.g[2];var L=x.g[3],R=S+(L^b&(M^L))+O[0]+3614090360&4294967295;S=b+(R<<7&4294967295|R>>>25),R=L+(M^S&(b^M))+O[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(b^L&(S^b))+O[2]+606105819&4294967295,M=L+(R<<17&4294967295|R>>>15),R=b+(S^M&(L^S))+O[3]+3250441966&4294967295,b=M+(R<<22&4294967295|R>>>10),R=S+(L^b&(M^L))+O[4]+4118548399&4294967295,S=b+(R<<7&4294967295|R>>>25),R=L+(M^S&(b^M))+O[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(b^L&(S^b))+O[6]+2821735955&4294967295,M=L+(R<<17&4294967295|R>>>15),R=b+(S^M&(L^S))+O[7]+4249261313&4294967295,b=M+(R<<22&4294967295|R>>>10),R=S+(L^b&(M^L))+O[8]+1770035416&4294967295,S=b+(R<<7&4294967295|R>>>25),R=L+(M^S&(b^M))+O[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(b^L&(S^b))+O[10]+4294925233&4294967295,M=L+(R<<17&4294967295|R>>>15),R=b+(S^M&(L^S))+O[11]+2304563134&4294967295,b=M+(R<<22&4294967295|R>>>10),R=S+(L^b&(M^L))+O[12]+1804603682&4294967295,S=b+(R<<7&4294967295|R>>>25),R=L+(M^S&(b^M))+O[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=M+(b^L&(S^b))+O[14]+2792965006&4294967295,M=L+(R<<17&4294967295|R>>>15),R=b+(S^M&(L^S))+O[15]+1236535329&4294967295,b=M+(R<<22&4294967295|R>>>10),R=S+(M^L&(b^M))+O[1]+4129170786&4294967295,S=b+(R<<5&4294967295|R>>>27),R=L+(b^M&(S^b))+O[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^b&(L^S))+O[11]+643717713&4294967295,M=L+(R<<14&4294967295|R>>>18),R=b+(L^S&(M^L))+O[0]+3921069994&4294967295,b=M+(R<<20&4294967295|R>>>12),R=S+(M^L&(b^M))+O[5]+3593408605&4294967295,S=b+(R<<5&4294967295|R>>>27),R=L+(b^M&(S^b))+O[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^b&(L^S))+O[15]+3634488961&4294967295,M=L+(R<<14&4294967295|R>>>18),R=b+(L^S&(M^L))+O[4]+3889429448&4294967295,b=M+(R<<20&4294967295|R>>>12),R=S+(M^L&(b^M))+O[9]+568446438&4294967295,S=b+(R<<5&4294967295|R>>>27),R=L+(b^M&(S^b))+O[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^b&(L^S))+O[3]+4107603335&4294967295,M=L+(R<<14&4294967295|R>>>18),R=b+(L^S&(M^L))+O[8]+1163531501&4294967295,b=M+(R<<20&4294967295|R>>>12),R=S+(M^L&(b^M))+O[13]+2850285829&4294967295,S=b+(R<<5&4294967295|R>>>27),R=L+(b^M&(S^b))+O[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=M+(S^b&(L^S))+O[7]+1735328473&4294967295,M=L+(R<<14&4294967295|R>>>18),R=b+(L^S&(M^L))+O[12]+2368359562&4294967295,b=M+(R<<20&4294967295|R>>>12),R=S+(b^M^L)+O[5]+4294588738&4294967295,S=b+(R<<4&4294967295|R>>>28),R=L+(S^b^M)+O[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^b)+O[11]+1839030562&4294967295,M=L+(R<<16&4294967295|R>>>16),R=b+(M^L^S)+O[14]+4259657740&4294967295,b=M+(R<<23&4294967295|R>>>9),R=S+(b^M^L)+O[1]+2763975236&4294967295,S=b+(R<<4&4294967295|R>>>28),R=L+(S^b^M)+O[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^b)+O[7]+4139469664&4294967295,M=L+(R<<16&4294967295|R>>>16),R=b+(M^L^S)+O[10]+3200236656&4294967295,b=M+(R<<23&4294967295|R>>>9),R=S+(b^M^L)+O[13]+681279174&4294967295,S=b+(R<<4&4294967295|R>>>28),R=L+(S^b^M)+O[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^b)+O[3]+3572445317&4294967295,M=L+(R<<16&4294967295|R>>>16),R=b+(M^L^S)+O[6]+76029189&4294967295,b=M+(R<<23&4294967295|R>>>9),R=S+(b^M^L)+O[9]+3654602809&4294967295,S=b+(R<<4&4294967295|R>>>28),R=L+(S^b^M)+O[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=M+(L^S^b)+O[15]+530742520&4294967295,M=L+(R<<16&4294967295|R>>>16),R=b+(M^L^S)+O[2]+3299628645&4294967295,b=M+(R<<23&4294967295|R>>>9),R=S+(M^(b|~L))+O[0]+4096336452&4294967295,S=b+(R<<6&4294967295|R>>>26),R=L+(b^(S|~M))+O[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~b))+O[14]+2878612391&4294967295,M=L+(R<<15&4294967295|R>>>17),R=b+(L^(M|~S))+O[5]+4237533241&4294967295,b=M+(R<<21&4294967295|R>>>11),R=S+(M^(b|~L))+O[12]+1700485571&4294967295,S=b+(R<<6&4294967295|R>>>26),R=L+(b^(S|~M))+O[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~b))+O[10]+4293915773&4294967295,M=L+(R<<15&4294967295|R>>>17),R=b+(L^(M|~S))+O[1]+2240044497&4294967295,b=M+(R<<21&4294967295|R>>>11),R=S+(M^(b|~L))+O[8]+1873313359&4294967295,S=b+(R<<6&4294967295|R>>>26),R=L+(b^(S|~M))+O[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~b))+O[6]+2734768916&4294967295,M=L+(R<<15&4294967295|R>>>17),R=b+(L^(M|~S))+O[13]+1309151649&4294967295,b=M+(R<<21&4294967295|R>>>11),R=S+(M^(b|~L))+O[4]+4149444226&4294967295,S=b+(R<<6&4294967295|R>>>26),R=L+(b^(S|~M))+O[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=M+(S^(L|~b))+O[2]+718787259&4294967295,M=L+(R<<15&4294967295|R>>>17),R=b+(L^(M|~S))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var b=S-this.blockSize,O=this.B,M=this.h,L=0;L<S;){if(M==0)for(;L<=b;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(O[M++]=x.charCodeAt(L++),M==this.blockSize){o(this,O),M=0;break}}else for(;L<S;)if(O[M++]=x[L++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var b=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=b&255,b/=256;for(this.u(x),x=Array(16),S=b=0;4>S;++S)for(var O=0;32>O;O+=8)x[b++]=this.g[S]>>>O&255;return x};function h(x,S){var b=g;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=S(x)}function d(x,S){this.h=S;for(var b=[],O=!0,M=x.length-1;0<=M;M--){var L=x[M]|0;O&&L==S||(b[M]=L,O=!1)}this.g=b}var g={};function y(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return $(_(-x));for(var S=[],b=1,O=0;x>=b;O++)S[O]=x/b|0,b*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return $(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(S,8)),O=I,M=0;M<x.length;M+=8){var L=Math.min(8,x.length-M),R=parseInt(x.substring(M,M+L),S);8>L?(L=_(Math.pow(S,L)),O=O.j(L).add(_(R))):(O=O.j(b),O=O.add(_(R)))}return O}var I=y(0),D=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-$(this).m();for(var x=0,S=1,b=0;b<this.g.length;b++){var O=this.i(b);x+=(0<=O?O:4294967296+O)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(W(this))return"-"+$(this).toString(x);for(var S=_(Math.pow(x,6)),b=this,O="";;){var M=Bt(b,S).g;b=Et(b,M.j(S));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=M,J(b))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function W(x){return x.h==-1}s.l=function(x){return x=Et(this,x),W(x)?-1:J(x)?0:1};function $(x){for(var S=x.g.length,b=[],O=0;O<S;O++)b[O]=~x.g[O];return new d(b,~x.h).add(D)}s.abs=function(){return W(this)?$(this):this},s.add=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],O=0,M=0;M<=S;M++){var L=O+(this.i(M)&65535)+(x.i(M)&65535),R=(L>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);O=R>>>16,L&=65535,R&=65535,b[M]=R<<16|L}return new d(b,b[b.length-1]&-2147483648?-1:0)};function Et(x,S){return x.add($(S))}s.j=function(x){if(J(this)||J(x))return I;if(W(this))return W(x)?$(this).j($(x)):$($(this).j(x));if(W(x))return $(this.j($(x)));if(0>this.l(H)&&0>x.l(H))return _(this.m()*x.m());for(var S=this.g.length+x.g.length,b=[],O=0;O<2*S;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<x.g.length;M++){var L=this.i(O)>>>16,R=this.i(O)&65535,ce=x.i(M)>>>16,ee=x.i(M)&65535;b[2*O+2*M]+=R*ee,pt(b,2*O+2*M),b[2*O+2*M+1]+=L*ee,pt(b,2*O+2*M+1),b[2*O+2*M+1]+=R*ce,pt(b,2*O+2*M+1),b[2*O+2*M+2]+=L*ce,pt(b,2*O+2*M+2)}for(O=0;O<S;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=S;O<2*S;O++)b[O]=0;return new d(b,0)};function pt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ct(x,S){this.g=x,this.h=S}function Bt(x,S){if(J(S))throw Error("division by zero");if(J(x))return new ct(I,I);if(W(x))return S=Bt($(x),S),new ct($(S.g),$(S.h));if(W(S))return S=Bt(x,$(S)),new ct($(S.g),S.h);if(30<x.g.length){if(W(x)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var b=D,O=S;0>=O.l(x);)b=vt(b),O=vt(O);var M=zt(b,1),L=zt(O,1);for(O=zt(O,2),b=zt(b,2);!J(O);){var R=L.add(O);0>=R.l(x)&&(M=M.add(b),L=R),O=zt(O,1),b=zt(b,1)}return S=Et(x,M.j(S)),new ct(M,S)}for(M=I;0<=x.l(S);){for(b=Math.max(1,Math.floor(x.m()/S.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=_(b),R=L.j(S);W(R)||0<R.l(x);)b-=O,L=_(b),R=L.j(S);J(L)&&(L=D),M=M.add(L),x=Et(x,R)}return new ct(M,x)}s.A=function(x){return Bt(this,x).h},s.and=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],O=0;O<S;O++)b[O]=this.i(O)&x.i(O);return new d(b,this.h&x.h)},s.or=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],O=0;O<S;O++)b[O]=this.i(O)|x.i(O);return new d(b,this.h|x.h)},s.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),b=[],O=0;O<S;O++)b[O]=this.i(O)^x.i(O);return new d(b,this.h^x.h)};function vt(x){for(var S=x.g.length+1,b=[],O=0;O<S;O++)b[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(b,x.h)}function zt(x,S){var b=S>>5;S%=32;for(var O=x.g.length-b,M=[],L=0;L<O;L++)M[L]=0<S?x.i(L+b)>>>S|x.i(L+b+1)<<32-S:x.i(L+b);return new d(M,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Gv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Nr=d}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fv,eo,Qv,ic,Sd,Yv,Kv,Xv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in p))break t;p=p[j]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,j={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,D.apply(null,arguments)}function H(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,j,q){for(var et=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)et[xt-2]=arguments[xt];return m.prototype[j].apply(T,et)}}function W(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const j=u.length||0,q=T.length||0;u.length=j+q;for(let et=0;et<q;et++)u[j+et]=T[et]}else u.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Bt(u){return Bt[" "](u),u}Bt[" "]=function(){};var vt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(p in T)u[p]=T[p];for(let q=0;q<b.length;q++)p=b[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function L(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Ot;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,p){const T=ee.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new Et(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ot=!1,Ot=new ce,N=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){L(p)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Bt(m.nodeName);var j=!0;break t}catch{}j=!1}j||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}J(bt,tt);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function bn(u,m,p,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=j,this.key=++Kt,this.da=this.fa=!1}function Kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zn(u){this.src=u,this.g={},this.h=0}zn.prototype.add=function(u,m,p,T,j){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=vi(u,m,T,j);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new bn(m,this.src,q,!!T,j),m.fa=p,u.push(m)),m};function _i(u,m){var p=m.type;if(p in u.g){var T=u.g[p],j=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=j)&&Array.prototype.splice.call(T,j,1),q&&(Kn(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function vi(u,m,p,T){for(var j=0;j<u.length;++j){var q=u[j];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return j}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Fr={};function ks(u,m,p,T,j){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ks(u,m[q],p,T,j);return null}return p=fn(p),u&&u[pe]?u.K(m,p,_(T)?!!T.capture:!1,j):Je(u,m,p,!1,T,j)}function Je(u,m,p,T,j,q){if(!m)throw Error("Invalid event type");var et=_(j)?!!j.capture:!!j,xt=ft(u);if(xt||(u[Ei]=xt=new zn(u)),p=xt.add(m,p,T,et,q),p.proxy)return p;if(T=Qa(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)lt||(j=et),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(Ai(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Qa(){function u(p){return m.call(u.src,u.listener,p)}const m=Ya;return u}function Ji(u,m,p,T,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ji(u,m[q],p,T,j);else T=_(T)?!!T.capture:!!T,p=fn(p),u&&u[pe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=vi(q,p,T,j),-1<p&&(Kn(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ft(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vi(m,p,T,j)),(p=-1<u?m[u]:null)&&Ti(p))}function Ti(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])_i(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ai(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ft(m))?(_i(p,u),p.h==0&&(p.src=null,m[Ei]=null)):Kn(u)}}}function Ai(u){return u in Fr?Fr[u]:Fr[u]="on"+u}function Ya(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ti(u),u=p.call(T,m)}return u}function ft(u){return u=u[Ei],u instanceof zn?u:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(u){return typeof u=="function"?u:(u[he]||(u[he]=function(m){return u.handleEvent(m)}),u[he])}function Ht(){it.call(this),this.i=new zn(this),this.M=this,this.F=null}J(Ht,it),Ht.prototype[pe]=!0,Ht.prototype.removeEventListener=function(u,m,p,T){Ji(this,u,m,p,T)};function Mt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var j=m;m=new tt(T,u),O(m,j)}if(j=!0,p)for(var q=p.length-1;0<=q;q--){var et=m.g=p[q];j=dn(et,T,!0,m)&&j}if(et=m.g=u,j=dn(et,T,!0,m)&&j,j=dn(et,T,!1,m)&&j,p)for(q=0;q<p.length;q++)et=m.g=p[q],j=dn(et,T,!1,m)&&j}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Kn(p[T]);delete u.g[m],u.h--}}this.F=null},Ht.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},Ht.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function dn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==p){var xt=et.listener,Re=et.ha||et.src;et.fa&&_i(u.i,et),j=xt.call(Re,T)!==!1&&j}}return j&&!T.defaultPrevented}function Qe(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Do(u){u.g=Qe(()=>{u.g=null,u.i&&(u.i=!1,Do(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $c extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){it.call(this),this.h=u,this.g={}}J(Qr,it);var Yr=[];function Kr(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ti(m)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Kr(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=g.JSON.stringify,zs=g.JSON.parse,Xr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ka(){}Ka.prototype.h=null;function Xa(u){return u.h||(u.h=u.i())}function $a(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){tt.call(this,"d")}J(bi,tt);function Za(){tt.call(this,"c")}J(Za,tt);var Xn={},Ja=null;function Wi(){return Ja=Ja||new Ht}Xn.La="serverreachability";function Ps(u){tt.call(this,Xn.La,u)}J(Ps,tt);function tr(u){const m=Wi();Mt(m,new Ps(m))}Xn.STAT_EVENT="statevent";function No(u,m){tt.call(this,Xn.STAT_EVENT,u),this.stat=m}J(No,tt);function re(u){const m=Wi();Mt(m,new No(m,u))}Xn.Ma="timingevent";function we(u,m){tt.call(this,Xn.Ma,u),this.size=m}J(we,tt);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Wa(u,m,p,T,j,q){u.info(function(){if(u.g)if(q)for(var et="",xt=q.split("&"),Re=0;Re<xt.length;Re++){var Ut=xt[Re].split("=");if(1<Ut.length){var Oe=Ut[0];Ut=Ut[1];var Ce=Oe.split("_");et=2<=Ce.length&&Ce[1]=="type"?et+(Oe+"="+Ut+"&"):et+(Oe+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+p+`
`+et})}function Zc(u,m,p,T,j,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+p+`
`+q+" "+et})}function er(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$r(u,p)+(T?" "+T:"")})}function Vo(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function $r(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<j.length;et++)j[et]=""}}}}return Pn(p)}catch{return m}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Zn(){}J(Zn,Ka),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},$n=new Zn;function We(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var tl={},Bs={};function Bn(u,m,p){u.L=1,u.v=es(mn(m)),u.m=p,u.P=!0,Ri(u,null)}function Ri(u,m){u.F=Date.now(),Zr(u),u.A=mn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),al(p.i,"t",T),u.C=0,p=u.j.J,u.h=new fe,u.g=Yo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new $c(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Yr[0]=j.toString()),j=Yr);for(var q=0;q<j.length;q++){var et=ks(p,j[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),Wa(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const m=this.M;m&&Dn(u)==3?m.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)t:{const Ce=Dn(this.g);var m=this.g.Ba();const xi=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||zo(this.g)))){this.J||Ce!=4||m==7||(m==8||0>=xi?tr(3):tr(2)),ir(this);var p=this.g.Z();this.X=p;e:if(Oo(this)){var T=zo(this.g);u="";var j=T.length,q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),Jn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==j-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Zc(this.i,this.u,this.A,this.l,this.R,Ce,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Re=this.g;if((xt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(xt)){var Ut=xt;break e}}Ut=null}if(p=Ut)er(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,p);else{this.o=!1,this.s=3,re(12),je(this),Jn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<et.length;)if(ke=Mo(this,et),ke==Bs){Ce==4&&(this.s=4,re(14),p=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==tl){this.s=4,re(15),er(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else er(this.i,this.l,ke,null),Jr(this,ke);if(Oo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||et.length!=0||this.h.h||(this.s=1,re(16),p=!1),this.o=this.o&&p,!p)er(this.i,this.l,et,"[Invalid Chunked Response]"),je(this),Jn(this);else if(0<et.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),us(Oe),Oe.M=!0,re(11))}}else er(this.i,this.l,et,null),Jr(this,et);Ce==4&&je(this),this.o&&!this.J&&(Ce==4?Go(this.j,this):(this.o=!1,Zr(this)))}else nh(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),je(this),Jn(this)}}}catch{}finally{}};function Oo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Mo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Bs:(p=Number(m.substring(p,T)),isNaN(p)?tl:(T+=1,T+p>m.length?Bs:(m=m.slice(T,T+p),u.C=T+p,m)))}We.prototype.cancel=function(){this.J=!0,je(this)};function Zr(u){u.S=Date.now()+u.I,xo(u,u.I)}function xo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(D(u.ba,u),m)}function ir(u){u.B&&(g.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Vo(this.i,this.A),this.L!=2&&(tr(),re(17)),je(this),this.s=2,Jn(this)):xo(this,this.S-u)};function Jn(u){u.j.G==0||u.J||Go(u.j,u)}function je(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||el(p.h,u))){if(!u.K&&el(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ws(p),Zs(p);else break t;hl(p),re(18)}}else p.za=j[1],0<p.za-p.T&&37500>j[2]&&p.F&&p.v==0&&!p.C&&(p.C=ye(D(p.Za,p),6e3));if(1>=Hs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Mi(p,11)}else if((u.K||p.g==u)&&Ws(p),!pt(m))for(j=p.Da.g.parse(m),m=0;m<j.length;m++){let Ut=j[m];if(p.T=Ut[0],Ut=Ut[1],p.G==2)if(Ut[0]=="c"){p.K=Ut[1],p.ia=Ut[2];const Oe=Ut[3];Oe!=null&&(p.la=Oe,p.j.info("VER="+p.la));const Ce=Ut[4];Ce!=null&&(p.Aa=Ce,p.j.info("SVER="+p.Aa));const xi=Ut[5];xi!=null&&typeof xi=="number"&&0<xi&&(T=1.5*xi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ke=u.g;if(ke){const si=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var q=T.h;q.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Gs(q,q.h),q.h=null))}if(T.D){const dl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(T.ya=dl,Xt(T.I,T.D,dl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=Qo(T,T.J?T.ia:null,T.W),et.K){tn(T.h,et);var xt=et,Re=T.L;Re&&(xt.I=Re),xt.B&&(ir(xt),Zr(xt)),T.g=et}else qo(T);0<p.i.length&&Js(p)}else Ut[0]!="stop"&&Ut[0]!="close"||Mi(p,7);else p.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Mi(p,7):ul(p):Ut[0]!="noop"&&p.l&&p.l.ta(Ut),p.v=0)}}tr(4)}catch{}}var Uo=class{constructor(u,m){this.g=u,this.map=m}};function Ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function el(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gs(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ci.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return W(u.i)}function Jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function il(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Fs(u),T=Jc(u),j=T.length,q=0;q<j;q++)m.call(void 0,T[q],p&&p[q],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),j=null;if(0<=T){var q=u[p].substring(0,T);j=u[p].substring(T+1)}else q=u[p];m(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _e(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _e){this.h=u.h,ts(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.s),this.l=u.l;var m=u.i,p=new Di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ii(this,p),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,ts(this,m[1]||"",!0),this.o=Rn(m[2]||""),this.g=Rn(m[3]||"",!0),rr(this,m[4]),this.l=Rn(m[5]||"",!0),Ii(this,m[6]||"",!0),this.m=Rn(m[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}_e.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ns(m,rl,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ns(m,rl,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ns(p,p.charAt(0)=="/"?th:sl,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ns(p,Qs)),u.join("")};function mn(u){return new _e(u)}function ts(u,m,p){u.j=p?Rn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ii(u,m,p){m instanceof Di?(u.i=m,jo(u.i,u.h)):(p||(m=ns(m,eh)),u.i=new Di(m,u.h))}function Xt(u,m,p){u.i.set(m,p)}function es(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ns(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Lo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Lo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,sl=/[#\?:]/g,th=/[#\?]/g,eh=/[#\?@]/g,Qs=/#/g;function Di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Di.prototype,s.add=function(u,m){Cn(this),this.i=null,u=Wn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ni(u,m){Cn(u),m=Wn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vi(u,m){return Cn(u),m=Wn(u,m),u.g.has(m)}s.forEach=function(u,m){Cn(this),this.g.forEach(function(p,T){p.forEach(function(j){u.call(m,j,T,this)},this)},this)},s.na=function(){Cn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const j=u[T];for(let q=0;q<j.length;q++)p.push(m[T])}return p},s.V=function(u){Cn(this);let m=[];if(typeof u=="string")Vi(this,u)&&(m=m.concat(this.g.get(Wn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return Cn(this),this.i=null,u=Wn(this,u),Vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function al(u,m,p){Ni(u,m),0<p.length&&(u.i=null,u.g.set(Wn(u,m),W(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var j=q;et[T]!==""&&(j+="="+encodeURIComponent(String(et[T]))),u.push(j)}}return this.i=u.join("&")};function Wn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jo(u,m){m&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(p,T){var j=T.toLowerCase();T!=j&&(Ni(this,T),al(this,j,p))},u)),u.j=m}function is(u,m){const p=new wn;if(g.Image){const T=new Image;T.onload=H(In,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(In,p,"TestLoadImage: error",!1,m,T),T.onabort=H(In,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(In,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function qn(u,m){const p=new wn,T=new AbortController,j=setTimeout(()=>{T.abort(),In(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?In(p,"TestPingServer: ok",!0,m):In(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),In(p,"TestPingServer: error",!1,m)})}function In(u,m,p,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(p)}catch{}}function rs(){this.g=new Xr}function ti(u,m,p){const T=p||"";try{il(u,function(j,q){let et=j;_(j)&&(et=Pn(j)),m.push(T+q+"="+encodeURIComponent(et))})}catch(j){throw m.push(T+"type="+encodeURIComponent("_badmap")),j}}function sr(u){this.l=u.Ub||null,this.j=u.eb||!1}J(sr,Ka),sr.prototype.g=function(){return new Oi(this.l,this.j)},sr.prototype.i=function(u){return function(){return u}}({});function Oi(u,m){Ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Oi,Ht),s=Oi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ei(this):ni(this),this.readyState==3&&ll(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},s.Qa=function(u){this.g&&(this.response=u,ei(this))},s.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ni(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ve(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=ol(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Xt(u,m,p))}function Gt(u){Ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Gt,Ht);var Ys=/^https?$/i,ss=["POST","PUT"];s=Gt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Xa(this.o):Xa($n),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ko(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)p.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),j=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ss,m,void 0))||T||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ko(this,q)}};function ko(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ks(u),ii(u)}function Ks(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Mt(this,"complete"),Mt(this,"abort"),ii(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Gt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},s.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Dn(u)!=4||u.Z()!=2)){if(u.u&&Dn(u)==4)Qe(u.Ea,0,u);else if(Mt(u,"readystatechange"),Dn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var j=String(u.D).match(Wr)[1]||null;!j&&g.self&&g.self.location&&(j=g.self.location.protocol.slice(0,-1)),T=!Ys.test(j?j.toLowerCase():"")}p=T}if(p)Mt(u,"complete"),Mt(u,"success");else{u.m=6;try{var q=2<Dn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ks(u)}}finally{ii(u)}}}}function ii(u,m){if(u.g){as(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Mt(u,"ready");try{p.onreadystatechange=T}catch{}}}function as(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Dn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zs(m)}};function zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nh(u){const m={};u=(u.g&&2<=Dn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var p=M(u[T]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[j]||[];m[j]=q,q.push(p)}x(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=$s.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){re(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Qo(this,null,this.W),Js(this)};function ul(u){if(Po(u),u.G==3){var m=u.U++,p=mn(u.I);if(Xt(p,"SID",u.K),Xt(p,"RID",m),Xt(p,"TYPE","terminate"),os(u,p),m=new We(u,u.j,m),m.L=2,m.v=es(mn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Yo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zr(m)}Fo(u)}function Zs(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function Po(u){Zs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Js(u){if(!qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||N(),ot||(nt(),ot=!0),Ot.add(m,u),u.B=0}}function ih(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(D(u.Ga,u,m),fl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new We(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Bo(this,j,m),p=mn(this.I),Xt(p,"RID",u),Xt(p,"CVER",22),this.D&&Xt(p,"X-HTTP-Session-Id",this.D),os(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(ol(q)))+"&"+m:this.m&&Ve(p,this.m,q)),Gs(this.h,j),this.Ua&&Xt(p,"TYPE","init"),this.P?(Xt(p,"$req",m),Xt(p,"SID","null"),j.T=!0,Bn(j,p,null)):Bn(j,p,m),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||qs(this.h)||cl(this))};function cl(u,m){var p;m?p=m.l:p=u.U++;const T=mn(u.I);Xt(T,"SID",u.K),Xt(T,"RID",p),Xt(T,"AID",u.T),os(u,T),u.m&&u.o&&Ve(T,u.m,u.o),p=new We(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Bo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gs(u.h,p),Bn(p,T,m)}function os(u,m){u.H&&zt(u.H,function(p,T){Xt(m,T,p)}),u.l&&il({},function(p,T){Xt(m,T,p)})}function Bo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var j=u.i;let q=-1;for(;;){const et=["count="+p];q==-1?0<p?(q=j[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let xt=!0;for(let Re=0;Re<p;Re++){let Ut=j[Re].g;const Oe=j[Re].map;if(Ut-=q,0>Ut)q=Math.max(0,j[Re].g-100),xt=!1;else try{ti(Oe,et,"req"+Ut+"_")}catch{T&&T(Oe)}}if(xt){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function qo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||N(),ot||(nt(),ot=!0),Ot.add(m,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(D(u.Fa,u),fl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(D(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Zs(this),Ho(this))};function us(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ho(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=mn(u.qa);Xt(m,"RID","rpc"),Xt(m,"SID",u.K),Xt(m,"AID",u.T),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(m,"TO",u.ja),Xt(m,"TYPE","xmlhttp"),os(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=es(mn(m)),p.m=null,p.P=!0,Ri(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Zs(this),hl(this),re(19))};function Ws(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Go(u,m){var p=null;if(u.g==m){Ws(u),us(u),u.g=null;var T=2}else if(el(u.h,m))p=m.D,tn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;T=Wi(),Mt(T,new we(T,p)),Js(u)}else qo(u);else if(j=m.s,j==3||j==0&&0<m.X||!(T==1&&ih(u,m)||T==2&&hl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),j){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function fl(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const j=!T;T=new _e(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ts(T,"https"),es(T),j?is(T.toString(),p):qn(T.toString(),p)}else re(2);u.G=0,u.l&&u.l.sa(m),Fo(u),Po(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Fo(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Qo(u,m,p){var T=p instanceof _e?mn(p):new _e(p);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.s);else{var j=g.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var q=new _e(null);T&&ts(q,T),m&&(q.g=m),j&&rr(q,j),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Xt(T,p,m),Xt(T,"VER",u.la),os(u,T),T}function Yo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Gt(new sr({eb:p})):new Gt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ko(){}s=Ko.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ta(){}ta.prototype.g=function(u,m){return new en(u,m)};function en(u,m){Ht.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ri(this)}J(en,Ht),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ul(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Pn(u),u=p);m.i.push(new Uo(m.Ya++,u)),m.G==3&&Js(m)},en.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,en.aa.N.call(this)};function Xo(u){bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(Xo,bi);function $o(){Za.call(this),this.status=1}J($o,Za);function ri(u){this.g=u}J(ri,Ko),ri.prototype.ua=function(){Mt(this.g,"a")},ri.prototype.ta=function(u){Mt(this.g,new Xo(u))},ri.prototype.sa=function(u){Mt(this.g,new $o)},ri.prototype.ra=function(){Mt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Xv=function(){return new ta},Kv=function(){return Wi()},Yv=Xn,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,ic=nr,wi.COMPLETE="complete",Qv=wi,$a.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,eo=$a,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,Fv=Gt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",A_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new $d("@firebase/firestore");function Da(){return Ns.logLevel}function st(s,...e){if(Ns.logLevel<=kt.DEBUG){const i=e.map(Jd);Ns.debug(`Firestore (${Pa}): ${s}`,...i)}}function $i(s,...e){if(Ns.logLevel<=kt.ERROR){const i=e.map(Jd);Ns.error(`Firestore (${Pa}): ${s}`,...i)}}function xa(s,...e){if(Ns.logLevel<=kt.WARN){const i=e.map(Jd);Ns.warn(`Firestore (${Pa}): ${s}`,...i)}}function Jd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,$v(s,a,i)}function $v(s,e,i){let a=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function Ft(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||$v(e,o,a)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ib{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new Zv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class rb{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sb{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new rb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ab{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const a=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=lb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Nt(s,e){return s<e?-1:s>e?1:0}function bd(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return sd(o)===sd(h)?Nt(o,h):sd(o)?1:-1}return Nt(s.length,e.length)}const ob=55296,ub=57343;function sd(s){const e=s.charCodeAt(0);return e>=ob&&e<=ub}function Ua(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&gt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=hi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const a=hi.isNumericId(e),o=hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?hi.extractNumericId(e).compare(hi.extractNumericId(i)):bd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class ie extends hi{construct(e,i,a){return new ie(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends hi{construct(e,i,a){return new He(e,i,a)}static isValidIdentifier(e){return cb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new He([b_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(ie.fromString(e))}static fromName(e){return new ht(ie.fromString(e).popFirst(5))}static empty(){return new ht(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s,e,i){if(!i)throw new rt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hb(s,e,i,a){if(e===!0&&a===!0)throw new rt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function w_(s){if(!ht.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function R_(s){if(ht.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Qn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rc(s);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e){const i={typeString:s};return e&&(i.value=e),i}function Ao(s,e){if(!Wv(s))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new rt(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,I_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*I_);return new te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Se("string",te._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=-1;function fb(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new xr(o,ht.empty(),e)}function db(s){return new xr(s.readTime,s.key,mo)}class xr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new xr(Tt.min(),ht.empty(),mo)}static max(){return new xr(Tt.max(),ht.empty(),mo)}}function mb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==gb)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,a)=>{i(e)})}static reject(e){return new X((i,a)=>{a(e)})}static waitFor(e){return new X((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},y=>a(y))}),d=!0,h===o&&i()})}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next(o=>o?X.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new X((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const _=y;i(e[_]).next(A=>{d[_]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new X((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function yb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function Ic(s){return s==null}function hc(s){return s===0&&1/s==-1/0}function _b(s){return typeof s=="number"&&Number.isInteger(s)&&!hc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="";function vb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=D_(e)),e=Eb(s.get(i),e);return D_(e)}function Eb(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case t0:i+="";break;default:i+=h}}return i}function D_(s){return s+t0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function qr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function e0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new qe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new An([])}unionWith(e){let i=new Ne(He.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new An(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new n0("Invalid base64 string: "+h):h}}(e);return new Ge(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const Tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(s){if(Ft(!!s,39018),typeof s=="string"){let e=0;const i=Tb.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Lr(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="server_timestamp",r0="__type__",s0="__previous_value__",a0="__local_write_time__";function em(s){return(s?.mapValue?.fields||{})[r0]?.stringValue===i0}function Dc(s){const e=s.mapValue.fields[s0];return em(e)?Dc(e):e}function go(s){const e=Ur(s.mapValue.fields[a0].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,i,a,o,h,d,g,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const fc="(default)";class po{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="__type__",Sb="__max__",tc={mapValue:{}},o0="__vector__",dc="value";function jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?em(s)?4:wb(s)?9007199254740991:bb(s)?10:11:gt(28295,{value:s})}function yi(s,e){if(s===e)return!0;const i=jr(s);if(i!==jr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return go(s).isEqual(go(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ur(o.timestampValue),g=Ur(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Lr(o.bytesValue).isEqual(Lr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?hc(d)===hc(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return Ua(s.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(N_(d)!==N_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!yi(d[y],g[y])))return!1;return!0}(s,e);default:return gt(52216,{left:s})}}function yo(s,e){return(s.values||[]).find(i=>yi(i,e))!==void 0}function La(s,e){if(s===e)return 0;const i=jr(s),a=jr(e);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ge(h.integerValue||h.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(s,e);case 3:return O_(s.timestampValue,e.timestampValue);case 4:return O_(go(s),go(e));case 5:return bd(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Lr(h),y=Lr(d);return g.compareTo(y)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Nt(g[_],y[_]);if(A!==0)return A}return Nt(g.length,y.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(ge(h.latitude),ge(d.latitude));return g!==0?g:Nt(ge(h.longitude),ge(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return M_(s.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},_=g[dc]?.arrayValue,A=y[dc]?.arrayValue,I=Nt(_?.values?.length||0,A?.values?.length||0);return I!==0?I:M_(_,A)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===tc.mapValue&&d===tc.mapValue)return 0;if(h===tc.mapValue)return 1;if(d===tc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let I=0;I<y.length&&I<A.length;++I){const D=bd(y[I],A[I]);if(D!==0)return D;const H=La(g[y[I]],_[A[I]]);if(H!==0)return H}return Nt(y.length,A.length)}(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function O_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=Ur(s),a=Ur(e),o=Nt(i.seconds,a.seconds);return o!==0?o:Nt(i.nanos,a.nanos)}function M_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=La(i[o],a[o]);if(h)return h}return Nt(i.length,a.length)}function ja(s){return wd(s)}function wd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Ur(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Lr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=wd(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${wd(i.fields[d])}`;return o+"}"}(s.mapValue):gt(61005,{value:s})}function rc(s){switch(jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(s);return e?16+rc(e):16;case 5:return 2*s.stringValue.length;case 6:return Lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+rc(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return qr(a.fields,(h,d)=>{o+=h.length+rc(d)}),o}(s.mapValue);default:throw gt(13486,{value:s})}}function x_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Rd(s){return!!s&&"integerValue"in s}function nm(s){return!!s&&"arrayValue"in s}function U_(s){return!!s&&"nullValue"in s}function L_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sc(s){return!!s&&"mapValue"in s}function bb(s){return(s?.mapValue?.fields||{})[l0]?.stringValue===o0}function ao(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return qr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=ao(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ao(s.arrayValue.values[i]);return e}return{...s}}function wb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Sb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!sc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(i)}setAll(e){let i=He.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=ao(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){qr(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new on(ao(this.value))}}function u0(s){const e=[];return qr(s.fields,(i,a)=>{const o=new He([i]);if(sc(a)){const h=u0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ze(e,0,Tt.min(),Tt.min(),Tt.min(),on.empty(),0)}static newFoundDocument(e,i,a,o){return new Ze(e,1,i,Tt.min(),a,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,Tt.min(),Tt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,Tt.min(),Tt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.position=e,this.inclusive=i}}function j_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=La(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function k_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!yi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,i="asc"){this.field=e,this.dir=i}}function Rb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{}class Ae extends c0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Ib(e,i,a):i==="array-contains"?new Vb(e,a):i==="in"?new Ob(e,a):i==="not-in"?new Mb(e,a):i==="array-contains-any"?new xb(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Db(e,a):new Nb(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(La(i,this.value)):i!==null&&jr(this.value)===jr(i)&&this.matchesComparison(La(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends c0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return h0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h0(s){return s.op==="and"}function f0(s){return Cb(s)&&h0(s)}function Cb(s){for(const e of s.filters)if(e instanceof Yn)return!1;return!0}function Cd(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ja(s.value);if(f0(s))return s.filters.map(e=>Cd(e)).join(",");{const e=s.filters.map(i=>Cd(i)).join(",");return`${s.op}(${e})`}}function d0(s,e){return s instanceof Ae?function(a,o){return o instanceof Ae&&a.op===o.op&&a.field.isEqual(o.field)&&yi(a.value,o.value)}(s,e):s instanceof Yn?function(a,o){return o instanceof Yn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&d0(d,o.filters[g]),!0):!1}(s,e):void gt(19439)}function m0(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ja(i.value)}`}(s):s instanceof Yn?function(i){return i.op.toString()+" {"+i.getFilters().map(m0).join(" ,")+"}"}(s):"Filter"}class Ib extends Ae{constructor(e,i,a){super(e,i,a),this.key=ht.fromName(a.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class Db extends Ae{constructor(e,i){super(e,"in",i),this.keys=g0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Nb extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=g0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function g0(s,e){return(e.arrayValue?.values||[]).map(i=>ht.fromName(i.referenceValue))}class Vb extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nm(i)&&yo(i.arrayValue,this.value)}}class Ob extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&yo(this.value.arrayValue,i)}}class Mb extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yo(this.value.arrayValue,i)}}class xb extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>yo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function z_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new Ub(s,e,i,a,o,h,d)}function im(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Cd(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Ic(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ja(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ja(a)).join(",")),e.Te=i}return e.Te}function rm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Rb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!d0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!k_(s.startAt,e.startAt)&&k_(s.endAt,e.endAt)}function Id(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lb(s,e,i,a,o,h,d,g){return new Ha(s,e,i,a,o,h,d,g)}function sm(s){return new Ha(s)}function P_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function p0(s){return s.collectionGroup!==null}function lo(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ne(He.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new _o(h,a))}),i.has(He.keyField().canonicalString())||e.Ie.push(new _o(He.keyField(),a))}return e.Ie}function di(s){const e=At(s);return e.Ee||(e.Ee=jb(e,lo(s))),e.Ee}function jb(s,e){if(s.limitType==="F")return z_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new _o(o.field,h)});const i=s.endAt?new mc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new mc(s.startAt.position,s.startAt.inclusive):null;return z_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Dd(s,e){const i=s.filters.concat([e]);return new Ha(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Nd(s,e,i){return new Ha(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nc(s,e){return rm(di(s),di(e))&&s.limitType===e.limitType}function y0(s){return`${im(di(s))}|lt:${s.limitType}`}function Na(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>m0(o)).join(", ")}]`),Ic(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ja(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ja(o)).join(",")),`Target(${a})`}(di(s))}; limitType=${s.limitType})`}function Vc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ht.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of lo(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,y){const _=j_(d,g,y);return d.inclusive?_<=0:_<0}(a.startAt,lo(a),o)||a.endAt&&!function(d,g,y){const _=j_(d,g,y);return d.inclusive?_>=0:_>0}(a.endAt,lo(a),o))}(s,e)}function kb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _0(s){return(e,i)=>{let a=!1;for(const o of lo(s)){const h=zb(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function zb(s,e,i){const a=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const y=d.data.field(h),_=g.data.field(h);return y!==null&&_!==null?La(y,_):gt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return e0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new le(ht.comparator);function Zi(){return Pb}const v0=new le(ht.comparator);function no(...s){let e=v0;for(const i of s)e=e.insert(i.key,i);return e}function E0(s){let e=v0;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function Rs(){return oo()}function T0(){return oo()}function oo(){return new Us(s=>s.toString(),(s,e)=>s.isEqual(e))}const Bb=new le(ht.comparator),qb=new Ne(ht.comparator);function Vt(...s){let e=qb;for(const i of s)e=e.add(i);return e}const Hb=new Ne(Nt);function Gb(){return Hb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function A0(s){return{integerValue:""+s}}function Fb(s,e){return _b(e)?A0(e):am(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function Qb(s,e,i){return s instanceof gc?function(o,h){const d={fields:{[r0]:{stringValue:i0},[a0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&em(h)&&(h=Dc(h)),h&&(d.fields[s0]=h),{mapValue:d}}(i,e):s instanceof vo?b0(s,e):s instanceof Eo?w0(s,e):function(o,h){const d=S0(o,h),g=B_(d)+B_(o.Ae);return Rd(d)&&Rd(o.Ae)?A0(g):am(o.serializer,g)}(s,e)}function Yb(s,e,i){return s instanceof vo?b0(s,e):s instanceof Eo?w0(s,e):i}function S0(s,e){return s instanceof pc?function(a){return Rd(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class gc extends Oc{}class vo extends Oc{constructor(e){super(),this.elements=e}}function b0(s,e){const i=R0(e);for(const a of s.elements)i.some(o=>yi(o,a))||i.push(a);return{arrayValue:{values:i}}}class Eo extends Oc{constructor(e){super(),this.elements=e}}function w0(s,e){let i=R0(e);for(const a of s.elements)i=i.filter(o=>!yi(o,a));return{arrayValue:{values:i}}}class pc extends Oc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B_(s){return ge(s.integerValue||s.doubleValue)}function R0(s){return nm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Kb(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof vo&&o instanceof vo||a instanceof Eo&&o instanceof Eo?Ua(a.elements,o.elements,yi):a instanceof pc&&o instanceof pc?yi(a.Ae,o.Ae):a instanceof gc&&o instanceof gc}(s.transform,e.transform)}class Xb{constructor(e,i){this.version=e,this.transformResults=i}}class un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mc{}function C0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new xc(s.key,un.none()):new So(s.key,s.data,un.none());{const i=s.data,a=on.empty();let o=new Ne(He.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Hr(s.key,a,new An(o.toArray()),un.none())}}function $b(s,e,i){s instanceof So?function(o,h,d){const g=o.value.clone(),y=H_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Hr?function(o,h,d){if(!ac(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=H_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(I0(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function uo(s,e,i,a){return s instanceof So?function(h,d,g,y){if(!ac(h.precondition,d))return g;const _=h.value.clone(),A=G_(h.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof Hr?function(h,d,g,y){if(!ac(h.precondition,d))return g;const _=G_(h.fieldTransforms,y,d),A=d.data;return A.setAll(I0(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,g){return ac(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function Zb(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=S0(a.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(a.field,h))}return i||null}function q_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ua(a,o,(h,d)=>Kb(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class So extends Mc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Mc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function I0(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function H_(s,e,i){const a=new Map;Ft(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,Yb(d,g,i[o]))}return a}function G_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,Qb(h,d,e))}return a}class xc extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jb extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&$b(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=uo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=uo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=T0();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=C0(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(i,a)=>q_(i,a))&&Ua(this.baseMutations,e.baseMutations,(i,a)=>q_(i,a))}}class lm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ft(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return Bb}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new lm(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,jt;function n2(s){switch(s){case Y.OK:return gt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function D0(s){if(s===void 0)return $i("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Te.OK:return Y.OK;case Te.CANCELLED:return Y.CANCELLED;case Te.UNKNOWN:return Y.UNKNOWN;case Te.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Te.INTERNAL:return Y.INTERNAL;case Te.UNAVAILABLE:return Y.UNAVAILABLE;case Te.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Te.NOT_FOUND:return Y.NOT_FOUND;case Te.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Te.ABORTED:return Y.ABORTED;case Te.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Te.DATA_LOSS:return Y.DATA_LOSS;default:return gt(39323,{code:s})}}(jt=Te||(Te={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Nr([4294967295,4294967295],0);function F_(s){const e=i2().encode(s),i=new Gv;return i.update(e),new Uint8Array(i.digest())}function Q_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Nr([i,a],0),new Nr([o,h],0)]}class om{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new io(`Invalid padding: ${i}`);if(a<0)throw new io(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new io(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Nr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Nr.fromNumber(a)));return o.compare(r2)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F_(e),[a,o]=Q_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new om(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=F_(e),[a,o]=Q_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,bo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Uc(Tt.min(),o,new le(Nt),Zi(),Vt())}}class bo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new bo(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class N0{constructor(e,i){this.targetId=e,this.Ce=i}}class V0{constructor(e,i,a=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y_{constructor(){this.ve=0,this.Fe=K_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),a=Vt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:h})}}),new bo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zi(),this.Je=ec(),this.He=ec(),this.Ye=new le(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Id(h))if(a===0){const d=new ht(h.path);this.et(i,d,Ze.newNoDocument(d,Tt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Lr(a).toUint8Array()}catch(y){if(y instanceof n0)return xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new om(d,o,h)}catch(y){return xa(y instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Id(g.target)){const y=new ht(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=Vt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new Uc(e,i,this.Ye,this.je,a);return this.je=Zi(),this.Je=ec(),this.He=ec(),this.Ye=new le(Nt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ne(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ne(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ec(){return new le(ht.comparator)}function K_(){return new le(ht.comparator)}const a2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o2={and:"AND",or:"OR"};class u2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vd(s,e){return s.useProto3Json||Ic(e)?e:{value:e}}function yc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function c2(s,e){return yc(s,e.toTimestamp())}function mi(s){return Ft(!!s,49232),Tt.fromTimestamp(function(i){const a=Ur(i);return new te(a.seconds,a.nanos)}(s))}function um(s,e){return Od(s,e).canonicalString()}function Od(s,e){const i=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function M0(s){const e=ie.fromString(s);return Ft(k0(e),10190,{key:e.toString()}),e}function Md(s,e){return um(s.databaseId,e.path)}function ad(s,e){const i=M0(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(U0(i))}function x0(s,e){return um(s.databaseId,e)}function h2(s){const e=M0(s);return e.length===4?ie.emptyPath():U0(e)}function xd(s){return new ie(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function U0(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X_(s,e,i){return{name:Md(s,e),fields:i.value.mapValue.fields}}function f2(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Y.UNKNOWN:D0(_.code);return new rt(A,_.message||"")}(d);i=new V0(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ad(s,a.document.name),h=mi(a.document.updateTime),d=a.document.createTime?mi(a.document.createTime):Tt.min(),g=new on({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(o,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new lc(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ad(s,a.document),h=a.readTime?mi(a.readTime):Tt.min(),d=Ze.newNoDocument(o,h),g=a.removedTargetIds||[];i=new lc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ad(s,a.document),h=a.removedTargetIds||[];i=new lc([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new e2(o,h),g=a.targetId;i=new N0(g,d)}}return i}function d2(s,e){let i;if(e instanceof So)i={update:X_(s,e.key,e.value)};else if(e instanceof xc)i={delete:Md(s,e.key)};else if(e instanceof Hr)i={update:X_(s,e.key,e.data),updateMask:A2(e.fieldMask)};else{if(!(e instanceof Jb))return gt(16599,{Vt:e.type});i={verify:Md(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof pc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:c2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(s,e.precondition)),i}function m2(s,e){return s&&s.length>0?(Ft(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?mi(o.updateTime):mi(h);return d.isEqual(Tt.min())&&(d=mi(h)),new Xb(d,o.transformResults||[])}(i,e))):[]}function g2(s,e){return{documents:[x0(s,e.path)]}}function p2(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=x0(s,o);const h=function(_){if(_.length!==0)return j0(Yn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:Va(D.field),direction:v2(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Vd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function y2(s){let e=h2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const D=L0(I);return D instanceof Yn&&f0(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(D=>function(J){return new _o(Oa(J.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(I){let D;return D=typeof I=="object"?I.value:I,Ic(D)?null:D}(i.limit));let y=null;i.startAt&&(y=function(I){const D=!!I.before,H=I.values||[];return new mc(H,D)}(i.startAt));let _=null;return i.endAt&&(_=function(I){const D=!I.before,H=I.values||[];return new mc(H,D)}(i.endAt)),Lb(e,o,d,h,g,"F",y,_)}function _2(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function L0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Oa(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Oa(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Oa(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oa(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(Oa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Yn.create(i.compositeFilter.filters.map(a=>L0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(s):gt(30097,{filter:s})}function v2(s){return a2[s]}function E2(s){return l2[s]}function T2(s){return o2[s]}function Va(s){return{fieldPath:s.canonicalString()}}function Oa(s){return He.fromServerFormat(s.fieldPath)}function j0(s){return s instanceof Ae?function(i){if(i.op==="=="){if(L_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(U_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(U_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:E2(i.op),value:i.value}}}(s):s instanceof Yn?function(i){const a=i.getFilters().map(o=>j0(o));return a.length===1?a[0]:{compositeFilter:{op:T2(i.op),filters:a}}}(s):gt(54877,{filter:s})}function A2(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function k0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,a,o,h=Tt.min(),d=Tt.min(),g=Ge.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.yt=e}}function b2(s){const e=y2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.Cn=new R2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(xr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class R2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ne(ie.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ne(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(z0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ka(0)}static cr(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LruGarbageCollector",C2=1048576;function J_([s,e],[i,a]){const o=Nt(s,i);return o===0?Nt(e,a):o}class I2{constructor(e){this.Ir=e,this.buffer=new Ne(J_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();J_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qa(i)?st(Z_,"Ignoring IndexedDB error during garbage collection: ",i):await Ba(i)}await this.Vr(3e5)})}}class N2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Cc.ce);const a=new I2(i);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(a=I,g=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(_=Date.now(),Da()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${I} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I})))}}function V2(s,e){return new N2(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.changes=new Us(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&uo(a.mutation,o,An.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const o=Rs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=no();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=Rs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=Zi();const d=oo(),g=function(){return oo()}();return i.forEach((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Hr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),uo(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>g.set(_,new M2(A,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,i){const a=oo();let o=new le((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||An.empty();A=g.applyToLocalView(_,A),a.set(y,A);const I=(o.get(g.batchId)||Vt()).add(y);o=o.insert(g.batchId,I)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,I=T0();A.forEach(D=>{if(!h.has(D)){const H=C0(i.get(D),a.get(D));H!==null&&I.set(D,H),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,I))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):p0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):X.resolve(Rs());let g=mo,y=h;return d.next(_=>X.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{y=y.insert(A,D)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,y,_,Vt())).next(A=>({batchId:g,changes:E0(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(a=>{let o=no();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=no();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,y=>{const _=function(I,D){return new Ha(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next(A=>{A.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))});let g=no();return d.forEach((y,_)=>{const A=h.get(y);A!==void 0&&uo(A.mutation,_,An.empty(),te.now()),Vc(i,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:mi(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.overlays=new le(ht.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Rs();return X.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=Rs(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new le((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=Rs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Rs(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new t2(i,a));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.Qr=new Ne(Le.$r),this.Ur=new Ne(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Le(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new ht(new ie([])),a=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ht(new ie([])),a=new Le(i,e),o=new Le(i,e+1);let h=Vt();return this.Ur.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Le(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ht.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(Le.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Wb(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?tm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ne(Nt);return i.forEach(o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{a=a.add(g.Yr)})}),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ht.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ht(h),0);let g=new Ne(Nt);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)},d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,o=>{const h=new Le(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.ri=e,this.docs=function(){return new le(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let a=Zi();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))}),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Zi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mb(db(A),a)<=0||(o.has(A.key)||Vc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,o){gt(9500)}ii(e,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new P2(this)}getSize(e){return X.resolve(this.size)}}class P2 extends O2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.persistence=e,this.si=new Us(i=>im(i),rm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new cm,this.targetCount=0,this.ai=ka.ur()}forEachTarget(e,i){return this.si.forEach((a,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ka(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Cc(0),this.li=!1,this.li=!0,this.hi=new j2,this.referenceDelegate=e(this),this.Pi=new B2(this),this.indexManager=new w2,this.remoteDocumentCache=function(o){return new z2(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new S2(i),this.Ii=new U2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new L2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new k2(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){st("MemoryPersistence","Starting transaction:",e);const o=new q2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return X.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class q2 extends pb{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Ri=new cm,this.Vi=null}static mi(e){return new hm(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,a=>{const o=ht.fromPath(a);return this.gi(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.pi=new Us(a=>vb(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=V2(this,i)}static mi(e,i){return new _c(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return X.forEach(this.pi,(a,o)=>this.br(e,a,o).next(h=>h?X.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=rc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new fm(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return jA()?8:yb(xA())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new H2;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,a,o){return a.documentReadCount<this.fs?(Da()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Na(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Da()<=kt.DEBUG&&st("QueryEngine","Query:",Na(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Da()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Na(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(i))):X.resolve())}ys(e,i){if(P_(i))return X.resolve(null);let a=di(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),a=di(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,Nd(i,null,"F")):this.vs(e,_,i,y)}))})))}ws(e,i,a,o){return P_(i)||o.isEqual(Tt.min())?X.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?X.resolve(null):(Da()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Na(i)),this.vs(e,d,i,fb(o,mo)).next(g=>g))})}Ds(e,i){let a=new Ne(_0(e));return i.forEach((o,h)=>{Vc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Da()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Na(i)),this.ps.getDocumentsMatchingQuery(e,i,xr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="LocalStore",F2=3e8;class Q2{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(Nt),this.xs=new Us(h=>im(h),rm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function Y2(s,e,i,a){return new Q2(s,e,i,a)}async function B0(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let y=Vt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function K2(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,_,A){const I=_.batch,D=I.keys();let H=X.resolve();return D.forEach(J=>{H=H.next(()=>A.getEntry(y,J)).next(W=>{const $=_.docVersions.get(J);Ft($!==null,48541),W.version.compareTo($)<0&&(I.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(y,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let y=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function q0(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function X2(s,e){const i=At(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((A,I)=>{const D=o.get(I);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,I)));let H=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?H=H.withResumeToken(Ge.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),o=o.insert(I,H),function(W,$,Et){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=F2?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(D,H,A)&&g.push(i.Pi.updateTargetData(h,H))});let y=Zi(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push($2(h,d,e.documentUpdates).next(A=>{y=A.ks,_=A.qs})),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,_)).next(()=>y)}).then(h=>(i.Ms=o,h))}function $2(s,e,i){let a=Vt(),o=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Zi();return i.forEach((g,y)=>{const _=h.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):st(dm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)}),{ks:d,qs:o}})}function Z2(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=tm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function J2(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Pi.getTargetData(a,e).next(h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(a).next(d=>(o=new Cr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function Ud(s,e,i){const a=At(s),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!qa(d))throw d;st(dm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function W_(s,e,i){const a=At(s);let o=Tt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,A){const I=At(y),D=I.xs.get(A);return D!==void 0?X.resolve(I.Ms.get(D)):I.Pi.getTargetData(_,A)}(a,d,di(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Vt())).next(g=>(W2(a,kb(e),g),{documents:g,Qs:h})))}function W2(s,e,i){let a=s.Os.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(e,a)}class tv{constructor(){this.activeTargetIds=Gb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tw{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Ld(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="RestConnection",nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===fc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=Ld(),g=this.zo(e,i.toUriEncodedString());st(ld,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,h);const{host:_}=new URL(g),A=Xd(_);return this.Jo(e,g,y,a,A).then(I=>(st(ld,`Received RPC '${e}' ${d}: `,I),I),I=>{throw xa(ld,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",a),I})}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const a=nw[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class sw extends iw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Ld();return new Promise((g,y)=>{const _=new Fv;_.setWithCredentials(!0),_.listenOnce(Qv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ic.NO_ERROR:const I=_.getResponseJson();st(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case ic.TIMEOUT:st(Xe,`RPC '${e}' ${d} timed out`),y(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const D=_.getStatus();if(st(Xe,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const W=function(Et){const pt=Et.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(pt)>=0?pt:Y.UNKNOWN}(J.status);y(new rt(W,J.message))}else y(new rt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st(Xe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)})}T_(e,i,a){const o=Ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Xv(),g=Kv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=h.join("");st(Xe,`Creating RPC '${e}' stream ${o}: ${A}`,y);const I=d.createWebChannel(A,y);this.I_(I);let D=!1,H=!1;const J=new rw({Yo:$=>{H?st(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(D||(st(Xe,`Opening RPC '${e}' stream ${o} transport.`),I.open(),D=!0),st(Xe,`RPC '${e}' stream ${o} sending:`,$),I.send($))},Zo:()=>I.close()}),W=($,Et,pt)=>{$.listen(Et,ct=>{try{pt(ct)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return W(I,eo.EventType.OPEN,()=>{H||(st(Xe,`RPC '${e}' stream ${o} transport opened.`),J.o_())}),W(I,eo.EventType.CLOSE,()=>{H||(H=!0,st(Xe,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(I))}),W(I,eo.EventType.ERROR,$=>{H||(H=!0,xa(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))}),W(I,eo.EventType.MESSAGE,$=>{if(!H){const Et=$.data[0];Ft(!!Et,16349);const pt=Et,ct=pt?.error||pt[0]?.error;if(ct){st(Xe,`RPC '${e}' stream ${o} received error:`,ct);const Bt=ct.status;let vt=function(S){const b=Te[S];if(b!==void 0)return D0(b)}(Bt),zt=ct.message;vt===void 0&&(vt=Y.INTERNAL,zt="Unknown error status: "+Bt+" with message "+ct.message),H=!0,J.a_(new rt(vt,zt)),I.close()}else st(Xe,`RPC '${e}' stream ${o} received:`,Et),J.u_(Et)}}),W(g,Yv.STAT_EVENT,$=>{$.stat===Sd.PROXY?st(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Sd.NOPROXY&&st(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.__()},0),J}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(s){return new u2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="PersistentStream";class G0{constructor(e,i,a,o,h,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===i&&this.G_(a,o)},a=>{e(()=>{const o=new rt(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return st(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(st(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aw extends G0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=f2(this.serializer,e),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?mi(d.readTime):Tt.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=xd(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Id(y)?{documents:g2(h,y)}:{query:p2(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=O0(h,d.resumeToken);const _=Vd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=yc(h,d.snapshotVersion.toTimestamp());const _=Vd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=_2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=xd(this.serializer),i.removeTarget=e,this.q_(i)}}class lw extends G0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=m2(e.writeResults,e.commitTime),a=mi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>d2(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{}class uw extends ow{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Od(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Y.UNKNOWN,h.toString())})}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,Od(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class hw{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{Ls(this)&&(st(Vs,"Restarting streams for network reachability change."),await async function(y){const _=At(y);_.Ea.add(4),await wo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await jc(_)}(this))})}),this.Ra=new cw(a,o)}}async function jc(s){if(Ls(s))for(const e of s.da)await e(!0)}async function wo(s){for(const e of s.da)await e(!1)}function F0(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ym(i)?pm(i):Ga(i).O_()&&gm(i,e))}function mm(s,e){const i=At(s),a=Ga(i);i.Ia.delete(e),a.O_()&&Q0(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ls(i)&&i.Ra.set("Unknown"))}function gm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ga(s).Y_(e)}function Q0(s,e){s.Va.Ue(e),Ga(s).Z_(e)}function pm(s){s.Va=new s2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ga(s).start(),s.Ra.ua()}function ym(s){return Ls(s)&&!Ga(s).x_()&&s.Ia.size>0}function Ls(s){return At(s).Ea.size===0}function Y0(s){s.Va=void 0}async function fw(s){s.Ra.set("Online")}async function dw(s){s.Ia.forEach((e,i)=>{gm(s,e)})}async function mw(s,e){Y0(s),ym(s)?(s.Ra.ha(e),pm(s)):s.Ra.set("Unknown")}async function gw(s,e,i){if(s.Ra.set("Online"),e instanceof V0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(s,e)}catch(a){st(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vc(s,a)}else if(e instanceof lc?s.Va.Ze(e):e instanceof N0?s.Va.st(e):s.Va.tt(e),!i.isEqual(Tt.min()))try{const a=await q0(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,_)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),Q0(h,y);const I=new Cr(A.target,y,_,A.sequenceNumber);gm(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){st(Vs,"Failed to raise snapshot:",a),await vc(s,a)}}async function vc(s,e,i){if(!qa(e))throw e;s.Ea.add(1),await wo(s),s.Ra.set("Offline"),i||(i=()=>q0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{st(Vs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jc(s)})}function K0(s,e){return e().catch(i=>vc(s,i,e))}async function kc(s){const e=At(s),i=kr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tm;for(;pw(e);)try{const o=await Z2(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,yw(e,o)}catch(o){await vc(e,o)}X0(e)&&$0(e)}function pw(s){return Ls(s)&&s.Ta.length<10}function yw(s,e){s.Ta.push(e);const i=kr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function X0(s){return Ls(s)&&!kr(s).x_()&&s.Ta.length>0}function $0(s){kr(s).start()}async function _w(s){kr(s).ra()}async function vw(s){const e=kr(s);for(const i of s.Ta)e.ea(i.mutations)}async function Ew(s,e,i){const a=s.Ta.shift(),o=lm.from(a,e,i);await K0(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await kc(s)}async function Tw(s,e){e&&kr(s).X_&&await async function(a,o){if(function(d){return n2(d)&&d!==Y.ABORTED}(o.code)){const h=a.Ta.shift();kr(a).B_(),await K0(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await kc(a)}}(s,e),X0(s)&&$0(s)}async function rv(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),st(Vs,"RemoteStore received new credentials");const a=Ls(i);i.Ea.add(3),await wo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jc(i)}async function Aw(s,e){const i=At(s);e?(i.Ea.delete(2),await jc(i)):e||(i.Ea.add(2),await wo(i),i.Ra.set("Unknown"))}function Ga(s){return s.ma||(s.ma=function(i,a,o){const h=At(i);return h.sa(),new aw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Xo:fw.bind(null,s),t_:dw.bind(null,s),r_:mw.bind(null,s),H_:gw.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),ym(s)?pm(s):s.Ra.set("Unknown")):(await s.ma.stop(),Y0(s))})),s.ma}function kr(s){return s.fa||(s.fa=function(i,a,o){const h=At(i);return h.sa(),new lw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:_w.bind(null,s),r_:Tw.bind(null,s),ta:vw.bind(null,s),na:Ew.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await kc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Vs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new _m(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(s,e){if($i("AsyncQueue",`${e}: ${s}`),qa(s))return new rt(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=no(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ma;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.ga=new le(ht.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class za{constructor(e,i,a,o,h,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new za(e,i,Ma.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bw{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),h=o.queries;o.queries=av(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(a)})})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function av(){return new Us(s=>y0(s),Nc)}async function Z0(s,e){const i=At(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new Sw,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=vm(d,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Em(i)}async function J0(s,e){const i=At(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ww(s,e){const i=At(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Em(i)}function Rw(s,e,i){const a=At(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Em(s){s.Ca.forEach(e=>{e.next()})}var jd,lv;(lv=jd||(jd={})).Ma="default",lv.Cache="cache";class W0{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new za(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class Cw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=_0(e),this.tu=new Ma(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,I)=>{const D=o.get(A),H=Vc(this.query,I)?I:null,J=!!D&&this.mutatedKeys.has(D.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;D&&H?D.data.isEqual(H.data)?J!==W&&(a.track({type:3,doc:H}),$=!0):this.su(D,H)||(a.track({type:2,doc:H}),$=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!D&&H?(a.track({type:0,doc:H}),$=!0):D&&!H&&(a.track({type:1,doc:D}),$=!0,(y||_)&&(g=!0)),$&&(H?(d=d.add(H),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,I)=>function(H,J){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return W(H)-W(J)}(A.type,I.type)||this.eu(A.doc,I.doc)),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new za(this.query,e.tu,h,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new eE(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new tE(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class Iw{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class Dw{constructor(e){this.key=e,this.hu=!1}}class Nw{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Us(g=>y0(g),Nc),this.Iu=new Map,this.Eu=new Set,this.du=new le(ht.comparator),this.Au=new Map,this.Ru=new cm,this.Vu={},this.mu=new Map,this.fu=ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vw(s,e,i=!0){const a=lE(s);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await nE(a,e,i,!0),o}async function Ow(s,e){const i=lE(s);await nE(i,e,!0,!1)}async function nE(s,e,i,a){const o=await J2(s.localStore,di(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await Mw(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&F0(s.remoteStore,o),g}async function Mw(s,e,i,a,o){s.pu=(I,D,H)=>async function(W,$,Et,pt){let ct=$.view.ru(Et);ct.Cs&&(ct=await W_(W.localStore,$.query,!1).then(({documents:x})=>$.view.ru(x,ct)));const Bt=pt&&pt.targetChanges.get($.targetId),vt=pt&&pt.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(ct,W.isPrimaryClient,Bt,vt);return uv(W,$.targetId,zt.au),zt.snapshot}(s,I,D,H);const h=await W_(s.localStore,e,!0),d=new Cw(e,h.Qs),g=d.ru(h.documents),y=bo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);uv(s,i,_.au);const A=new Iw(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function xw(s,e,i){const a=At(s),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter(d=>!Nc(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&mm(a.remoteStore,o.targetId),kd(a,o.targetId)}).catch(Ba)):(kd(a,o.targetId),await Ud(a.localStore,o.targetId,!0))}async function Uw(s,e){const i=At(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),mm(i.remoteStore,a.targetId))}async function Lw(s,e,i){const a=Hw(s);try{const o=await function(d,g){const y=At(d),_=te.now(),A=g.reduce((H,J)=>H.add(J.key),Vt());let I,D;return y.persistence.runTransaction("Locally write mutations","readwrite",H=>{let J=Zi(),W=Vt();return y.Ns.getEntries(H,A).next($=>{J=$,J.forEach((Et,pt)=>{pt.isValidDocument()||(W=W.add(Et))})}).next(()=>y.localDocuments.getOverlayedDocuments(H,J)).next($=>{I=$;const Et=[];for(const pt of g){const ct=Zb(pt,I.get(pt.key).overlayedDocument);ct!=null&&Et.push(new Hr(pt.key,ct,u0(ct.value.mapValue),un.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,Et,g)}).next($=>{D=$;const Et=$.applyToLocalDocumentSet(I,W);return y.documentOverlayCache.saveOverlays(H,$.batchId,Et)})}).then(()=>({batchId:D.batchId,changes:E0(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Nt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_}(a,o.batchId,i),await Ro(a,o.changes),await kc(a.remoteStore)}catch(o){const h=vm(o,"Failed to persist write");i.reject(h)}}async function iE(s,e){const i=At(s);try{const a=await X2(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))}),await Ro(i,a,e)}catch(a){await Ba(a)}}function ov(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let _=!1;y.queries.forEach((A,I)=>{for(const D of I.Sa)D.va(g)&&(_=!0)}),_&&Em(y)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function jw(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new le(ht.comparator);d=d.insert(h,Ze.newNoDocument(h,Tt.min()));const g=Vt().add(h),y=new Uc(Tt.min(),new Map,new le(Nt),d,g);await iE(a,y),a.du=a.du.remove(h),a.Au.delete(e),Am(a)}else await Ud(a.localStore,e,!1).then(()=>kd(a,e,i)).catch(Ba)}async function kw(s,e){const i=At(s),a=e.batch.batchId;try{const o=await K2(i.localStore,e);sE(i,a,null),rE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ro(i,o)}catch(o){await Ba(o)}}async function zw(s,e,i){const a=At(s);try{const o=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next(I=>(Ft(I!==null,37113),A=I.keys(),y.mutationQueue.removeMutationBatch(_,I))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>y.localDocuments.getDocuments(_,A))})}(a.localStore,e);sE(a,e,i),rE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ro(a,o)}catch(o){await Ba(o)}}function rE(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function sE(s,e,i){const a=At(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function kd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||aE(s,a)})}function aE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(mm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Am(s))}function uv(s,e,i){for(const a of i)a instanceof tE?(s.Ru.addReference(a.key,e),Pw(s,a)):a instanceof eE?(st(Tm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||aE(s,a.key)):gt(19791,{wu:a})}function Pw(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(st(Tm,"New document in limbo: "+i),s.Eu.add(a),Am(s))}function Am(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ht(ie.fromString(e)),a=s.fu.next();s.Au.set(a,new Dw(i)),s.du=s.du.insert(i,a),F0(s.remoteStore,new Cr(di(sm(i.path)),a,"TargetPurposeLimboResolution",Cc.ce))}}async function Ro(s,e,i){const a=At(s),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((g,y)=>{d.push(a.pu(y,e,i).then(_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=fm.As(y.targetId,_);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(o),await async function(y,_){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>X.forEach(_,D=>X.forEach(D.Es,H=>A.persistence.referenceDelegate.addReference(I,D.targetId,H)).next(()=>X.forEach(D.ds,H=>A.persistence.referenceDelegate.removeReference(I,D.targetId,H)))))}catch(I){if(!qa(I))throw I;st(dm,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const H=A.Ms.get(D),J=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(D,W)}}}(a.localStore,h))}async function Bw(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){st(Tm,"User change. New user:",e.toKey());const a=await B0(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new rt(Y.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ro(i,a.Ls)}}function qw(s,e){const i=At(s),a=i.Au.get(e);if(a&&a.hu)return Vt().add(a.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function lE(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jw.bind(null,e),e.Pu.H_=ww.bind(null,e.eventManager),e.Pu.yu=Rw.bind(null,e.eventManager),e}function Hw(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zw.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Y2(this.persistence,new G2,e.initialUser,this.serializer)}Cu(e){return new P0(hm.mi,this.serializer)}Du(e){return new tw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class Gw extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof _c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new D2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new P0(a=>_c.mi(a,i),this.serializer)}}class zd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bw.bind(null,this.syncEngine),await Aw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bw}()}createDatastore(e){const i=Lc(e.databaseInfo.databaseId),a=function(h){return new sw(h)}(e.databaseInfo);return function(h,d,g,y){return new uw(h,d,g,y)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new hw(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>ov(this.syncEngine,i,0),function(){return nv.v()?new nv:new ew}())}createSyncEngine(e,i){return function(o,h,d,g,y,_,A){const I=new Nw(o,h,d,g,y,_);return A&&(I.gu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=At(i);st(Vs,"RemoteStore shutting down."),a.Ea.add(5),await wo(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class Fw{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{st(zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(st(zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=vm(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function ud(s,e){s.asyncQueue.verifyOperationInProgress(),st(zr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await B0(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function cv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Qw(s);st(zr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>rv(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>rv(e.remoteStore,o)),s._onlineComponents=e}async function Qw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(zr,"Using user provided OfflineComponentProvider");try{await ud(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;xa("Error using user provided cache. Falling back to memory cache: "+i),await ud(s,new Ec)}}else st(zr,"Using default OfflineComponentProvider"),await ud(s,new Gw(void 0));return s._offlineComponents}async function uE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(zr,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(st(zr,"Using default OnlineComponentProvider"),await cv(s,new zd))),s._onlineComponents}function Yw(s){return uE(s).then(e=>e.syncEngine)}async function Pd(s){const e=await uE(s),i=e.eventManager;return i.onListen=Vw.bind(null,e.syncEngine),i.onUnlisten=xw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ow.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Uw.bind(null,e.syncEngine),i}function Kw(s,e,i={}){const a=new Vr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,_){const A=new oE({next:D=>{A.Nu(),d.enqueueAndForget(()=>J0(h,I)),D.fromCache&&y.source==="server"?_.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new W0(g,A,{includeMetadataChanges:!0,qa:!0});return Z0(h,I)}(await Pd(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hE,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C2)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new eb;switch(a.type){case"firstParty":return new sb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=hv.get(i);a&&(st("ComponentProvider","Removing Datastore"),hv.delete(i),a.terminate())}(this),Promise.resolve()}}function Xw(s,e,i,a={}){s=Qn(s,zc);const o=Xd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(DA(`https://${g}`),MA("Firestore",!0)),h.host!==hE&&h.host!==g&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:o,emulatorOptions:a};if(!ho(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=$e.MOCK_USER;else{_=NA(a.mockUserToken,s._app?.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(I)}s._authCredentials=new nb(new Zv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Gr(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ao(i,be._jsonSchema))return new be(e,a||null,new ht(ie.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Se("string",be._jsonSchemaVersion),referencePath:Se("string")};class Or extends Gr{constructor(e,i,a){super(e,i,sm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ht(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function js(s,e,...i){if(s=hn(s),Jv("collection","path",e),s instanceof zc){const a=ie.fromString(e,...i);return R_(a),new Or(s,null,a)}{if(!(s instanceof be||s instanceof Or))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(e,...i));return R_(a),new Or(s.firestore,null,a)}}function Pc(s,e,...i){if(s=hn(s),arguments.length===1&&(e=Wd.newId()),Jv("doc","path",e),s instanceof zc){const a=ie.fromString(e,...i);return w_(a),new be(s,null,new ht(a))}{if(!(s instanceof be||s instanceof Or))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ie.fromString(e,...i));return w_(a),new be(s.firestore,s instanceof Or?s.converter:null,new ht(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H0(this,"async_queue_retry"),this._c=()=>{const a=od();a&&st(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Vr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qa(e))throw e;st(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",pv(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=_m.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Pr extends zc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function $w(s,e){const i=typeof s=="object"?s:Bv(),a=typeof s=="string"?s:fc,o=To(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=CA("firestore");h&&Xw(o,...h)}return o}function Bc(s){if(s._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Zw(s),s._firestoreClient}function Zw(s){const e=s._freezeSettings(),i=function(o,h,d,g){return new Ab(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,cE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Fw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Ge.fromBase64String(e))}catch(i){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Se("string",jn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Se("string",gi._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new pi(e.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Se("string",pi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=/^__.*__$/;class Ww{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,i,this.fieldTransforms):new So(e,this.data,i,this.fieldTransforms)}}class fE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Hr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function dE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class bm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dE(this.Ac)&&Jw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Lc(e)}Cc(e,i,a,o=!1){return new bm({Ac:e,methodName:i,Dc:a,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qc(s){const e=s._freezeSettings(),i=Lc(s._databaseId);return new tR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function mE(s,e,i,a,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);wm("Data must be an object, but it was:",d,a);const g=yE(a,d);let y,_;if(h.merge)y=new An(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const D=Bd(e,I,i);if(!d.contains(D))throw new rt(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);vE(A,D)||A.push(D)}y=new An(A),_=d.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,_=d.fieldTransforms;return new Ww(new on(g),y,_)}class Hc extends Sm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function gE(s,e,i,a){const o=s.Cc(1,e,i);wm("Data must be an object, but it was:",o,a);const h=[],d=on.empty();qr(a,(y,_)=>{const A=Rm(e,y,i);_=hn(_);const I=o.yc(A);if(_ instanceof Hc)h.push(A);else{const D=Io(_,I);D!=null&&(h.push(A),d.set(A,D))}});const g=new An(h);return new fE(d,g,o.fieldTransforms)}function pE(s,e,i,a,o,h){const d=s.Cc(1,e,i),g=[Bd(e,a,i)],y=[o];if(h.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(Bd(e,h[D])),y.push(h[D+1]);const _=[],A=on.empty();for(let D=g.length-1;D>=0;--D)if(!vE(_,g[D])){const H=g[D];let J=y[D];J=hn(J);const W=d.yc(H);if(J instanceof Hc)_.push(H);else{const $=Io(J,W);$!=null&&(_.push(H),A.set(H,$))}}const I=new An(_);return new fE(A,I,d.fieldTransforms)}function eR(s,e,i,a=!1){return Io(i,s.Cc(a?4:3,e))}function Io(s,e){if(_E(s=hn(s)))return wm("Unsupported field value:",e,s),yE(s,e);if(s instanceof Sm)return function(a,o){if(!dE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let y=Io(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Fb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=te.fromDate(a);return{timestampValue:yc(o.serializer,h)}}if(a instanceof te){const h=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yc(o.serializer,h)}}if(a instanceof gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:O0(o.serializer,a._byteString)};if(a instanceof be){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:um(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof pi)return function(d,g){return{mapValue:{fields:{[l0]:{stringValue:o0},[dc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return am(g.serializer,_)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${Rc(a)}`)}(s,e)}function yE(s,e){const i={};return e0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(s,(a,o)=>{const h=Io(o,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function _E(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof gi||s instanceof jn||s instanceof be||s instanceof Sm||s instanceof pi)}function wm(s,e,i){if(!_E(i)||!Wv(i)){const a=Rc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Bd(s,e,i){if((e=hn(e))instanceof Co)return e._internalPath;if(typeof e=="string")return Rm(s,e);throw Tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const nR=new RegExp("[~\\*/\\[\\]]");function Rm(s,e,i){if(e.search(nR)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Co(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Tc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new rt(Y.INVALID_ARGUMENT,g+s+y)}function vE(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iR extends EE{data(){return super.data()}}function Gc(s,e){return typeof e=="string"?Rm(s,e):e instanceof Co?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class AE extends Cm{}function Im(s,e,...i){let a=[];e instanceof Cm&&a.push(e),a=a.concat(i),function(h){const d=h.filter(y=>y instanceof Dm).length,g=h.filter(y=>y instanceof Fc).length;if(d>1||d>0&&g>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class Fc extends AE{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Fc(e,i,a)}_apply(e){const i=this._parse(e);return SE(e._query,i),new Gr(e.firestore,e.converter,Dd(e._query,i))}_parse(e){const i=qc(e.firestore);return function(h,d,g,y,_,A,I){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){vv(I,A);const J=[];for(const W of I)J.push(_v(y,h,W));D={arrayValue:{values:J}}}else D=_v(y,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||vv(I,A),D=eR(g,d,I,A==="in"||A==="not-in");return Ae.create(_,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function qd(s,e,i){const a=e,o=Gc("where",s);return Fc._create(o,a,i)}class Dm extends Cm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Dm(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const y of g)SE(d,y),d=Dd(d,y)}(e._query,i),new Gr(e.firestore,e.converter,Dd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nm extends AE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Nm(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _o(h,d)}(e._query,this._field,this._direction);return new Gr(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Ha(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function rR(s,e="asc"){const i=e,a=Gc("orderBy",s);return Nm._create(a,i)}function _v(s,e,i){if(typeof(i=hn(i))=="string"){if(i==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(e)&&i.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ie.fromString(i));if(!ht.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return x_(s,new ht(a))}if(i instanceof be)return x_(s,i._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rc(i)}.`)}function vv(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SE(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class sR{convertValue(e,i="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return qr(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){const i=e.fields?.[dc].arrayValue?.values?.map(a=>ge(a.doubleValue));return new pi(i)}convertGeoPoint(e){return new gi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Dc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const i=Ur(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ie.fromString(e);Ft(k0(a),9688,{name:e});const o=new po(a.get(1),a.get(3)),h=new ht(a.popFirst(5));return o.isEqual(i)||$i(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Is extends EE{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Gc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Is._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:Se("string",Is._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class oc extends Is{data(e={}){return super.data(e)}}class Ds{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new oc(this._firestore,this._userDataWriter,a.key,a,new ro(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new oc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new oc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:aR(g.type),doc:y,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ds._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}Ds._jsonSchemaVersion="firestore/querySnapshot/1.0",Ds._jsonSchema={type:Se("string",Ds._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class Vm extends sR{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function Om(s){s=Qn(s,Gr);const e=Qn(s.firestore,Pr),i=Bc(e),a=new Vm(e);return TE(s._query),Kw(i,s._query).then(o=>new Ds(e,a,s,o))}function lR(s,e,i,...a){s=Qn(s,be);const o=Qn(s.firestore,Pr),h=qc(o);let d;return d=typeof(e=hn(e))=="string"||e instanceof Co?pE(h,"updateDoc",s._key,e,i,a):gE(h,"updateDoc",s._key,e),Qc(o,[d.toMutation(s._key,un.exists(!0))])}function oR(s){return Qc(Qn(s.firestore,Pr),[new xc(s._key,un.none())])}function wE(s,e){const i=Qn(s.firestore,Pr),a=Pc(s),o=bE(s.converter,e);return Qc(i,[mE(qc(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,un.exists(!1))]).then(()=>a)}function RE(s,...e){s=hn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let h,d,g;if(s instanceof be)d=Qn(s.firestore,Pr),g=sm(s._key.path),h={next:y=>{e[a]&&e[a](uR(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Qn(s,Gr);d=Qn(y.firestore,Pr),g=y._query;const _=new Vm(d);h={next:A=>{e[a]&&e[a](new Ds(d,_,y,A))},error:e[a+1],complete:e[a+2]},TE(s._query)}return function(_,A,I,D){const H=new oE(D),J=new W0(A,H,I);return _.asyncQueue.enqueueAndForget(async()=>Z0(await Pd(_),J)),()=>{H.Nu(),_.asyncQueue.enqueueAndForget(async()=>J0(await Pd(_),J))}}(Bc(d),g,o,h)}function Qc(s,e){return function(a,o){const h=new Vr;return a.asyncQueue.enqueueAndForget(async()=>Lw(await Yw(a),o,h)),h.promise}(Bc(s),e)}function uR(s,e,i){const a=i.docs.get(e._key),o=new Vm(s);return new Is(s,o,e._key,a,new ro(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=qc(e)}set(e,i,a){this._verifyNotCommitted();const o=cd(e,this._firestore),h=bE(o.converter,i,a),d=mE(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,un.none())),this}update(e,i,a,...o){this._verifyNotCommitted();const h=cd(e,this._firestore);let d;return d=typeof(i=hn(i))=="string"||i instanceof Co?pE(this._dataReader,"WriteBatch.update",h._key,i,a,o):gE(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=cd(e,this._firestore);return this._mutations=this._mutations.concat(new xc(i._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cd(s,e){if((s=hn(s)).firestore!==e)throw new rt(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(s){return Bc(s=Qn(s,Pr)),new cR(s,e=>Qc(s,e))}(function(e,i=!0){(function(o){Pa=o})(GS),Mr(new Ki("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Pr(new ib(a.getProvider("auth-internal")),new ab(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(_.options.projectId,A)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),fi(T_,A_,e),fi(T_,A_,"esm2020")})();var hR="firebase",fR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(hR,fR,"app");const IE="@firebase/installations",Mm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=1e4,NE=`w:${Mm}`,VE="FIS_v2",dR="https://firebaseinstallations.googleapis.com/v1",mR=60*60*1e3,gR="installations",pR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Os=new wc(gR,pR,yR);function OE(s){return s instanceof Br&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME({projectId:s}){return`${dR}/projects/${s}/installations`}function xE(s){return{token:s.token,requestStatus:2,expiresIn:vR(s.expiresIn),creationTime:Date.now()}}async function UE(s,e){const a=(await e.json()).error;return Os.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function LE({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function _R(s,{refreshToken:e}){const i=LE(s);return i.append("Authorization",ER(e)),i}async function jE(s){const e=await s();return e.status>=500&&e.status<600?s():e}function vR(s){return Number(s.replace("s","000"))}function ER(s){return`${VE} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const a=ME(s),o=LE(s),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:VE,appId:s.appId,sdkVersion:NE},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await jE(()=>fetch(a,g));if(y.ok){const _=await y.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:xE(_.authToken)}}else throw await UE("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^[cdef][\w-]{21}$/,Hd="";function bR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=wR(s);return SR.test(i)?i:Hd}catch{return Hd}}function wR(s){return AR(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function PE(s,e){const i=Yc(s);BE(i,e),RR(i,e)}function BE(s,e){const i=zE.get(s);if(i)for(const a of i)a(e)}function RR(s,e){const i=CR();i&&i.postMessage({key:s,fid:e}),IR()}let Cs=null;function CR(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=s=>{BE(s.data.key,s.data.fid)}),Cs}function IR(){zE.size===0&&Cs&&(Cs.close(),Cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-installations-database",NR=1,Ms="firebase-installations-store";let hd=null;function xm(){return hd||(hd=zv(DR,NR,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Ms)}}})),hd}async function Ac(s,e){const i=Yc(s),o=(await xm()).transaction(Ms,"readwrite"),h=o.objectStore(Ms),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&PE(s,e.fid),e}async function qE(s){const e=Yc(s),a=(await xm()).transaction(Ms,"readwrite");await a.objectStore(Ms).delete(e),await a.done}async function Kc(s,e){const i=Yc(s),o=(await xm()).transaction(Ms,"readwrite"),h=o.objectStore(Ms),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&PE(s,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(s){let e;const i=await Kc(s.appConfig,a=>{const o=VR(a),h=OR(s,o);return e=h.registrationPromise,h.installationEntry});return i.fid===Hd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function VR(s){const e=s||{fid:bR(),registrationStatus:0};return HE(e)}function OR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Os.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=MR(s,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xR(s)}:{installationEntry:e}}async function MR(s,e){try{const i=await TR(s,e);return Ac(s.appConfig,i)}catch(i){throw OE(i)&&i.customData.serverCode===409?await qE(s.appConfig):await Ac(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function xR(s){let e=await Ev(s.appConfig);for(;e.registrationStatus===1;)await kE(100),e=await Ev(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=await Um(s);return a||i}return e}function Ev(s){return Kc(s,e=>{if(!e)throw Os.create("installation-not-found");return HE(e)})}function HE(s){return UR(s)?{fid:s.fid,registrationStatus:0}:s}function UR(s){return s.registrationStatus===1&&s.registrationTime+DE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR({appConfig:s,heartbeatServiceProvider:e},i){const a=jR(s,i),o=_R(s,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:NE,appId:s.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await jE(()=>fetch(a,g));if(y.ok){const _=await y.json();return xE(_)}else throw await UE("Generate Auth Token",y)}function jR(s,{fid:e}){return`${ME(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(s,e=!1){let i;const a=await Kc(s.appConfig,h=>{if(!GE(h))throw Os.create("not-registered");const d=h.authToken;if(!e&&PR(d))return h;if(d.requestStatus===1)return i=kR(s,e),h;{if(!navigator.onLine)throw Os.create("app-offline");const g=qR(h);return i=zR(s,g),g}});return i?await i:a.authToken}async function kR(s,e){let i=await Tv(s.appConfig);for(;i.authToken.requestStatus===1;)await kE(100),i=await Tv(s.appConfig);const a=i.authToken;return a.requestStatus===0?Lm(s,e):a}function Tv(s){return Kc(s,e=>{if(!GE(e))throw Os.create("not-registered");const i=e.authToken;return HR(i)?{...e,authToken:{requestStatus:0}}:e})}async function zR(s,e){try{const i=await LR(s,e),a={...e,authToken:i};return await Ac(s.appConfig,a),i}catch(i){if(OE(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await qE(s.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Ac(s.appConfig,a)}throw i}}function GE(s){return s!==void 0&&s.registrationStatus===2}function PR(s){return s.requestStatus===2&&!BR(s)}function BR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+mR}function qR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function HR(s){return s.requestStatus===1&&s.requestTime+DE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(s){const e=s,{installationEntry:i,registrationPromise:a}=await Um(e);return a?a.catch(console.error):Lm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(s,e=!1){const i=s;return await QR(i),(await Lm(i,e)).token}async function QR(s){const{registrationPromise:e}=await Um(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(s){if(!s||!s.options)throw fd("App Configuration");if(!s.name)throw fd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw fd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function fd(s){return Os.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="installations",KR="installations-internal",XR=s=>{const e=s.getProvider("app").getImmediate(),i=YR(e),a=To(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},$R=s=>{const e=s.getProvider("app").getImmediate(),i=To(e,FE).getImmediate();return{getId:()=>GR(i),getToken:o=>FR(i,o)}};function ZR(){Mr(new Ki(FE,XR,"PUBLIC")),Mr(new Ki(KR,$R,"PRIVATE"))}ZR();fi(IE,Mm);fi(IE,Mm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="analytics",JR="firebase_id",WR="origin",tC=60*1e3,eC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new $d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new wc("analytics","Analytics",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(s){if(!s.startsWith(jm)){const e=Sn.create("invalid-gtag-resource",{gtagURL:s});return cn.warn(e.message),""}return s}function QE(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function rC(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function sC(s,e){const i=rC("firebase-js-sdk-policy",{createScriptURL:iC}),a=document.createElement("script"),o=`${jm}?l=${s}&id=${e}`;a.src=i?i?.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function aC(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function lC(s,e,i,a,o,h){const d=a[o];try{if(d)await e[d];else{const y=(await QE(i)).find(_=>_.measurementId===o);y&&await e[y.appId]}}catch(g){cn.error(g)}s("config",o,h)}async function oC(s,e,i,a,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await QE(i);for(const y of d){const _=g.find(I=>I.measurementId===y),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),s("event",a,o||{})}catch(h){cn.error(h)}}function uC(s,e,i,a){async function o(h,...d){try{if(h==="event"){const[g,y]=d;await oC(s,e,i,g,y)}else if(h==="config"){const[g,y]=d;await lC(s,e,i,a,g,y)}else if(h==="consent"){const[g,y]=d;s("consent",g,y)}else if(h==="get"){const[g,y,_]=d;s("get",g,y,_)}else if(h==="set"){const[g]=d;s("set",g)}else s(h,...d)}catch(g){cn.error(g)}}return o}function cC(s,e,i,a,o){let h=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=uC(h,s,e,i),{gtagCore:h,wrappedGtag:window[o]}}function hC(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(jm)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=30,dC=1e3;class mC{constructor(e={},i=dC){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YE=new mC;function gC(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function pC(s){const{appId:e,apiKey:i}=s,a={method:"GET",headers:gC(i)},o=eC.replace("{app-id}",e),h=await fetch(o,a);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();g.error?.message&&(d=g.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function yC(s,e=YE,i){const{appId:a,apiKey:o,measurementId:h}=s.options;if(!a)throw Sn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:a};throw Sn.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new EC;return setTimeout(async()=>{g.abort()},tC),KE({appId:a,apiKey:o,measurementId:h},d,g,e)}async function KE(s,{throttleEndTimeMillis:e,backoffCount:i},a,o=YE){const{appId:h,measurementId:d}=s;try{await _C(a,e)}catch(g){if(d)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await pC(s);return o.deleteThrottleMetadata(h),g}catch(g){const y=g;if(!vC(y)){if(o.deleteThrottleMetadata(h),d)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:h,measurementId:d};throw g}const _=Number(y?.customData?.httpStatus)===503?h_(i,o.intervalMillis,fC):h_(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(h,A),cn.debug(`Calling attemptFetch again in ${_} millis`),KE(s,A,a,o)}}function _C(s,e){return new Promise((i,a)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(h),a(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vC(s){if(!(s instanceof Br)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class EC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TC(s,e,i,a,o){if(o&&o.global){s("event",i,a);return}else{const h=await e,d={...a,send_to:h};s("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(){if(Uv())try{await Lv()}catch(s){return cn.warn(Sn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return cn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SC(s,e,i,a,o,h,d){const g=yC(s);g.then(D=>{i[D.measurementId]=D.appId,s.options.measurementId&&D.measurementId!==s.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>cn.error(D)),e.push(g);const y=AC().then(D=>{if(D)return a.getId()}),[_,A]=await Promise.all([g,y]);hC(h)||sC(h,_.measurementId),o("js",new Date);const I=d?.config??{};return I[WR]="firebase",I.update=!0,A!=null&&(I[JR]=A),o("config",_.measurementId,I),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.app=e}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},Av=[];const Sv={};let dd="dataLayer",wC="gtag",bv,XE,wv=!1;function RC(){const s=[];if(LA()&&s.push("This is a browser extension environment."),kA()||s.push("Cookies are not available."),s.length>0){const e=s.map((a,o)=>`(${o+1}) ${a}`).join(" "),i=Sn.create("invalid-analytics-context",{errorInfo:e});cn.warn(i.message)}}function CC(s,e,i){RC();const a=s.options.appId;if(!a)throw Sn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(co[a]!=null)throw Sn.create("already-exists",{id:a});if(!wv){aC(dd);const{wrappedGtag:h,gtagCore:d}=cC(co,Av,Sv,dd,wC);XE=h,bv=d,wv=!0}return co[a]=SC(s,Av,Sv,e,bv,dd,i),new bC(s)}function IC(s=Bv()){s=hn(s);const e=To(s,Sc);return e.isInitialized()?e.getImmediate():DC(s)}function DC(s,e={}){const i=To(s,Sc);if(i.isInitialized()){const o=i.getImmediate();if(ho(e,i.getOptions()))return o;throw Sn.create("already-initialized")}return i.initialize({options:e})}function NC(s,e,i,a){s=hn(s),TC(XE,co[s.app.options.appId],e,i,a).catch(o=>cn.error(o))}const Rv="@firebase/analytics",Cv="0.10.18";function VC(){Mr(new Ki(Sc,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CC(a,o,i)},"PUBLIC")),Mr(new Ki("analytics-internal",s,"PRIVATE")),fi(Rv,Cv),fi(Rv,Cv,"esm2020");function s(e){try{const i=e.getProvider(Sc).getImmediate();return{logEvent:(a,o,h)=>NC(i,a,o,h)}}catch(i){throw Sn.create("interop-component-reg-failed",{reason:i})}}}VC();const OC={apiKey:"AIzaSyDFVJWzRpAQWfZu8gHm2gQcLXgt1VvvWbo",authDomain:"voucher-wallet2.firebaseapp.com",projectId:"voucher-wallet2",storageBucket:"voucher-wallet2.firebasestorage.app",messagingSenderId:"303182842940",appId:"1:303182842940:web:432b82ec6d1a4a9108c739",measurementId:"G-K9MMRSWFF1"},$E=Pv(OC);IC($E);const kn=$w($E),Xc="users",Fa="vouchers",Gd=async s=>{try{return(await wE(js(kn,Xc),s)).id}catch(e){throw console.error("Error creating user:",e),e}},Iv=async s=>{try{const e=CE(kn),i=Pc(kn,Xc,s);e.delete(i);const a=Im(js(kn,Fa),qd("userId","==",s));(await Om(a)).forEach(h=>{e.delete(h.ref)}),await e.commit()}catch(e){throw console.error("Error deleting user:",e),e}},MC=async()=>{try{return(await Om(js(kn,Xc))).docs.map(e=>({id:e.id,...e.data()}))}catch(s){throw console.error("Error getting users:",s),s}},xC=s=>RE(js(kn,Xc),e=>{const i=e.docs.map(a=>({id:a.id,...a.data()}));s(i)}),UC=async s=>{try{const e=te.now(),i={...s,createdAt:e,updatedAt:e};return(await wE(js(kn,Fa),i)).id}catch(e){throw console.error("Error creating voucher:",e),e}},md=async(s,e)=>{try{const i=Pc(kn,Fa,s);await lR(i,{...e,updatedAt:te.now()})}catch(i){throw console.error("Error updating voucher:",i),i}},LC=async s=>{try{const e=Pc(kn,Fa,s);await oR(e)}catch(e){throw console.error("Error deleting voucher:",e),e}},jC=s=>{const e=Im(js(kn,Fa),rR("createdAt","desc"));return RE(e,i=>{const a=i.docs.map(o=>{const h=o.data();return{id:o.id,...h,createdAt:h.createdAt?.toDate()||new Date,updatedAt:h.updatedAt?.toDate()||new Date}});s(a)})},kC=async s=>{try{const e=Im(js(kn,Fa),qd("userId","==",s),qd("isArchived","==",!0)),i=await Om(e),a=CE(kn);i.forEach(o=>{a.delete(o.ref)}),await a.commit()}catch(e){throw console.error("Error deleting archived vouchers:",e),e}},zC=async()=>{try{(await MC()).length===0&&(await Gd({name:"פנינה"}),await Gd({name:"אור ורון"}))}catch(s){throw console.error("Error initializing default users:",s),s}};function PC(){const[s,e]=St.useState([]),[i,a]=St.useState(null),[o,h]=St.useState([]),[d,g]=St.useState(!0),[y,_]=St.useState(!1),[A,I]=St.useState(!1),[D,H]=St.useState(!1),[J,W]=St.useState(!1),[$,Et]=St.useState(!1),[pt,ct]=St.useState(!1),[Bt,vt]=St.useState(!1),[zt,x]=St.useState(!1),[S,b]=St.useState({isOpen:!1,message:"",variant:"info"}),[O,M]=St.useState(null),[L,R]=St.useState(null),[ce,ee]=St.useState(null),[G,nt]=St.useState(null),[ot,Ot]=St.useState(null),[N,Z]=St.useState("wallet");St.useEffect(()=>{(async()=>{try{g(!0),await zC();const he=xC(Ht=>{e(Ht)}),fn=jC(Ht=>{h(Ht)});return g(!1),()=>{he(),fn()}}catch(he){console.error("Error initializing app:",he),b({isOpen:!0,message:"שגיאה בטעינת הנתונים. אנא רענן את הדף.",variant:"error"}),g(!1)}})()},[]);const it=o.filter(ft=>ft.userId===i?.id),tt=it.filter(ft=>!ft.isArchived),lt=it.filter(ft=>ft.isArchived),bt=hA(it),yt=async(ft,he,fn)=>{if(i)try{await UC({name:ft,amount:he,link:fn,userId:i.id,isArchived:!1})}catch(Ht){console.error("Error adding voucher:",Ht),b({isOpen:!0,message:"שגיאה בהוספת השובר. אנא נסה שוב.",variant:"error"})}},pe=async(ft,he,fn,Ht)=>{try{const Mt={name:he,amount:fn,link:Ht};fn===0&&(Mt.isArchived=!0),await md(ft,Mt)}catch(Mt){console.error("Error updating voucher:",Mt),b({isOpen:!0,message:"שגיאה בעדכון השובר. אנא נסה שוב.",variant:"error"})}},Kt=ft=>{R(ft),W(!0)},bn=async()=>{if(L)try{await md(L.id,{isArchived:!0})}catch(ft){console.error("Error archiving voucher:",ft),b({isOpen:!0,message:"שגיאה בהעברה לארכיון. אנא נסה שוב.",variant:"error"})}W(!1),R(null)},Kn=async(ft,he)=>{try{await md(ft,{amount:he,isArchived:!1})}catch(fn){console.error("Error restoring voucher:",fn),b({isOpen:!0,message:"שגיאה בשחזור השובר. אנא נסה שוב.",variant:"error"})}},zn=ft=>{ee(ft),vt(!0)},_i=async()=>{if(ce)try{await LC(ce.id)}catch(ft){console.error("Error deleting voucher:",ft),b({isOpen:!0,message:"שגיאה במחיקת השובר. אנא נסה שוב.",variant:"error"})}vt(!1),ee(null)},vi=()=>{Et(!0)},Ei=async()=>{if(i)try{await kC(i.id)}catch(ft){console.error("Error deleting archived vouchers:",ft),b({isOpen:!0,message:"שגיאה במחיקת שוברי הארכיון. אנא נסה שוב.",variant:"error"})}Et(!1)},Fr=async ft=>{try{await Gd({name:ft})}catch(he){console.error("Error adding user:",he),b({isOpen:!0,message:"שגיאה בהוספת המשתמש. אנא נסה שוב.",variant:"error"})}},ks=ft=>{M(ft),ct(!0)},Je=async ft=>{if(ft==="12891289"){if(ct(!1),O){try{await Iv(O.id),i?.id===O.id&&a(null)}catch(he){console.error("Error deleting user:",he),b({isOpen:!0,message:"שגיאה במחיקת המשתמש. אנא נסה שוב.",variant:"error"})}M(null)}}else b({isOpen:!0,message:"סיסמה שגויה!",variant:"error"})},Qa=async()=>{if(O){try{await Iv(O.id),i?.id===O.id&&a(null)}catch(ft){console.error("Error deleting user:",ft),b({isOpen:!0,message:"שגיאה במחיקת המשתמש. אנא נסה שוב.",variant:"error"})}M(null)}x(!1)},Ji=ft=>{window.open(ft,"_blank")},Ti=ft=>{nt(ft),I(!0)},Ai=ft=>{Ot(ft),H(!0)},Ya=()=>{a(null),Z("wallet")};return d?C.jsx("div",{className:"app",children:C.jsxs("div",{className:"loading-container glass",children:[C.jsx("div",{className:"loading-spinner"}),C.jsx("p",{children:"טוען נתונים..."})]})}):i?C.jsxs("div",{className:"app",children:[C.jsxs("header",{className:"app-header",children:[C.jsxs("button",{className:"back-btn btn btn-secondary",onClick:Ya,children:[C.jsx(PT,{size:20}),"חזור למשתמשים"]}),C.jsxs("h1",{className:"user-title",children:["שלום ",i.name]})]}),C.jsxs("div",{className:"app-content",children:[C.jsxs("div",{className:"summary-section glass",children:[C.jsxs("div",{className:"summary-header",children:[C.jsx(qT,{size:24}),C.jsx("h2",{children:"סיכום כספי"})]}),C.jsxs("div",{className:"summary-content",children:[C.jsxs("div",{className:"total-amount",children:[C.jsx("span",{className:"label",children:"סך הכל:"}),C.jsx("span",{className:"amount",children:pd(bt.totalAmount)})]}),Object.entries(bt.byType).length>0&&C.jsxs("div",{className:"breakdown",children:[C.jsx("h3",{children:"פירוט לפי סוג:"}),Object.entries(bt.byType).map(([ft,he])=>C.jsxs("div",{className:"breakdown-item",children:[C.jsxs("span",{children:[ft,":"]}),C.jsx("span",{children:pd(he)})]},ft))]})]})]}),C.jsx("div",{className:"action-section",children:C.jsxs("button",{className:"add-voucher-btn btn btn-primary",onClick:()=>_(!0),children:[C.jsx(Qd,{size:20}),"הוסף שובר"]})}),C.jsxs("div",{className:"tab-navigation",children:[C.jsxs("button",{className:`tab-btn ${N==="wallet"?"active":""}`,onClick:()=>Z("wallet"),children:[C.jsx(s_,{size:20}),"ארנק שוברים (",tt.length,")"]}),C.jsxs("button",{className:`tab-btn ${N==="archive"?"active":""}`,onClick:()=>Z("archive"),children:[C.jsx(gd,{size:20}),"ארכיון שוברים (",lt.length,")"]})]}),C.jsx("div",{className:"content-area",children:N==="wallet"?C.jsxs("div",{className:"vouchers-section",children:[C.jsx("h2",{className:"section-title",children:"ארנק שוברים"}),tt.length===0?C.jsxs("div",{className:"empty-state glass",children:[C.jsx(s_,{size:48}),C.jsx("h3",{children:"אין שוברים פעילים"}),C.jsx("p",{children:"הוסף שובר חדש כדי להתחיל"})]}):C.jsx("div",{className:"vouchers-grid",children:tt.map(ft=>C.jsx(a_,{voucher:ft,onEdit:Ti,onArchive:Kt,onOpenLink:Ji},ft.id))})]}):C.jsxs("div",{className:"vouchers-section",children:[C.jsxs("div",{className:"archive-header",children:[C.jsx("h2",{className:"section-title",children:"ארכיון שוברים"}),lt.length>0&&C.jsxs("button",{className:"delete-all-btn btn btn-danger",onClick:vi,children:[C.jsx(Yd,{size:16}),"מחק את כל שוברי הארכיון"]})]}),lt.length===0?C.jsxs("div",{className:"empty-state glass",children:[C.jsx(gd,{size:48}),C.jsx("h3",{children:"אין שוברים בארכיון"}),C.jsx("p",{children:"שוברים שהועברו לארכיון יופיעו כאן"})]}):C.jsx("div",{className:"vouchers-grid",children:lt.map(ft=>C.jsx(a_,{voucher:ft,onEdit:Ti,onDelete:zn,onRestore:Ai,onOpenLink:Ji,isArchived:!0},ft.id))})]})})]}),C.jsx(mA,{isOpen:y,onClose:()=>_(!1),onAdd:yt}),C.jsx(gA,{isOpen:A,voucher:G,onClose:()=>{I(!1),nt(null)},onSave:pe}),C.jsx(pA,{isOpen:D,voucher:ot,onClose:()=>{H(!1),Ot(null)},onRestore:Kn}),C.jsx(Zu,{isOpen:J,title:"העבר לארכיון",message:`האם אתה בטוח שברצונך להעביר את השובר "${L?.name}" לארכיון?`,confirmText:"כן",cancelText:"לא",onConfirm:bn,onCancel:()=>{W(!1),R(null)},variant:"warning"}),C.jsx(Zu,{isOpen:$,title:"מחק את כל שוברי הארכיון",message:"האם אתה בטוח שברצונך למחוק את כל השוברים בארכיון? פעולה זו לא ניתנת לביטול.",confirmText:"כן",cancelText:"לא",onConfirm:Ei,onCancel:()=>Et(!1),variant:"danger"}),C.jsx(Zu,{isOpen:Bt,title:"מחק שובר",message:`האם אתה בטוח שברצונך למחוק את השובר "${ce?.name}" לצמיתות?`,confirmText:"כן",cancelText:"לא",onConfirm:_i,onCancel:()=>{vt(!1),ee(null)},variant:"danger"}),C.jsx(Zu,{isOpen:zt,title:"מחק משתמש",message:`הסיסמה נכונה. האם אתה בטוח שברצונך למחוק את המשתמש "${O?.name}"?`,confirmText:"כן",cancelText:"לא",onConfirm:Qa,onCancel:()=>{x(!1),M(null)},variant:"danger"}),C.jsx(bc,{isOpen:S.isOpen,message:S.message,variant:S.variant,onClose:()=>b({isOpen:!1,message:"",variant:"info"})}),C.jsx(l_,{isOpen:pt,title:"מחיקת משתמש",message:"זוהי פעולת מנהל שדורשת סיסמה",onConfirm:Je,onCancel:()=>{ct(!1),M(null)}})]}):C.jsxs(C.Fragment,{children:[C.jsx(dA,{users:s,onSelectUser:a,onAddUser:Fr,onDeleteUser:ks}),C.jsx(l_,{isOpen:pt,title:"מחיקת משתמש",message:"זוהי פעולת מנהל שדורשת סיסמה",onConfirm:Je,onCancel:()=>{ct(!1),M(null)}})]})}NT.createRoot(document.getElementById("root")).render(C.jsx(St.StrictMode,{children:C.jsx(PC,{})}));
