(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Xf={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function AT(){if(Ky)return eo;Ky=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return eo.Fragment=e,eo.jsx=i,eo.jsxs=i,eo}var Xy;function ST(){return Xy||(Xy=1,Xf.exports=AT()),Xf.exports}var S=ST(),$f={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function bT(){if($y)return It;$y=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,et={};function J(N,$,it){this.props=N,this.context=$,this.refs=et,this.updater=it||G}J.prototype.isReactComponent={},J.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function pt(){}pt.prototype=J.prototype;function mt(N,$,it){this.props=N,this.context=$,this.refs=et,this.updater=it||G}var ot=mt.prototype=new pt;ot.constructor=mt,Z(ot,J.prototype),ot.isPureReactComponent=!0;var Ut=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function x(N,$,it,W,ft,Ct){return it=Ct.ref,{$$typeof:a,type:N,key:$,ref:it!==void 0?it:null,props:Ct}}function b(N,$){return x(N.type,$,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function O(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return $[it]})}var M=/\/+/g;function U(N,$){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):$.toString(36)}function w(){}function wt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(w,w):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Rt(N,$,it,W,ft){var Ct=typeof N;(Ct==="undefined"||Ct==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(Ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case a:case e:_t=!0;break;case A:return _t=N._init,Rt(_t(N._payload),$,it,W,ft)}}if(_t)return ft=ft(N),_t=W===""?"."+U(N,0):W,Ut(ft)?(it="",_t!=null&&(it=_t.replace(M,"$&/")+"/"),Rt(ft,$,it,"",function(an){return an})):ft!=null&&(R(ft)&&(ft=b(ft,it+(ft.key==null||N&&N.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+_t)),$.push(ft)),1;_t=0;var ce=W===""?".":W+":";if(Ut(N))for(var Gt=0;Gt<N.length;Gt++)W=N[Gt],Ct=ce+U(W,Gt),_t+=Rt(W,$,it,Ct,ft);else if(Gt=D(N),typeof Gt=="function")for(N=Gt.call(N),Gt=0;!(W=N.next()).done;)W=W.value,Ct=ce+U(W,Gt++),_t+=Rt(W,$,it,Ct,ft);else if(Ct==="object"){if(typeof N.then=="function")return Rt(wt(N),$,it,W,ft);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(N,$,it){if(N==null)return N;var W=[],ft=0;return Rt(N,W,"","",function(Ct){return $.call(it,Ct,ft++)}),W}function nt(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function jt(){}return It.Children={map:H,forEach:function(N,$,it){H(N,function(){$.apply(this,arguments)},it)},count:function(N){var $=0;return H(N,function(){$++}),$},toArray:function(N){return H(N,function($){return $})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},It.Component=J,It.Fragment=i,It.Profiler=o,It.PureComponent=mt,It.StrictMode=r,It.Suspense=y,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,It.__COMPILER_RUNTIME={__proto__:null,c:function(N){return at.H.useMemoCache(N)}},It.cache=function(N){return function(){return N.apply(null,arguments)}},It.cloneElement=function(N,$,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=Z({},N.props),ft=N.key,Ct=void 0;if($!=null)for(_t in $.ref!==void 0&&(Ct=void 0),$.key!==void 0&&(ft=""+$.key),$)!ct.call($,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&$.ref===void 0||(W[_t]=$[_t]);var _t=arguments.length-2;if(_t===1)W.children=it;else if(1<_t){for(var ce=Array(_t),Gt=0;Gt<_t;Gt++)ce[Gt]=arguments[Gt+2];W.children=ce}return x(N.type,ft,void 0,void 0,Ct,W)},It.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},It.createElement=function(N,$,it){var W,ft={},Ct=null;if($!=null)for(W in $.key!==void 0&&(Ct=""+$.key),$)ct.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=$[W]);var _t=arguments.length-2;if(_t===1)ft.children=it;else if(1<_t){for(var ce=Array(_t),Gt=0;Gt<_t;Gt++)ce[Gt]=arguments[Gt+2];ft.children=ce}if(N&&N.defaultProps)for(W in _t=N.defaultProps,_t)ft[W]===void 0&&(ft[W]=_t[W]);return x(N,Ct,void 0,void 0,null,ft)},It.createRef=function(){return{current:null}},It.forwardRef=function(N){return{$$typeof:g,render:N}},It.isValidElement=R,It.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:nt}},It.memo=function(N,$){return{$$typeof:_,type:N,compare:$===void 0?null:$}},It.startTransition=function(N){var $=at.T,it={};at.T=it;try{var W=N(),ft=at.S;ft!==null&&ft(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(jt,ht)}catch(Ct){ht(Ct)}finally{at.T=$}},It.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},It.use=function(N){return at.H.use(N)},It.useActionState=function(N,$,it){return at.H.useActionState(N,$,it)},It.useCallback=function(N,$){return at.H.useCallback(N,$)},It.useContext=function(N){return at.H.useContext(N)},It.useDebugValue=function(){},It.useDeferredValue=function(N,$){return at.H.useDeferredValue(N,$)},It.useEffect=function(N,$,it){var W=at.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,$)},It.useId=function(){return at.H.useId()},It.useImperativeHandle=function(N,$,it){return at.H.useImperativeHandle(N,$,it)},It.useInsertionEffect=function(N,$){return at.H.useInsertionEffect(N,$)},It.useLayoutEffect=function(N,$){return at.H.useLayoutEffect(N,$)},It.useMemo=function(N,$){return at.H.useMemo(N,$)},It.useOptimistic=function(N,$){return at.H.useOptimistic(N,$)},It.useReducer=function(N,$,it){return at.H.useReducer(N,$,it)},It.useRef=function(N){return at.H.useRef(N)},It.useState=function(N){return at.H.useState(N)},It.useSyncExternalStore=function(N,$,it){return at.H.useSyncExternalStore(N,$,it)},It.useTransition=function(){return at.H.useTransition()},It.version="19.1.0",It}var Zy;function Fd(){return Zy||(Zy=1,$f.exports=bT()),$f.exports}var Et=Fd(),Zf={exports:{}},no={},Jf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function wT(){return Jy||(Jy=1,function(a){function e(H,nt){var ht=H.length;H.push(nt);t:for(;0<ht;){var jt=ht-1>>>1,N=H[jt];if(0<o(N,nt))H[jt]=nt,H[ht]=N,ht=jt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],ht=H.pop();if(ht!==nt){H[0]=ht;t:for(var jt=0,N=H.length,$=N>>>1;jt<$;){var it=2*(jt+1)-1,W=H[it],ft=it+1,Ct=H[ft];if(0>o(W,ht))ft<N&&0>o(Ct,W)?(H[jt]=Ct,H[ft]=ht,jt=ft):(H[jt]=W,H[it]=ht,jt=it);else if(ft<N&&0>o(Ct,ht))H[jt]=Ct,H[ft]=ht,jt=ft;else break t}}return nt}function o(H,nt){var ht=H.sortIndex-nt.sortIndex;return ht!==0?ht:H.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,I=null,D=3,G=!1,Z=!1,et=!1,J=!1,pt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=H)r(_),nt.sortIndex=nt.expirationTime,e(y,nt);else break;nt=i(_)}}function at(H){if(et=!1,Ut(H),!Z)if(i(y)!==null)Z=!0,ct||(ct=!0,U());else{var nt=i(_);nt!==null&&Rt(at,nt.startTime-H)}}var ct=!1,x=-1,b=5,R=-1;function O(){return J?!0:!(a.unstable_now()-R<b)}function M(){if(J=!1,ct){var H=a.unstable_now();R=H;var nt=!0;try{t:{Z=!1,et&&(et=!1,mt(x),x=-1),G=!0;var ht=D;try{e:{for(Ut(H),I=i(y);I!==null&&!(I.expirationTime>H&&O());){var jt=I.callback;if(typeof jt=="function"){I.callback=null,D=I.priorityLevel;var N=jt(I.expirationTime<=H);if(H=a.unstable_now(),typeof N=="function"){I.callback=N,Ut(H),nt=!0;break e}I===i(y)&&r(y),Ut(H)}else r(y);I=i(y)}if(I!==null)nt=!0;else{var $=i(_);$!==null&&Rt(at,$.startTime-H),nt=!1}}break t}finally{I=null,D=ht,G=!1}nt=void 0}}finally{nt?U():ct=!1}}}var U;if(typeof ot=="function")U=function(){ot(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,wt=w.port2;w.port1.onmessage=M,U=function(){wt.postMessage(null)}}else U=function(){pt(M,0)};function Rt(H,nt){x=pt(function(){H(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(H){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ht=D;D=nt;try{return H()}finally{D=ht}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=D;D=H;try{return nt()}finally{D=ht}},a.unstable_scheduleCallback=function(H,nt,ht){var jt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ht+N,H={id:A++,callback:nt,priorityLevel:H,startTime:ht,expirationTime:N,sortIndex:-1},ht>jt?(H.sortIndex=ht,e(_,H),i(y)===null&&H===i(_)&&(et?(mt(x),x=-1):et=!0,Rt(at,ht-jt))):(H.sortIndex=N,e(y,H),Z||G||(Z=!0,ct||(ct=!0,U()))),H},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(H){var nt=D;return function(){var ht=D;D=nt;try{return H.apply(this,arguments)}finally{D=ht}}}}(Wf)),Wf}var Wy;function RT(){return Wy||(Wy=1,Jf.exports=wT()),Jf.exports}var td={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function CT(){if(t_)return Xe;t_=1;var a=Fd();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:y,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(y,_,null,A)},Xe.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:G}):A==="script"&&r.d.X(y,{crossOrigin:I,integrity:D,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Xe.requestFormReset=function(y){r.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var e_;function IT(){if(e_)return td.exports;e_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),td.exports=CT(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function DT(){if(n_)return no;n_=1;var a=RT(),e=Fd(),i=IT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===s){v=!0,s=c,l=f;break}if(E===l){v=!0,l=c,s=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===s){v=!0,s=f,l=c;break}if(E===l){v=!0,l=f,s=c;break}E=E.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case et:return"StrictMode";case at:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:wt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return wt(t(n))}catch{}}return null}var Rt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],N=-1;function $(t){return{current:t}}function it(t){0>N||(t.current=jt[N],jt[N]=null,N--)}function W(t,n){N++,jt[N]=t.current,t.current=n}var ft=$(null),Ct=$(null),_t=$(null),ce=$(null);function Gt(t,n){switch(W(_t,n),W(Ct,t),W(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ay(n),t=Sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ft),W(ft,t)}function an(){it(ft),it(Ct),it(_t)}function $n(t){t.memoizedState!==null&&W(ce,t);var n=ft.current,s=Sy(n,t.type);n!==s&&(W(Ct,t),W(ft,s))}function Pn(t){Ct.current===t&&(it(ft),it(Ct)),ce.current===t&&(it(ce),$l._currentValue=ht)}var Ai=Object.prototype.hasOwnProperty,Si=a.unstable_scheduleCallback,bi=a.unstable_cancelCallback,Xs=a.unstable_shouldYield,Pa=a.unstable_requestPaint,rn=a.unstable_now,Kr=a.unstable_getCurrentPriorityLevel,$s=a.unstable_ImmediatePriority,es=a.unstable_UserBlockingPriority,Zn=a.unstable_NormalPriority,Xr=a.unstable_LowPriority,wi=a.unstable_IdlePriority,ns=a.log,Zs=a.unstable_setDisableYieldValue,ae=null,Ft=null;function ut(t){if(typeof ns=="function"&&Zs(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ae,t)}catch{}}var Bt=Math.clz32?Math.clz32:Bn,gn=Math.log,qn=Math.LN2;function Bn(t){return t>>>=0,t===0?32:31-(gn(t)/qn|0)|0}var We=256,de=4194304;function Ye(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qa(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Ye(l):(v&=E,v!==0?c=Ye(v):s||(s=E&~t,s!==0&&(c=Ye(s))))):(E=l&~f,E!==0?c=Ye(E):v!==0?c=Ye(v):s||(s=l&~t,s!==0&&(c=Ye(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Js(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $r(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var t=We;return We<<=1,(We&4194048)===0&&(We=256),t}function Jr(){var t=de;return de<<=1,(de&62914560)===0&&(de=4194304),t}function Ri(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wr(t,n,s,l,c,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=v&~s;0<s;){var F=31-Bt(s),K=1<<F;E[F]=0,C[F]=-1;var P=z[F];if(P!==null)for(z[F]=null,F=0;F<P.length;F++){var q=P[F];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&Jn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Jn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function tl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Bt(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ss(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function Vo(t,n){var s=nt.p;try{return nt.p=t,n()}finally{nt.p=s}}var re=Math.random().toString(36).slice(2),Re="__reactFiber$"+re,_e="__reactProps$"+re,Rn="__reactContainer$"+re,el="__reactEvents$"+re,Zc="__reactListeners$"+re,as="__reactHandles$"+re,xo="__reactResources$"+re,Ws="__reactMarker$"+re;function rs(t){delete t[Re],delete t[_e],delete t[el],delete t[Zc],delete t[as]}function Ii(t){var n=t[Re];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Rn]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Cy(t);t!==null;){if(s=t[Re])return s;t=Cy(t)}return n}t=s,s=t.parentNode}return null}function Wn(t){if(t=t[Re]||t[Rn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ti(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function tn(t){var n=t[xo];return n||(n=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(t){t[Ws]=!0}var nl=new Set,Ha={};function Hn(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Ha[t]=n,t=0;t<n.length;t++)nl.add(n[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},ta={};function Uo(t){return Ai.call(ta,t)?!0:Ai.call(Mo,t)?!1:Oo.test(t)?ta[t]=!0:(Mo[t]=!0,!1)}function ls(t,n,s){if(Uo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function ei(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function ze(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var ea,jo;function Ni(t){if(ea===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",jo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+jo}var Ga=!1;function Fa(t,n){if(!t||Ga)return"";Ga=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var P=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){P=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){P=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var C=v.split(`
`),z=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===z.length)for(l=C.length-1,c=z.length-1;1<=l&&0<=c&&C[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==z[c]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ga=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ni(s):""}function il(t){switch(t.tag){case 26:case 27:case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Fa(t.type,!1);case 11:return Fa(t.type.render,!1);case 1:return Fa(t.type,!0);case 31:return Ni("Activity");default:return""}}function Qa(t){try{var n="";do n+=il(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jc(t){var n=sl(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ya(t){t._valueTracker||(t._valueTracker=Jc(t))}function al(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=sl(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wc=/[\n"\\]/g;function ve(t){return t.replace(Wc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pn(t,n,s,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?os(t,v,en(n)):s!=null?os(t,v,en(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function ia(t,n,s,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+en(s):"",n=n!=null?""+en(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function os(t,n,s){n==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Vi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+en(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Zt(t,n,s){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+en(s):""}function sa(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Rt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=en(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Cn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||aa.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function rl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&ko(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function ll(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(t){return eh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xi=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Mi=null;function ol(t){var n=Wn(t);if(n&&(t=n.stateNode)){var s=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(pn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ve(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(r(90));pn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&al(l)}break t;case"textarea":Zt(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Vi(t,!!s.multiple,n,!1)}}}var ni=!1;function Lo(t,n,s){if(ni)return t(n,s);ni=!0;try{var l=t(n);return l}finally{if(ni=!1,(Oi!==null||Mi!==null)&&(Vu(),Oi&&(n=Oi,t=Mi,Mi=Oi=null,ol(n),t)))for(n=0;n<t.length;n++)ol(t[n])}}function ra(t,n){var s=t.stateNode;if(s===null)return null;var l=s[_e]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var la={};Object.defineProperty(la,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Dn=!1}var ii=null,us=null,Ui=null;function ul(){if(Ui)return Ui;var t,n=us,s=n.length,l,c="value"in ii?ii.value:ii.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var v=s-t;for(l=1;l<=v&&n[s-l]===c[f-l];l++);return Ui=c.slice(t,1<l?1-l:void 0)}function si(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function cl(){return!1}function Oe(t){function n(s,l,c,f,v){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ai:cl,this.isPropagationStopped=cl,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Oe(Yt),oa=A({},Yt,{view:0,detail:0}),zo=Oe(oa),$a,Za,ri,ua=A({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?($a=t.screenX-ri.screenX,Za=t.screenY-ri.screenY):Za=$a=0,ri=t),$a)},movementY:function(t){return"movementY"in t?t.movementY:Za}}),Nn=Oe(ua),Po=A({},ua,{dataTransfer:0}),nh=Oe(Po),ca=A({},oa,{relatedTarget:0}),Ja=Oe(ca),hl=A({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Oe(hl),qo=A({},Yt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tr=Oe(qo),ih=A({},Yt,{data:0}),fl=Oe(ih),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ho[t])?!!n[t]:!1}function fa(){return dl}var Go=A({},oa,{key:function(t){if(t.key){var n=ha[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),er=Oe(Go),Fo=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Oe(Fo),ji=A({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Qo=Oe(ji),Yo=A({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=Oe(Yo),Xo=A({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nr=Oe(Xo),nn=A({},Yt,{newState:0,oldState:0}),$o=Oe(nn),Zo=[9,13,27,32],li=Gn&&"CompositionEvent"in window,u=null;Gn&&"documentMode"in document&&(u=document.documentMode);var m=Gn&&"TextEvent"in window&&!u,p=Gn&&(!li||u&&8<u&&11>=u),T=" ",k=!1;function B(t,n){switch(t){case"keyup":return Zo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kt=!1;function Ce(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return t=n.data,t===T&&k?null:t;default:return null}}function Lt(t,n){if(kt)return t==="compositionend"||!li&&B(t,n)?(t=ul(),Ui=us=ii=null,kt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Me[t.type]:n==="textarea"}function ki(t,n,s,l){Oi?Mi?Mi.push(l):Mi=[l]:Oi=l,n=ku(n,"onChange"),0<n.length&&(s=new Xa("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Pe=null,oi=null;function gl(t){yy(t,0)}function Jo(t){var n=ti(t);if(al(n))return t}function Lm(t,n){if(t==="change")return n}var zm=!1;if(Gn){var sh;if(Gn){var ah="oninput"in document;if(!ah){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),ah=typeof Pm.oninput=="function"}sh=ah}else sh=!1;zm=sh&&(!document.documentMode||9<document.documentMode)}function qm(){Pe&&(Pe.detachEvent("onpropertychange",Bm),oi=Pe=null)}function Bm(t){if(t.propertyName==="value"&&Jo(oi)){var n=[];ki(n,oi,t,In(t)),Lo(gl,n)}}function J1(t,n,s){t==="focusin"?(qm(),Pe=n,oi=s,Pe.attachEvent("onpropertychange",Bm)):t==="focusout"&&qm()}function W1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo(oi)}function tE(t,n){if(t==="click")return Jo(n)}function eE(t,n){if(t==="input"||t==="change")return Jo(n)}function nE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:nE;function pl(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ai.call(n,c)||!yn(t[c],n[c]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,n){var s=Hm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Hm(s)}}function Fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=na(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=na(t.document)}return n}function rh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var iE=Gn&&"documentMode"in document&&11>=document.documentMode,ir=null,lh=null,yl=null,oh=!1;function Ym(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;oh||ir==null||ir!==na(l)||(l=ir,"selectionStart"in l&&rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=ku(lh,"onSelect"),0<l.length&&(n=new Xa("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ir)))}function da(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var sr={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},uh={},Km={};Gn&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function ma(t){if(uh[t])return uh[t];if(!sr[t])return t;var n=sr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Km)return uh[t]=n[s];return t}var Xm=ma("animationend"),$m=ma("animationiteration"),Zm=ma("animationstart"),sE=ma("transitionrun"),aE=ma("transitionstart"),rE=ma("transitioncancel"),Jm=ma("transitionend"),Wm=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function Fn(t,n){Wm.set(t,n),Hn(n,[t])}var tg=new WeakMap;function Vn(t,n){if(typeof t=="object"&&t!==null){var s=tg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Qa(n)},tg.set(t,n),n)}return{value:t,source:n,stack:Qa(n)}}var xn=[],ar=0,hh=0;function Wo(){for(var t=ar,n=hh=ar=0;n<t;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var c=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&eg(s,c,f)}}function tu(t,n,s,l){xn[ar++]=t,xn[ar++]=n,xn[ar++]=s,xn[ar++]=l,hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function fh(t,n,s,l){return tu(t,n,s,l),eu(t)}function rr(t,n){return tu(t,null,null,n),eu(t)}function eg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Bt(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function eu(t){if(50<Bl)throw Bl=0,vf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var lr={};function lE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,s,l){return new lE(t,n,s,l)}function dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var s=t.alternate;return s===null?(s=_n(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ng(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function nu(t,n,s,l,c,f){var v=0;if(l=t,typeof t=="function")dh(t)&&(v=1);else if(typeof t=="string")v=uT(t,s,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=_n(31,s,n,c),t.elementType=R,t.lanes=f,t;case Z:return ga(s.children,c,f,n);case et:v=8,c|=24;break;case J:return t=_n(12,s,n,c|2),t.elementType=J,t.lanes=f,t;case at:return t=_n(13,s,n,c),t.elementType=at,t.lanes=f,t;case ct:return t=_n(19,s,n,c),t.elementType=ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:case ot:v=10;break t;case mt:v=9;break t;case Ut:v=11;break t;case x:v=14;break t;case b:v=16,l=null;break t}v=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=_n(v,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,s,l){return t=_n(7,t,l,n),t.lanes=s,t}function mh(t,n,s){return t=_n(6,t,null,n),t.lanes=s,t}function gh(t,n,s){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var or=[],ur=0,iu=null,su=0,On=[],Mn=0,pa=null,zi=1,Pi="";function ya(t,n){or[ur++]=su,or[ur++]=iu,iu=t,su=n}function ig(t,n,s){On[Mn++]=zi,On[Mn++]=Pi,On[Mn++]=pa,pa=t;var l=zi;t=Pi;var c=32-Bt(l)-1;l&=~(1<<c),s+=1;var f=32-Bt(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,zi=1<<32-Bt(n)+c|s<<c|l,Pi=f+t}else zi=1<<f|s<<c|l,Pi=t}function ph(t){t.return!==null&&(ya(t,1),ig(t,1,0))}function yh(t){for(;t===iu;)iu=or[--ur],or[ur]=null,su=or[--ur],or[ur]=null;for(;t===pa;)pa=On[--Mn],On[Mn]=null,Pi=On[--Mn],On[Mn]=null,zi=On[--Mn],On[Mn]=null}var sn=null,he=null,Qt=!1,_a=null,ui=!1,_h=Error(r(519));function va(t){var n=Error(r(418,""));throw El(Vn(n,t)),_h}function sg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Re]=t,n[_e]=l,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<Gl.length;s++)xt(Gl[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),ia(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ya(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),sa(n,l.value,l.defaultValue,l.children),Ya(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ty(n.textContent,s)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Lu),n=!0):n=!1,n||va(t)}function ag(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:sn=sn.return}}function _l(t){if(t!==sn)return!1;if(!Qt)return ag(t),Qt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Uf(t.type,t.memoizedProps)),s=!s),s&&he&&va(t),ag(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){he=Yn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}he=null}}else n===27?(n=he,ws(t.type)?(t=zf,zf=null,he=t):he=n):he=sn?Yn(t.stateNode.nextSibling):null;return!0}function vl(){he=sn=null,Qt=!1}function rg(){var t=_a;return t!==null&&(un===null?un=t:un.push.apply(un,t),_a=null),t}function El(t){_a===null?_a=[t]:_a.push(t)}var vh=$(null),Ea=null,qi=null;function cs(t,n,s){W(vh,n._currentValue),n._currentValue=s}function Bi(t){t._currentValue=vh.current,it(vh)}function Eh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Th(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Eh(f.return,s,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(r(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Eh(v,s,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Tl(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=c.type;yn(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===ce.current){if(v=c.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}c=c.return}t!==null&&Th(n,t,s,l),n.flags|=262144}function au(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return lg(Ea,t)}function ru(t,n){return Ea===null&&Ta(t),lg(t,n)}function lg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},qi===null){if(t===null)throw Error(r(308));qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qi=qi.next=n;return s}var oE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},uE=a.unstable_scheduleCallback,cE=a.unstable_NormalPriority,De={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new oE,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&uE(cE,function(){t.controller.abort()})}var Sl=null,Sh=0,cr=0,hr=null;function hE(t,n){if(Sl===null){var s=Sl=[];Sh=0,cr=Rf(),hr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Sh++,n.then(og,og),n}function og(){if(--Sh===0&&Sl!==null){hr!==null&&(hr.status="fulfilled");var t=Sl;Sl=null,cr=0,hr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function fE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var ug=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&hE(t,n),ug!==null&&ug(t,n)};var Aa=$(null);function bh(){var t=Aa.current;return t!==null?t:ie.pooledCache}function lu(t,n){n===null?W(Aa,Aa.current):W(Aa,n.pool)}function cg(){var t=bh();return t===null?null:{parent:De._currentValue,pool:t}}var bl=Error(r(460)),hg=Error(r(474)),ou=Error(r(542)),wh={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uu(){}function dg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(uu,uu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t;default:if(typeof n.status=="string")n.then(uu,uu);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t}throw wl=n,bl}}var wl=null;function mg(){if(wl===null)throw Error(r(459));var t=wl;return wl=null,t}function gg(t){if(t===bl||t===ou)throw Error(r(483))}var hs=!1;function Rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ds(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=eu(t),eg(t,null,s),n}return tu(t,l,n,s),eu(t)}function Rl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,tl(t,s)}}function Ih(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Dh=!1;function Cl(){if(Dh){var t=hr;if(t!==null)throw t}}function Il(t,n,s,l){Dh=!1;var c=t.updateQueue;hs=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,z=C.next;C.next=null,v===null?f=z:v.next=z,v=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var K=c.baseState;v=0,F=z=C=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(zt&P)===P:(l&P)===P){P!==0&&P===cr&&(Dh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var At=t,yt=E;P=n;var te=s;switch(yt.tag){case 1:if(At=yt.payload,typeof At=="function"){K=At.call(te,K,P);break t}K=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=yt.payload,P=typeof At=="function"?At.call(te,K,P):At,P==null)break t;K=A({},K,P);break t;case 2:hs=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=K):F=F.next=q,v|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(C=K),c.baseState=C,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Ts|=v,t.lanes=v,t.memoizedState=K}}function pg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)pg(s[t],n)}var fr=$(null),cu=$(0);function _g(t,n){t=Xi,W(cu,t),W(fr,n),Xi=t|n.baseLanes}function Nh(){W(cu,Xi),W(fr,fr.current)}function Vh(){Xi=cu.current,it(fr),it(cu)}var ms=0,Dt=null,Jt=null,Ee=null,hu=!1,dr=!1,Sa=!1,fu=0,Dl=0,mr=null,dE=0;function ge(){throw Error(r(321))}function xh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!yn(t[s],n[s]))return!1;return!0}function Oh(t,n,s,l,c,f){return ms=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ep:np,Sa=!1,f=s(l,c),Sa=!1,dr&&(f=Eg(n,s,l,c)),vg(t),f}function vg(t){H.H=_u;var n=Jt!==null&&Jt.next!==null;if(ms=0,Ee=Jt=Dt=null,hu=!1,Dl=0,mr=null,n)throw Error(r(300));t===null||Ue||(t=t.dependencies,t!==null&&au(t)&&(Ue=!0))}function Eg(t,n,s,l){Dt=t;var c=0;do{if(dr&&(mr=null),Dl=0,dr=!1,25<=c)throw Error(r(301));if(c+=1,Ee=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=EE,f=n(s,l)}while(dr);return f}function mE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Nl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Dt.flags|=1024),n}function Mh(){var t=fu!==0;return fu=0,t}function Uh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function jh(t){if(hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}hu=!1}ms=0,Ee=Jt=Dt=null,dr=!1,Dl=fu=0,mr=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Dt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function Te(){if(Jt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Ee===null?Dt.memoizedState:Ee.next;if(n!==null)Ee=n,Jt=t;else{if(t===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ee===null?Dt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var n=Dl;return Dl+=1,mr===null&&(mr=[]),t=dg(mr,t,n),n=Dt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ep:np),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===ot)return Ke(t)}throw Error(r(438,String(t)))}function Lh(t){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=kh(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Hi(t,n){return typeof n=="function"?n(t):n}function mu(t){var n=Te();return zh(n,Jt,t)}function zh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,C=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(zt&K)===K:(ms&K)===K){var P=z.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===cr&&(F=!0);else if((ms&P)===P){z=z.next,P===cr&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,v=f):C=C.next=K,Dt.lanes|=P,Ts|=P;K=z.action,Sa&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else P={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=P,v=f):C=C.next=P,Dt.lanes|=K,Ts|=K;z=z.next}while(z!==null&&z!==n);if(C===null?v=f:C.next=E,!yn(f,t.memoizedState)&&(Ue=!0,F&&(s=hr,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ph(t){var n=Te(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);yn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Tg(t,n,s){var l=Dt,c=Te(),f=Qt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var v=!yn((Jt||c).memoizedState,s);v&&(c.memoizedState=s,Ue=!0),c=c.queue;var E=bg.bind(null,l,c,t);if(Vl(2048,8,E,[t]),c.getSnapshot!==n||v||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,gr(9,gu(),Sg.bind(null,l,c,s,n),null),ie===null)throw Error(r(349));f||(ms&124)!==0||Ag(l,n,s)}return s}function Ag(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=kh(),Dt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Sg(t,n,s,l){n.value=s,n.getSnapshot=l,wg(n)&&Rg(t)}function bg(t,n,s){return s(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!yn(t,s)}catch{return!0}}function Rg(t){var n=rr(t,2);n!==null&&Sn(n,t,2)}function qh(t){var n=ln();if(typeof t=="function"){var s=t;if(t=s(),Sa){ut(!0);try{s()}finally{ut(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n}function Cg(t,n,s,l){return t.baseState=s,zh(t,Jt,typeof l=="function"?l:Hi)}function gE(t,n,s,l,c){if(yu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Ig(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ig(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=s(c,l),C=H.S;C!==null&&C(v,E),Dg(t,n,E)}catch(z){Bh(t,n,z)}finally{H.T=f}}else try{f=s(c,l),Dg(t,n,f)}catch(z){Bh(t,n,z)}}function Dg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ng(t,n,l)},function(l){return Bh(t,n,l)}):Ng(t,n,s)}function Ng(t,n,s){n.status="fulfilled",n.value=s,Vg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ig(t,s)))}function Bh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Vg(n),n=n.next;while(n!==l)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function Og(t,n){if(Qt){var s=ie.formState;if(s!==null){t:{var l=Dt;if(Qt){if(he){e:{for(var c=he,f=ui;c.nodeType!==8;){if(!f){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){he=Yn(c.nextSibling),l=c.data==="F!";break t}}va(l)}l=!1}l&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},s.queue=l,s=Jg.bind(null,Dt,l),l.dispatch=s,l=qh(!1),f=Yh.bind(null,Dt,!1,l.queue),l=ln(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=gE.bind(null,Dt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Mg(t){var n=Te();return Ug(n,Jt,t)}function Ug(t,n,s){if(n=zh(t,n,xg)[0],t=mu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Nl(n)}catch(v){throw v===bl?ou:v}else l=n;n=Te();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,gr(9,gu(),pE.bind(null,c,s),null)),[l,f,t]}function pE(t,n){t.action=n}function jg(t){var n=Te(),s=Jt;if(s!==null)return Ug(n,s,t);Te(),n=n.memoizedState,s=Te();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function gr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=kh(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function gu(){return{destroy:void 0,resource:void 0}}function kg(){return Te().memoizedState}function pu(t,n,s,l){var c=ln();l=l===void 0?null:l,Dt.flags|=t,c.memoizedState=gr(1|n,gu(),s,l)}function Vl(t,n,s,l){var c=Te();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&xh(l,Jt.memoizedState.deps)?c.memoizedState=gr(n,f,s,l):(Dt.flags|=t,c.memoizedState=gr(1|n,f,s,l))}function Lg(t,n){pu(8390656,8,t,n)}function zg(t,n){Vl(2048,8,t,n)}function Pg(t,n){return Vl(4,2,t,n)}function qg(t,n){return Vl(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hg(t,n,s){s=s!=null?s.concat([t]):null,Vl(4,4,Bg.bind(null,n,t),s)}function Hh(){}function Gg(t,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&xh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Fg(t,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&xh(n,l[1]))return l[0];if(l=t(),Sa){ut(!0);try{t()}finally{ut(!1)}}return s.memoizedState=[l,n],l}function Gh(t,n,s){return s===void 0||(ms&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Kp(),Dt.lanes|=t,Ts|=t,s)}function Qg(t,n,s,l){return yn(s,n)?s:fr.current!==null?(t=Gh(t,s,l),yn(t,n)||(Ue=!0),t):(ms&42)===0?(Ue=!0,t.memoizedState=s):(t=Kp(),Dt.lanes|=t,Ts|=t,n)}function Yg(t,n,s,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Yh(t,!1,n,s);try{var C=c(),z=H.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=fE(C,l);xl(t,n,F,An(t))}else xl(t,n,l,An(t))}catch(K){xl(t,n,{then:function(){},status:"rejected",reason:K},An())}finally{nt.p=f,H.T=v}}function yE(){}function Fh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=Kg(t).queue;Yg(t,c,n,ht,s===null?yE:function(){return Xg(t),s(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Kg(t).next.queue;xl(t,n,{},An())}function Qh(){return Ke($l)}function $g(){return Te().memoizedState}function Zg(){return Te().memoizedState}function _E(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();t=fs(s);var l=ds(n,t,s);l!==null&&(Sn(l,n,s),Rl(l,n,s)),n={cache:Ah()},t.payload=n;return}n=n.return}}function vE(t,n,s){var l=An();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yu(t)?Wg(n,s):(s=fh(t,n,s,l),s!==null&&(Sn(s,t,l),tp(s,n,l)))}function Jg(t,n,s){var l=An();xl(t,n,s,l)}function xl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yu(t))Wg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,s);if(c.hasEagerState=!0,c.eagerState=E,yn(E,v))return tu(t,n,c,0),ie===null&&Wo(),!1}catch{}finally{}if(s=fh(t,n,c,l),s!==null)return Sn(s,t,l),tp(s,n,l),!0}return!1}function Yh(t,n,s,l){if(l={lane:2,revertLane:Rf(),action:l,hasEagerState:!1,eagerState:null,next:null},yu(t)){if(n)throw Error(r(479))}else n=fh(t,s,l,2),n!==null&&Sn(n,t,2)}function yu(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function Wg(t,n){dr=hu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function tp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,tl(t,s)}}var _u={readContext:Ke,use:du,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},ep={readContext:Ke,use:du,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Ke,useEffect:Lg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,pu(4194308,4,Bg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return pu(4194308,4,t,n)},useInsertionEffect:function(t,n){pu(4,2,t,n)},useMemo:function(t,n){var s=ln();n=n===void 0?null:n;var l=t();if(Sa){ut(!0);try{t()}finally{ut(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=ln();if(s!==void 0){var c=s(n);if(Sa){ut(!0);try{s(n)}finally{ut(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=vE.bind(null,Dt,t),[l.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=qh(t);var n=t.queue,s=Jg.bind(null,Dt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Hh,useDeferredValue:function(t,n){var s=ln();return Gh(s,t,n)},useTransition:function(){var t=qh(!1);return t=Yg.bind(null,Dt,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Dt,c=ln();if(Qt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ie===null)throw Error(r(349));(zt&124)!==0||Ag(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Lg(bg.bind(null,l,f,t),[t]),l.flags|=2048,gr(9,gu(),Sg.bind(null,l,f,s,n),null),s},useId:function(){var t=ln(),n=ie.identifierPrefix;if(Qt){var s=Pi,l=zi;s=(l&~(1<<32-Bt(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=fu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=dE++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Og,useActionState:Og,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Yh.bind(null,Dt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Lh,useCacheRefresh:function(){return ln().memoizedState=_E.bind(null,Dt)}},np={readContext:Ke,use:du,useCallback:Gg,useContext:Ke,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Pg,useLayoutEffect:qg,useMemo:Fg,useReducer:mu,useRef:kg,useState:function(){return mu(Hi)},useDebugValue:Hh,useDeferredValue:function(t,n){var s=Te();return Qg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=mu(Hi)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Qh,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var s=Te();return Cg(s,Jt,t,n)},useMemoCache:Lh,useCacheRefresh:Zg},EE={readContext:Ke,use:du,useCallback:Gg,useContext:Ke,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Pg,useLayoutEffect:qg,useMemo:Fg,useReducer:Ph,useRef:kg,useState:function(){return Ph(Hi)},useDebugValue:Hh,useDeferredValue:function(t,n){var s=Te();return Jt===null?Gh(s,t,n):Qg(s,Jt.memoizedState,t,n)},useTransition:function(){var t=Ph(Hi)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Qh,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var s=Te();return Jt!==null?Cg(s,Jt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:Zg},pr=null,Ol=0;function vu(t){var n=Ol;return Ol+=1,pr===null&&(pr=[]),dg(pr,t,n)}function Ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Eu(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){var n=t._init;return n(t._payload)}function sp(t){function n(j,V){if(t){var L=j.deletions;L===null?(j.deletions=[V],j.flags|=16):L.push(V)}}function s(j,V){if(!t)return null;for(;V!==null;)n(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function c(j,V){return j=Li(j,V),j.index=0,j.sibling=null,j}function f(j,V,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<V?(j.flags|=67108866,V):L):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,V,L,Q){return V===null||V.tag!==6?(V=mh(L,j.mode,Q),V.return=j,V):(V=c(V,L),V.return=j,V)}function C(j,V,L,Q){var lt=L.type;return lt===Z?F(j,V,L.props.children,Q,L.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ip(lt)===V.type)?(V=c(V,L.props),Ml(V,L),V.return=j,V):(V=nu(L.type,L.key,L.props,null,j.mode,Q),Ml(V,L),V.return=j,V)}function z(j,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=gh(L,j.mode,Q),V.return=j,V):(V=c(V,L.children||[]),V.return=j,V)}function F(j,V,L,Q,lt){return V===null||V.tag!==7?(V=ga(L,j.mode,Q,lt),V.return=j,V):(V=c(V,L),V.return=j,V)}function K(j,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=mh(""+V,j.mode,L),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return L=nu(V.type,V.key,V.props,null,j.mode,L),Ml(L,V),L.return=j,L;case G:return V=gh(V,j.mode,L),V.return=j,V;case b:var Q=V._init;return V=Q(V._payload),K(j,V,L)}if(Rt(V)||U(V))return V=ga(V,j.mode,L,null),V.return=j,V;if(typeof V.then=="function")return K(j,vu(V),L);if(V.$$typeof===ot)return K(j,ru(j,V),L);Eu(j,V)}return null}function P(j,V,L,Q){var lt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(j,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===lt?C(j,V,L,Q):null;case G:return L.key===lt?z(j,V,L,Q):null;case b:return lt=L._init,L=lt(L._payload),P(j,V,L,Q)}if(Rt(L)||U(L))return lt!==null?null:F(j,V,L,Q,null);if(typeof L.then=="function")return P(j,V,vu(L),Q);if(L.$$typeof===ot)return P(j,V,ru(j,L),Q);Eu(j,L)}return null}function q(j,V,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(L)||null,E(V,j,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return j=j.get(Q.key===null?L:Q.key)||null,C(V,j,Q,lt);case G:return j=j.get(Q.key===null?L:Q.key)||null,z(V,j,Q,lt);case b:var Nt=Q._init;return Q=Nt(Q._payload),q(j,V,L,Q,lt)}if(Rt(Q)||U(Q))return j=j.get(L)||null,F(V,j,Q,lt,null);if(typeof Q.then=="function")return q(j,V,L,vu(Q),lt);if(Q.$$typeof===ot)return q(j,V,L,ru(V,Q),lt);Eu(V,Q)}return null}function At(j,V,L,Q){for(var lt=null,Nt=null,dt=V,vt=V=0,ke=null;dt!==null&&vt<L.length;vt++){dt.index>vt?(ke=dt,dt=null):ke=dt.sibling;var Ht=P(j,dt,L[vt],Q);if(Ht===null){dt===null&&(dt=ke);break}t&&dt&&Ht.alternate===null&&n(j,dt),V=f(Ht,V,vt),Nt===null?lt=Ht:Nt.sibling=Ht,Nt=Ht,dt=ke}if(vt===L.length)return s(j,dt),Qt&&ya(j,vt),lt;if(dt===null){for(;vt<L.length;vt++)dt=K(j,L[vt],Q),dt!==null&&(V=f(dt,V,vt),Nt===null?lt=dt:Nt.sibling=dt,Nt=dt);return Qt&&ya(j,vt),lt}for(dt=l(dt);vt<L.length;vt++)ke=q(dt,j,vt,L[vt],Q),ke!==null&&(t&&ke.alternate!==null&&dt.delete(ke.key===null?vt:ke.key),V=f(ke,V,vt),Nt===null?lt=ke:Nt.sibling=ke,Nt=ke);return t&&dt.forEach(function(Ns){return n(j,Ns)}),Qt&&ya(j,vt),lt}function yt(j,V,L,Q){if(L==null)throw Error(r(151));for(var lt=null,Nt=null,dt=V,vt=V=0,ke=null,Ht=L.next();dt!==null&&!Ht.done;vt++,Ht=L.next()){dt.index>vt?(ke=dt,dt=null):ke=dt.sibling;var Ns=P(j,dt,Ht.value,Q);if(Ns===null){dt===null&&(dt=ke);break}t&&dt&&Ns.alternate===null&&n(j,dt),V=f(Ns,V,vt),Nt===null?lt=Ns:Nt.sibling=Ns,Nt=Ns,dt=ke}if(Ht.done)return s(j,dt),Qt&&ya(j,vt),lt;if(dt===null){for(;!Ht.done;vt++,Ht=L.next())Ht=K(j,Ht.value,Q),Ht!==null&&(V=f(Ht,V,vt),Nt===null?lt=Ht:Nt.sibling=Ht,Nt=Ht);return Qt&&ya(j,vt),lt}for(dt=l(dt);!Ht.done;vt++,Ht=L.next())Ht=q(dt,j,vt,Ht.value,Q),Ht!==null&&(t&&Ht.alternate!==null&&dt.delete(Ht.key===null?vt:Ht.key),V=f(Ht,V,vt),Nt===null?lt=Ht:Nt.sibling=Ht,Nt=Ht);return t&&dt.forEach(function(TT){return n(j,TT)}),Qt&&ya(j,vt),lt}function te(j,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var lt=L.key;V!==null;){if(V.key===lt){if(lt=L.type,lt===Z){if(V.tag===7){s(j,V.sibling),Q=c(V,L.props.children),Q.return=j,j=Q;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ip(lt)===V.type){s(j,V.sibling),Q=c(V,L.props),Ml(Q,L),Q.return=j,j=Q;break t}s(j,V);break}else n(j,V);V=V.sibling}L.type===Z?(Q=ga(L.props.children,j.mode,Q,L.key),Q.return=j,j=Q):(Q=nu(L.type,L.key,L.props,null,j.mode,Q),Ml(Q,L),Q.return=j,j=Q)}return v(j);case G:t:{for(lt=L.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){s(j,V.sibling),Q=c(V,L.children||[]),Q.return=j,j=Q;break t}else{s(j,V);break}else n(j,V);V=V.sibling}Q=gh(L,j.mode,Q),Q.return=j,j=Q}return v(j);case b:return lt=L._init,L=lt(L._payload),te(j,V,L,Q)}if(Rt(L))return At(j,V,L,Q);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(r(150));return L=lt.call(L),yt(j,V,L,Q)}if(typeof L.then=="function")return te(j,V,vu(L),Q);if(L.$$typeof===ot)return te(j,V,ru(j,L),Q);Eu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(s(j,V.sibling),Q=c(V,L),Q.return=j,j=Q):(s(j,V),Q=mh(L,j.mode,Q),Q.return=j,j=Q),v(j)):s(j,V)}return function(j,V,L,Q){try{Ol=0;var lt=te(j,V,L,Q);return pr=null,lt}catch(dt){if(dt===bl||dt===ou)throw dt;var Nt=_n(29,dt,null,j.mode);return Nt.lanes=Q,Nt.return=j,Nt}finally{}}}var yr=sp(!0),ap=sp(!1),Un=$(null),ci=null;function gs(t){var n=t.alternate;W(Ne,Ne.current&1),W(Un,t),ci===null&&(n===null||fr.current!==null||n.memoizedState!==null)&&(ci=t)}function rp(t){if(t.tag===22){if(W(Ne,Ne.current),W(Un,t),ci===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ci=t)}}else ps()}function ps(){W(Ne,Ne.current),W(Un,Un.current)}function Gi(t){it(Un),ci===t&&(ci=null),it(Ne)}var Ne=$(0);function Tu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Lf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Kh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Xh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=An(),c=fs(l);c.payload=n,s!=null&&(c.callback=s),n=ds(t,c,l),n!==null&&(Sn(n,t,l),Rl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=An(),c=fs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ds(t,c,l),n!==null&&(Sn(n,t,l),Rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=An(),l=fs(s);l.tag=2,n!=null&&(l.callback=n),n=ds(t,l,s),n!==null&&(Sn(n,t,s),Rl(n,t,s))}};function lp(t,n,s,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!pl(s,l)||!pl(c,f):!0}function op(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Xh.enqueueReplaceState(n,n.state,null)}function ba(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function up(t){Au(t)}function cp(t){console.error(t)}function hp(t){Au(t)}function Su(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $h(t,n,s){return s=fs(s),s.tag=3,s.payload={element:null},s.callback=function(){Su(t,n)},s}function dp(t){return t=fs(t),t.tag=3,t}function mp(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){fp(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fp(n,s,l),typeof c!="function"&&(As===null?As=new Set([this]):As.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function TE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Tl(n,s,c,!0),s=Un.current,s!==null){switch(s.tag){case 13:return ci===null?Tf():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===wh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Sf(t,l,c)),!1;case 22:return s.flags|=65536,l===wh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Sf(t,l,c)),!1}throw Error(r(435,s.tag))}return Sf(t,l,c),Tf(),!1}if(Qt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==_h&&(t=Error(r(422),{cause:l}),El(Vn(t,s)))):(l!==_h&&(n=Error(r(423),{cause:l}),El(Vn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Vn(l,s),c=$h(t.stateNode,l,c),Ih(t,c),fe!==4&&(fe=2)),!1;var f=Error(r(520),{cause:l});if(f=Vn(f,s),ql===null?ql=[f]:ql.push(f),fe!==4&&(fe=2),n===null)return!0;l=Vn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=$h(s.stateNode,l,t),Ih(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=dp(c),mp(c,t,s,l),Ih(s,c),!1}s=s.return}while(s!==null);return!1}var gp=Error(r(461)),Ue=!1;function qe(t,n,s,l){n.child=t===null?ap(n,null,s,l):yr(n,t.child,s,l)}function pp(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ta(n),l=Oh(t,n,s,v,f,c),E=Mh(),t!==null&&!Ue?(Uh(t,n,c),Fi(t,n,c)):(Qt&&E&&ph(n),n.flags|=1,qe(t,n,l,c),n.child)}function yp(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!dh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,_p(t,n,f,l,c)):(t=nu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!af(t,c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:pl,s(v,l)&&t.ref===n.ref)return Fi(t,n,c)}return n.flags|=1,t=Li(f,l),t.ref=n.ref,t.return=n,n.child=t}function _p(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===n.ref)if(Ue=!1,n.pendingProps=l=f,af(t,c))(t.flags&131072)!==0&&(Ue=!0);else return n.lanes=t.lanes,Fi(t,n,c)}return Zh(t,n,s,l,c)}function vp(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ep(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&lu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):Nh(),rp(n);else return n.lanes=n.childLanes=536870912,Ep(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(lu(n,f.cachePool),_g(n,f),ps(),n.memoizedState=null):(t!==null&&lu(n,null),Nh(),ps());return qe(t,n,c,s),n.child}function Ep(t,n,s,l){var c=bh();return c=c===null?null:{parent:De._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&lu(n,null),Nh(),rp(n),t!==null&&Tl(t,n,l,!0),null}function bu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Zh(t,n,s,l,c){return Ta(n),s=Oh(t,n,s,l,void 0,c),l=Mh(),t!==null&&!Ue?(Uh(t,n,c),Fi(t,n,c)):(Qt&&l&&ph(n),n.flags|=1,qe(t,n,s,c),n.child)}function Tp(t,n,s,l,c,f){return Ta(n),n.updateQueue=null,s=Eg(n,l,s,c),vg(t),l=Mh(),t!==null&&!Ue?(Uh(t,n,f),Fi(t,n,f)):(Qt&&l&&ph(n),n.flags|=1,qe(t,n,s,f),n.child)}function Ap(t,n,s,l,c){if(Ta(n),n.stateNode===null){var f=lr,v=s.contextType;typeof v=="object"&&v!==null&&(f=Ke(v)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Rh(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?Ke(v):lr,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Kh(n,s,v,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Xh.enqueueReplaceState(f,f.state,null),Il(n,l,f,c),Cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ba(s,E);f.props=C;var z=f.context,F=s.contextType;v=lr,typeof F=="object"&&F!==null&&(v=Ke(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&op(n,f,l,v),hs=!1;var P=n.memoizedState;f.state=P,Il(n,l,f,c),Cl(),z=n.memoizedState,E||P!==z||hs?(typeof K=="function"&&(Kh(n,s,K,l),z=n.memoizedState),(C=hs||lp(n,s,C,l,P,z,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ch(t,n),v=n.memoizedProps,F=ba(s,v),f.props=F,K=n.pendingProps,P=f.context,z=s.contextType,C=lr,typeof z=="object"&&z!==null&&(C=Ke(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||P!==C)&&op(n,f,l,C),hs=!1,P=n.memoizedState,f.state=P,Il(n,l,f,c),Cl();var q=n.memoizedState;v!==K||P!==q||hs||t!==null&&t.dependencies!==null&&au(t.dependencies)?(typeof E=="function"&&(Kh(n,s,E,l),q=n.memoizedState),(F=hs||lp(n,s,F,l,P,q,C)||t!==null&&t.dependencies!==null&&au(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,bu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=yr(n,t.child,null,c),n.child=yr(n,null,s,c)):qe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Fi(t,n,c),t}function Sp(t,n,s,l){return vl(),n.flags|=256,qe(t,n,s,l),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(t){return{baseLanes:t,cachePool:cg()}}function tf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jn),t}function bp(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qt){if(c?gs(n):ps(),Qt){var E=he,C;if(C=E){t:{for(C=E,E=ui;C.nodeType!==8;){if(!E){E=null;break t}if(C=Yn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:pa!==null?{id:zi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},C=_n(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,sn=n,he=null,C=!0):C=!1}C||va(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Lf(E)?n.lanes=32:n.lanes=536870912,null;Gi(n)}return E=l.children,l=l.fallback,c?(ps(),c=n.mode,E=wu({mode:"hidden",children:E},c),l=ga(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Wh(s),c.childLanes=tf(t,v,s),n.memoizedState=Jh,l):(gs(n),ef(n,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(gs(n),n.flags&=-257,n=nf(t,n,s)):n.memoizedState!==null?(ps(),n.child=t.child,n.flags|=128,n=null):(ps(),c=l.fallback,E=n.mode,l=wu({mode:"visible",children:l.children},E),c=ga(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,yr(n,t.child,null,s),l=n.child,l.memoizedState=Wh(s),l.childLanes=tf(t,v,s),n.memoizedState=Jh,n=c);else if(gs(n),Lf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(r(419)),l.stack="",l.digest=v,El({value:l,source:null,stack:null}),n=nf(t,n,s)}else if(Ue||Tl(t,n,s,!1),v=(s&t.childLanes)!==0,Ue||v){if(v=ie,v!==null&&(l=s&-s,l=(l&42)!==0?1:is(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,rr(t,l),Sn(v,t,l),gp;E.data==="$?"||Tf(),n=nf(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,he=Yn(E.nextSibling),sn=n,Qt=!0,_a=null,ui=!1,t!==null&&(On[Mn++]=zi,On[Mn++]=Pi,On[Mn++]=pa,zi=t.id,Pi=t.overflow,pa=n),n=ef(n,l.children),n.flags|=4096);return n}return c?(ps(),c=l.fallback,E=n.mode,C=t.child,z=C.sibling,l=Li(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?c=Li(z,c):(c=ga(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Wh(s):(C=E.cachePool,C!==null?(z=De._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=cg(),E={baseLanes:E.baseLanes|s,cachePool:C}),c.memoizedState=E,c.childLanes=tf(t,v,s),n.memoizedState=Jh,l):(gs(n),s=t.child,t=s.sibling,s=Li(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=s,n.memoizedState=null,s)}function ef(t,n){return n=wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function wu(t,n){return t=_n(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,n,s){return yr(n,t.child,null,s),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,s)}function sf(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Rp(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(qe(t,n,l.children,s),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,s,n);else if(t.tag===19)wp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ne,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Tu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),sf(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}sf(n,!0,s,null,f);break;case"together":sf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Fi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Tl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Li(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Li(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function af(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&au(t)))}function AE(t,n,s){switch(n.tag){case 3:Gt(n,n.stateNode.containerInfo),cs(n,De,t.memoizedState.cache),vl();break;case 27:case 5:$n(n);break;case 4:Gt(n,n.stateNode.containerInfo);break;case 10:cs(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?bp(t,n,s):(gs(n),t=Fi(t,n,s),t!==null?t.sibling:null);gs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Tl(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Rp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,vp(t,n,s);case 24:cs(n,De,t.memoizedState.cache)}return Fi(t,n,s)}function Cp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ue=!0;else{if(!af(t,s)&&(n.flags&128)===0)return Ue=!1,AE(t,n,s);Ue=(t.flags&131072)!==0}else Ue=!1,Qt&&(n.flags&1048576)!==0&&ig(n,su,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")dh(l)?(t=ba(l,t),n.tag=1,n=Ap(null,n,l,t,s)):(n.tag=0,n=Zh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=pp(null,n,l,t,s);break t}else if(c===x){n.tag=14,n=yp(null,n,l,t,s);break t}}throw n=wt(l)||l,Error(r(306,n,""))}}return n;case 0:return Zh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ba(l,n.pendingProps),Ap(t,n,l,c,s);case 3:t:{if(Gt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Ch(t,n),Il(n,l,null,s);var v=n.memoizedState;if(l=v.cache,cs(n,De,l),l!==f.cache&&Th(n,[De],s,!0),Cl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sp(t,n,l,s);break t}else if(l!==c){c=Vn(Error(r(424)),n),El(c),n=Sp(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(he=Yn(t.firstChild),sn=n,Qt=!0,_a=null,ui=!0,s=ap(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vl(),l===c){n=Fi(t,n,s);break t}qe(t,n,l,s)}n=n.child}return n;case 26:return bu(t,n),t===null?(s=Vy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,t=n.pendingProps,l=zu(_t.current).createElement(s),l[Re]=n,l[_e]=t,He(l,s,t),me(l),n.stateNode=l):n.memoizedState=Vy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $n(n),t===null&&Qt&&(l=n.stateNode=Iy(n.type,n.pendingProps,_t.current),sn=n,ui=!0,c=he,ws(n.type)?(zf=c,he=Yn(l.firstChild)):he=c),qe(t,n,n.pendingProps.children,s),bu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qt&&((c=l=he)&&(l=$E(l,n.type,n.pendingProps,ui),l!==null?(n.stateNode=l,sn=n,he=Yn(l.firstChild),ui=!1,c=!0):c=!1),c||va(n)),$n(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Uf(c,f)?l=null:v!==null&&Uf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Oh(t,n,mE,null,null,s),$l._currentValue=c),bu(t,n),qe(t,n,l,s),n.child;case 6:return t===null&&Qt&&((t=s=he)&&(s=ZE(s,n.pendingProps,ui),s!==null?(n.stateNode=s,sn=n,he=null,t=!0):t=!1),t||va(n)),null;case 13:return bp(t,n,s);case 4:return Gt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=yr(n,null,l,s):qe(t,n,l,s),n.child;case 11:return pp(t,n,n.type,n.pendingProps,s);case 7:return qe(t,n,n.pendingProps,s),n.child;case 8:return qe(t,n,n.pendingProps.children,s),n.child;case 12:return qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,cs(n,n.type,l.value),qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ta(n),c=Ke(c),l=l(c),n.flags|=1,qe(t,n,l,s),n.child;case 14:return yp(t,n,n.type,n.pendingProps,s);case 15:return _p(t,n,n.type,n.pendingProps,s);case 19:return Rp(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=wu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Li(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return vp(t,n,s);case 24:return Ta(n),l=Ke(De),t===null?(c=bh(),c===null&&(c=ie,f=Ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Rh(n),cs(n,De,c)):((t.lanes&s)!==0&&(Ch(t,n),Il(n,null,null,s),Cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cs(n,De,l)):(l=f.cache,cs(n,De,l),l!==c.cache&&Th(n,[De],s,!0))),qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qi(t){t.flags|=4}function Ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jy(n)){if(n=Un.current,n!==null&&((zt&4194048)===zt?ci!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==ci))throw wl=wh,hg;t.flags|=8192}}function Ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Jr():536870912,t.lanes|=n,Tr|=n)}function Ul(t,n){if(!Qt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function oe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function SE(t,n,s){var l=n.pendingProps;switch(yh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(De),an(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_l(n)?Qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rg())),oe(n),null;case 26:return s=n.memoizedState,t===null?(Qi(n),s!==null?(oe(n),Ip(n,s)):(oe(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Qi(n),oe(n),Ip(n,s)):(oe(n),n.flags&=-16777217):(t.memoizedProps!==l&&Qi(n),oe(n),n.flags&=-16777217),null;case 27:Pn(n),s=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return oe(n),null}t=ft.current,_l(n)?sg(n):(t=Iy(c,l,s),n.stateNode=t,Qi(n))}return oe(n),null;case 5:if(Pn(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(t=ft.current,_l(n))sg(n);else{switch(c=zu(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[Re]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(He(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Qi(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=_t.current,_l(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ty(t.nodeValue,s)),t||va(n)}else t=zu(t).createTextNode(l),t[Re]=n,n.stateNode=t}return oe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=_l(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Re]=n}else vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),c=!1}else c=rg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Gi(n),n):(Gi(n),null)}if(Gi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Ru(n,n.updateQueue),oe(n),null;case 4:return an(),t===null&&Nf(n.stateNode.containerInfo),oe(n),null;case 10:return Bi(n.type),oe(n),null;case 19:if(it(Ne),c=n.memoizedState,c===null)return oe(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Ul(c,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Tu(t),f!==null){for(n.flags|=128,Ul(c,!1),t=f.updateQueue,n.updateQueue=t,Ru(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ng(s,t),s=s.sibling;return W(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&rn()>Du&&(n.flags|=128,l=!0,Ul(c,!1),n.lanes=4194304)}else{if(!l)if(t=Tu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ru(n,t),Ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Qt)return oe(n),null}else 2*rn()-c.renderingStartTime>Du&&s!==536870912&&(n.flags|=128,l=!0,Ul(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=rn(),n.sibling=null,t=Ne.current,W(Ne,l?t&1|2:t&1),n):(oe(n),null);case 22:case 23:return Gi(n),Vh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&Ru(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&it(Aa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(De),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function bE(t,n){switch(yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(De),an(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pn(n),null;case 13:if(Gi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));vl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ne),null;case 4:return an(),null;case 10:return Bi(n.type),null;case 22:case 23:return Gi(n),Vh(),t!==null&&it(Aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(De),null;case 25:return null;default:return null}}function Dp(t,n){switch(yh(n),n.tag){case 3:Bi(De),an();break;case 26:case 27:case 5:Pn(n);break;case 4:an();break;case 13:Gi(n);break;case 19:it(Ne);break;case 10:Bi(n.type);break;case 22:case 23:Gi(n),Vh(),t!==null&&it(Aa);break;case 24:Bi(De)}}function jl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,v=s.inst;l=f(),v.destroy=l}s=s.next}while(s!==c)}}catch(E){ee(n,n.return,E)}}function ys(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var C=s,z=E;try{z()}catch(F){ee(c,C,F)}}}l=l.next}while(l!==f)}}catch(F){ee(n,n.return,F)}}function Np(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{yg(n,s)}catch(l){ee(t,t.return,l)}}}function Vp(t,n,s){s.props=ba(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ee(t,n,l)}}function kl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){ee(t,n,c)}}function hi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){ee(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){ee(t,n,c)}else s.current=null}function xp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){ee(t,t.return,c)}}function rf(t,n,s){try{var l=t.stateNode;FE(l,t.type,s,n),l[_e]=n}catch(c){ee(t,t.return,c)}}function Op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ws(t.type)||t.tag===4}function lf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Lu));else if(l!==4&&(l===27&&ws(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(of(t,n,s),t=t.sibling;t!==null;)of(t,n,s),t=t.sibling}function Cu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ws(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Cu(t,n,s),t=t.sibling;t!==null;)Cu(t,n,s),t=t.sibling}function Mp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,s),n[Re]=t,n[_e]=s}catch(f){ee(t,t.return,f)}}var Yi=!1,pe=!1,uf=!1,Up=typeof WeakSet=="function"?WeakSet:Set,je=null;function wE(t,n){if(t=t.containerInfo,Of=Fu,t=Qm(t),rh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var v=0,E=-1,C=-1,z=0,F=0,K=t,P=null;e:for(;;){for(var q;K!==s||c!==0&&K.nodeType!==3||(E=v+c),K!==f||l!==0&&K.nodeType!==3||(C=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(q=K.firstChild)!==null;)P=K,K=q;for(;;){if(K===t)break e;if(P===s&&++z===c&&(E=v),P===f&&++F===l&&(C=v),(q=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Mf={focusedElem:t,selectionRange:s},Fu=!1,je=n;je!==null;)if(n=je,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,je=t;else for(;je!==null;){switch(n=je,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var At=ba(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(At,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){ee(s,s.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)kf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,je=t;break}je=n.return}}function jp(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:_s(t,s),l&4&&jl(5,s);break;case 1:if(_s(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(v){ee(s,s.return,v)}else{var c=ba(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(s,s.return,v)}}l&64&&Np(s),l&512&&kl(s,s.return);break;case 3:if(_s(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{yg(t,n)}catch(v){ee(s,s.return,v)}}break;case 27:n===null&&l&4&&Mp(s);case 26:case 5:_s(t,s),n===null&&l&4&&xp(s),l&512&&kl(s,s.return);break;case 12:_s(t,s);break;case 13:_s(t,s),l&4&&zp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ME.bind(null,s),JE(t,s))));break;case 22:if(l=s.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||pe,c=Yi;var f=pe;Yi=l,(pe=n)&&!f?vs(t,s,(s.subtreeFlags&8772)!==0):_s(t,s),Yi=c,pe=f}break;case 30:break;default:_s(t,s)}}function kp(t){var n=t.alternate;n!==null&&(t.alternate=null,kp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&rs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,on=!1;function Ki(t,n,s){for(s=s.child;s!==null;)Lp(t,n,s),s=s.sibling}function Lp(t,n,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ae,s)}catch{}switch(s.tag){case 26:pe||hi(s,n),Ki(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pe||hi(s,n);var l=le,c=on;ws(s.type)&&(le=s.stateNode,on=!1),Ki(t,n,s),Ql(s.stateNode),le=l,on=c;break;case 5:pe||hi(s,n);case 6:if(l=le,c=on,le=null,Ki(t,n,s),le=l,on=c,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:le!==null&&(on?(t=le,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),to(t)):Ry(le,s.stateNode));break;case 4:l=le,c=on,le=s.stateNode.containerInfo,on=!0,Ki(t,n,s),le=l,on=c;break;case 0:case 11:case 14:case 15:pe||ys(2,s,n),pe||ys(4,s,n),Ki(t,n,s);break;case 1:pe||(hi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Vp(s,n,l)),Ki(t,n,s);break;case 21:Ki(t,n,s);break;case 22:pe=(l=pe)||s.memoizedState!==null,Ki(t,n,s),pe=l;break;default:Ki(t,n,s)}}function zp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(s){ee(n,n.return,s)}}function RE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Up),n;default:throw Error(r(435,t.tag))}}function cf(t,n){var s=RE(t);n.forEach(function(l){var c=UE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function vn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ws(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(r(160));Lp(f,v,c),le=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Pp(n,t),n=n.sibling}var Qn=null;function Pp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),En(t),l&4&&(ys(3,t,t.return),jl(3,t),ys(5,t,t.return));break;case 1:vn(n,t),En(t),l&512&&(pe||s===null||hi(s,s.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Qn;if(vn(n,t),En(t),l&512&&(pe||s===null||hi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ws]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,s),f[Re]=t,me(f),l=f;break t;case"link":var v=My("link","href",c).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;case"meta":if(v=My("meta","content",c).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Re]=t,me(f),l=f}t.stateNode=l}else Uy(c,t.type,t.stateNode);else t.stateNode=Oy(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Uy(c,t.type,t.stateNode):Oy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rf(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(n,t),En(t),l&512&&(pe||s===null||hi(s,s.return)),s!==null&&l&4&&rf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(n,t),En(t),l&512&&(pe||s===null||hi(s,s.return)),t.flags&32){c=t.stateNode;try{Cn(c,"")}catch(q){ee(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,rf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(uf=!0);break;case 6:if(vn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(q){ee(t,t.return,q)}}break;case 3:if(Bu=null,c=Qn,Qn=Pu(n.containerInfo),vn(n,t),Qn=c,En(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{to(n.containerInfo)}catch(q){ee(t,t.return,q)}uf&&(uf=!1,qp(t));break;case 4:l=Qn,Qn=Pu(t.stateNode.containerInfo),vn(n,t),En(t),Qn=l;break;case 12:vn(n,t),En(t);break;case 13:vn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(pf=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 22:c=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Yi,F=pe;if(Yi=z||c,pe=F||C,vn(n,t),pe=F,Yi=z,En(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||C||Yi||pe||wa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){ee(C,C.return,q)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(q){ee(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,cf(t,s))));break;case 19:vn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 30:break;case 21:break;default:vn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Op(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=lf(t);Cu(t,f,c);break;case 5:var v=s.stateNode;s.flags&32&&(Cn(v,""),s.flags&=-33);var E=lf(t);Cu(t,E,v);break;case 3:case 4:var C=s.stateNode.containerInfo,z=lf(t);of(t,z,C);break;default:throw Error(r(161))}}catch(F){ee(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _s(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jp(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ys(4,n,n.return),wa(n);break;case 1:hi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Vp(n,n.return,s),wa(n);break;case 27:Ql(n.stateNode);case 26:case 5:hi(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function vs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:vs(c,f,s),jl(4,f);break;case 1:if(vs(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){ee(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)pg(C[c],E)}catch(z){ee(l,l.return,z)}}s&&v&64&&Np(f),kl(f,f.return);break;case 27:Mp(f);case 26:case 5:vs(c,f,s),s&&l===null&&v&4&&xp(f),kl(f,f.return);break;case 12:vs(c,f,s);break;case 13:vs(c,f,s),s&&v&4&&zp(c,f);break;case 22:f.memoizedState===null&&vs(c,f,s),kl(f,f.return);break;case 30:break;default:vs(c,f,s)}n=n.sibling}}function hf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Al(s))}function ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t))}function fi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bp(t,n,s,l),n=n.sibling}function Bp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,s,l),c&2048&&jl(9,n);break;case 1:fi(t,n,s,l);break;case 3:fi(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t)));break;case 12:if(c&2048){fi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ee(n,n.return,C)}}else fi(t,n,s,l);break;case 13:fi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?fi(t,n,s,l):Ll(t,n):f._visibility&2?fi(t,n,s,l):(f._visibility|=2,_r(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&hf(v,n);break;case 24:fi(t,n,s,l),c&2048&&ff(n.alternate,n);break;default:fi(t,n,s,l)}}function _r(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=s,C=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:_r(f,v,E,C,c),jl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?_r(f,v,E,C,c):Ll(f,v):(F._visibility|=2,_r(f,v,E,C,c)),c&&z&2048&&hf(v.alternate,v);break;case 24:_r(f,v,E,C,c),c&&z&2048&&ff(v.alternate,v);break;default:_r(f,v,E,C,c)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Ll(s,l),c&2048&&hf(l.alternate,l);break;case 24:Ll(s,l),c&2048&&ff(l.alternate,l);break;default:Ll(s,l)}n=n.sibling}}var zl=8192;function vr(t){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)Hp(t),t=t.sibling}function Hp(t){switch(t.tag){case 26:vr(t),t.flags&zl&&t.memoizedState!==null&&hT(Qn,t.memoizedState,t.memoizedProps);break;case 5:vr(t);break;case 3:case 4:var n=Qn;Qn=Pu(t.stateNode.containerInfo),vr(t),Qn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,vr(t),zl=n):vr(t));break;default:vr(t)}}function Gp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,Qp(l,t)}Gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fp(t),t=t.sibling}function Fp(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&ys(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Iu(t)):Pl(t);break;default:Pl(t)}}function Iu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,Qp(l,t)}Gp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ys(8,n,n.return),Iu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Iu(n));break;default:Iu(n)}t=t.sibling}}function Qp(t,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ys(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=t;je!==null;){l=je;var c=l.sibling,f=l.return;if(kp(l),l===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var CE={getCacheForType:function(t){var n=Ke(De),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},IE=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ie=null,Vt=null,zt=0,$t=0,Tn=null,Es=!1,Er=!1,df=!1,Xi=0,fe=0,Ts=0,Ra=0,mf=0,jn=0,Tr=0,ql=null,un=null,gf=!1,pf=0,Du=1/0,Nu=null,As=null,Be=0,Ss=null,Ar=null,Sr=0,yf=0,_f=null,Yp=null,Bl=0,vf=null;function An(){if((Xt&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var t=cr;return t!==0?t:Rf()}return ss()}function Kp(){jn===0&&(jn=(zt&536870912)===0||Qt?Zr():536870912);var t=Un.current;return t!==null&&(t.flags|=32),jn}function Sn(t,n,s){(t===ie&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(br(t,0),bs(t,zt,jn,!1)),Ci(t,s),((Xt&2)===0||t!==ie)&&(t===ie&&((Xt&2)===0&&(Ra|=s),fe===4&&bs(t,zt,jn,!1)),di(t))}function Xp(t,n,s){if((Xt&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Js(t,n),c=l?VE(t,n):Af(t,n,!0),f=l;do{if(c===0){Er&&!l&&bs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!DE(s)){c=Af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=ql;var C=E.current.memoizedState.isDehydrated;if(C&&(br(E,v).flags|=256),v=Af(E,v,!1),v!==2){if(df&&!C){E.errorRecoveryDisabledLanes|=f,Ra|=f,c=4;break t}f=un,un=c,f!==null&&(un===null?un=f:un.push.apply(un,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){br(t,0),bs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:bs(l,n,jn,!Es);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=pf+300-rn(),10<c)){if(bs(l,n,jn,!Es),qa(l,0,!0)!==0)break t;l.timeoutHandle=by($p.bind(null,l,s,un,Nu,gf,n,jn,Ra,Tr,Es,f,2,-0,0),c);break t}$p(l,s,un,Nu,gf,n,jn,Ra,Tr,Es,f,0,-0,0)}}break}while(!0);di(t)}function $p(t,n,s,l,c,f,v,E,C,z,F,K,P,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:cT},Hp(n),K=fT(),K!==null)){t.cancelPendingCommit=K(iy.bind(null,t,n,f,s,l,c,v,E,C,F,1,P,q)),bs(t,f,v,!z);return}iy(t,n,f,s,l,c,v,E,C)}function DE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!yn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bs(t,n,s,l){n&=~mf,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Bt(c),v=1<<f;l[f]=-1,c&=~v}s!==0&&Jn(t,s,n)}function Vu(){return(Xt&6)===0?(Hl(0),!1):!0}function Ef(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,qi=Ea=null,jh(t),pr=null,Ol=0,t=Vt;for(;t!==null;)Dp(t.alternate,t),t=t.return;Vt=null}}function br(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,YE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ef(),ie=t,Vt=s=Li(t.current,null),zt=n,$t=0,Tn=null,Es=!1,Er=Js(t,n),df=!1,Tr=jn=mf=Ra=Ts=fe=0,un=ql=null,gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Bt(l),f=1<<c;n|=t[c],l&=~f}return Xi=n,Wo(),s}function Zp(t,n){Dt=null,H.H=_u,n===bl||n===ou?(n=mg(),$t=3):n===hg?(n=mg(),$t=4):$t=n===gp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Vt===null&&(fe=1,Su(t,Vn(n,t.current)))}function Jp(){var t=H.H;return H.H=_u,t===null?_u:t}function Wp(){var t=H.A;return H.A=CE,t}function Tf(){fe=4,Es||(zt&4194048)!==zt&&Un.current!==null||(Er=!0),(Ts&134217727)===0&&(Ra&134217727)===0||ie===null||bs(ie,zt,jn,!1)}function Af(t,n,s){var l=Xt;Xt|=2;var c=Jp(),f=Wp();(ie!==t||zt!==n)&&(Nu=null,br(t,n)),n=!1;var v=fe;t:do try{if($t!==0&&Vt!==null){var E=Vt,C=Tn;switch($t){case 8:Ef(),v=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var z=$t;if($t=0,Tn=null,wr(t,E,C,z),s&&Er){v=0;break t}break;default:z=$t,$t=0,Tn=null,wr(t,E,C,z)}}NE(),v=fe;break}catch(F){Zp(t,F)}while(!0);return n&&t.shellSuspendCounter++,qi=Ea=null,Xt=l,H.H=c,H.A=f,Vt===null&&(ie=null,zt=0,Wo()),v}function NE(){for(;Vt!==null;)ty(Vt)}function VE(t,n){var s=Xt;Xt|=2;var l=Jp(),c=Wp();ie!==t||zt!==n?(Nu=null,Du=rn()+500,br(t,n)):Er=Js(t,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var f=Tn;e:switch($t){case 1:$t=0,Tn=null,wr(t,n,f,1);break;case 2:case 9:if(fg(f)){$t=0,Tn=null,ey(n);break}n=function(){$t!==2&&$t!==9||ie!==t||($t=7),di(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:fg(f)?($t=0,Tn=null,ey(n)):($t=0,Tn=null,wr(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||jy(v)){$t=0,Tn=null;var C=E.sibling;if(C!==null)Vt=C;else{var z=E.return;z!==null?(Vt=z,xu(z)):Vt=null}break e}}$t=0,Tn=null,wr(t,n,f,5);break;case 6:$t=0,Tn=null,wr(t,n,f,6);break;case 8:Ef(),fe=6;break t;default:throw Error(r(462))}}xE();break}catch(F){Zp(t,F)}while(!0);return qi=Ea=null,H.H=l,H.A=c,Xt=s,Vt!==null?0:(ie=null,zt=0,Wo(),fe)}function xE(){for(;Vt!==null&&!Xs();)ty(Vt)}function ty(t){var n=Cp(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?xu(t):Vt=n}function ey(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Tp(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Tp(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:jh(n);default:Dp(s,n),n=Vt=ng(n,Xi),n=Cp(s,n,Xi)}t.memoizedProps=t.pendingProps,n===null?xu(t):Vt=n}function wr(t,n,s,l){qi=Ea=null,jh(n),pr=null,Ol=0;var c=n.return;try{if(TE(t,c,n,s,zt)){fe=1,Su(t,Vn(s,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;fe=1,Su(t,Vn(s,t.current)),Vt=null;return}n.flags&32768?(Qt||l===1?t=!0:Er||(zt&536870912)!==0?t=!1:(Es=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):xu(n)}function xu(t){var n=t;do{if((n.flags&32768)!==0){ny(n,Es);return}t=n.return;var s=SE(n.alternate,n,Xi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);fe===0&&(fe=5)}function ny(t,n){do{var s=bE(t.alternate,t);if(s!==null){s.flags&=32767,Vt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=s}while(t!==null);fe=6,Vt=null}function iy(t,n,s,l,c,f,v,E,C){t.cancelPendingCommit=null;do Ou();while(Be!==0);if((Xt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=hh,Wr(t,s,f,v,E,C),t===ie&&(Vt=ie=null,zt=0),Ar=n,Ss=t,Sr=s,yf=f,_f=c,Yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(Zn,function(){return oy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,v=Xt,Xt|=4;try{wE(t,n,s)}finally{Xt=v,nt.p=c,H.T=l}}Be=1,sy(),ay(),ry()}}function sy(){if(Be===1){Be=0;var t=Ss,n=Ar,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Xt;Xt|=4;try{Pp(n,t);var f=Mf,v=Qm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Fm(E.ownerDocument.documentElement,E)){if(C!==null&&rh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var q=P.getSelection(),At=E.textContent.length,yt=Math.min(C.start,At),te=C.end===void 0?yt:Math.min(C.end,At);!q.extend&&yt>te&&(v=te,te=yt,yt=v);var j=Gm(E,yt),V=Gm(E,te);if(j&&V&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=K.createRange();L.setStart(j.node,j.offset),q.removeAllRanges(),yt>te?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Fu=!!Of,Mf=Of=null}finally{Xt=c,nt.p=l,H.T=s}}t.current=n,Be=2}}function ay(){if(Be===2){Be=0;var t=Ss,n=Ar,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Xt;Xt|=4;try{jp(t,n.alternate,n)}finally{Xt=c,nt.p=l,H.T=s}}Be=3}}function ry(){if(Be===4||Be===3){Be=0,Pa();var t=Ss,n=Ar,s=Sr,l=Yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,Ar=Ss=null,ly(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(As=null),Ba(s),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(Sr&3)!==0&&Ou(),di(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===vf?Bl++:(Bl=0,vf=t):Bl=0,Hl(0)}}function ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Al(n)))}function Ou(t){return sy(),ay(),ry(),oy()}function oy(){if(Be!==5)return!1;var t=Ss,n=yf;yf=0;var s=Ba(Sr),l=H.T,c=nt.p;try{nt.p=32>s?32:s,H.T=null,s=_f,_f=null;var f=Ss,v=Sr;if(Be=0,Ar=Ss=null,Sr=0,(Xt&6)!==0)throw Error(r(331));var E=Xt;if(Xt|=4,Fp(f.current),Bp(f,f.current,v,s),Xt=E,Hl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{nt.p=c,H.T=l,ly(t,n)}}function uy(t,n,s){n=Vn(s,n),n=$h(t.stateNode,n,2),t=ds(t,n,2),t!==null&&(Ci(t,2),di(t))}function ee(t,n,s){if(t.tag===3)uy(t,t,s);else for(;n!==null;){if(n.tag===3){uy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(As===null||!As.has(l))){t=Vn(s,t),s=dp(2),l=ds(n,s,2),l!==null&&(mp(s,l,n,t),Ci(l,2),di(l));break}}n=n.return}}function Sf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new IE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(df=!0,c.add(s),t=OE.bind(null,t,n,s),n.then(t,t))}function OE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ie===t&&(zt&s)===s&&(fe===4||fe===3&&(zt&62914560)===zt&&300>rn()-pf?(Xt&2)===0&&br(t,0):mf|=s,Tr===zt&&(Tr=0)),di(t)}function cy(t,n){n===0&&(n=Jr()),t=rr(t,n),t!==null&&(Ci(t,n),di(t))}function ME(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),cy(t,s)}function UE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),cy(t,s)}function jE(t,n){return Si(t,n)}var Mu=null,Rr=null,bf=!1,Uu=!1,wf=!1,Ca=0;function di(t){t!==Rr&&t.next===null&&(Rr===null?Mu=Rr=t:Rr=Rr.next=t),Uu=!0,bf||(bf=!0,LE())}function Hl(t,n){if(!wf&&Uu){wf=!0;do for(var s=!1,l=Mu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Bt(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,my(l,f))}else f=zt,f=qa(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Js(l,f)||(s=!0,my(l,f));l=l.next}while(s);wf=!1}}function kE(){hy()}function hy(){Uu=bf=!1;var t=0;Ca!==0&&(QE()&&(t=Ca),Ca=0);for(var n=rn(),s=null,l=Mu;l!==null;){var c=l.next,f=fy(l,n);f===0?(l.next=null,s===null?Mu=c:s.next=c,c===null&&(Rr=s)):(s=l,(t!==0||(f&3)!==0)&&(Uu=!0)),l=c}Hl(t)}function fy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Bt(f),E=1<<v,C=c[v];C===-1?((E&s)===0||(E&l)!==0)&&(c[v]=$r(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ie,s=zt,s=qa(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Js(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&bi(l),Ba(s)){case 2:case 8:s=es;break;case 32:s=Zn;break;case 268435456:s=wi;break;default:s=Zn}return l=dy.bind(null,t),s=Si(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&bi(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ou()&&t.callbackNode!==s)return null;var l=zt;return l=qa(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xp(t,l,n),fy(t,rn()),t.callbackNode!=null&&t.callbackNode===s?dy.bind(null,t):null)}function my(t,n){if(Ou())return null;Xp(t,n,!0)}function LE(){KE(function(){(Xt&6)!==0?Si($s,kE):hy()})}function Rf(){return Ca===0&&(Ca=Zr()),Ca}function gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ka(""+t)}function py(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function zE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=gy((c[_e]||null).action),v=l.submitter;v&&(n=(n=v[_e]||null)?gy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Xa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var C=v?py(c,v):new FormData(c);Fh(s,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=v?py(c,v):new FormData(c),Fh(s,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Cf=0;Cf<ch.length;Cf++){var If=ch[Cf],PE=If.toLowerCase(),qE=If[0].toUpperCase()+If.slice(1);Fn(PE,"on"+qE)}Fn(Xm,"onAnimationEnd"),Fn($m,"onAnimationIteration"),Fn(Zm,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(sE,"onTransitionRun"),Fn(aE,"onTransitionStart"),Fn(rE,"onTransitionCancel"),Fn(Jm,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function yy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){Au(F)}c.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){Au(F)}c.currentTarget=null,f=C}}}}function xt(t,n){var s=n[el];s===void 0&&(s=n[el]=new Set);var l=t+"__bubble";s.has(l)||(_y(n,t,2,!1),s.add(l))}function Df(t,n,s){var l=0;n&&(l|=4),_y(s,t,l,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[ju]){t[ju]=!0,nl.forEach(function(s){s!=="selectionchange"&&(BE.has(s)||Df(s,!1,t),Df(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ju]||(n[ju]=!0,Df("selectionchange",!1,n))}}function _y(t,n,s,l){switch(By(n)){case 2:var c=gT;break;case 8:c=pT;break;default:c=Gf}s=c.bind(null,n,s,t),c=void 0,!Dn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Vf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=Ii(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Lo(function(){var z=f,F=In(s),K=[];t:{var P=Wm.get(t);if(P!==void 0){var q=Xa,At=t;switch(t){case"keypress":if(si(s)===0)break t;case"keydown":case"keyup":q=er;break;case"focusin":At="focus",q=Ja;break;case"focusout":At="blur",q=Ja;break;case"beforeblur":case"afterblur":q=Ja;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Qo;break;case Xm:case $m:case Zm:q=Wa;break;case Jm:q=Ko;break;case"scroll":case"scrollend":q=zo;break;case"wheel":q=nr;break;case"copy":case"cut":case"paste":q=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ml;break;case"toggle":case"beforetoggle":q=$o}var yt=(n&4)!==0,te=!yt&&(t==="scroll"||t==="scrollend"),j=yt?P!==null?P+"Capture":null:P;yt=[];for(var V=z,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||j===null||(Q=ra(V,j),Q!=null&&yt.push(Fl(V,Q,L))),te)break;V=V.return}0<yt.length&&(P=new q(P,At,null,s,F),K.push({event:P,listeners:yt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&s!==xi&&(At=s.relatedTarget||s.fromElement)&&(Ii(At)||At[Rn]))break t;if((q||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,q?(At=s.relatedTarget||s.toElement,q=z,At=At?Ii(At):null,At!==null&&(te=h(At),yt=At.tag,At!==te||yt!==5&&yt!==27&&yt!==6)&&(At=null)):(q=null,At=z),q!==At)){if(yt=Nn,Q="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=ml,Q="onPointerLeave",j="onPointerEnter",V="pointer"),te=q==null?P:ti(q),L=At==null?P:ti(At),P=new yt(Q,V+"leave",q,s,F),P.target=te,P.relatedTarget=L,Q=null,Ii(F)===z&&(yt=new yt(j,V+"enter",At,s,F),yt.target=L,yt.relatedTarget=te,Q=yt),te=Q,q&&At)e:{for(yt=q,j=At,V=0,L=yt;L;L=Cr(L))V++;for(L=0,Q=j;Q;Q=Cr(Q))L++;for(;0<V-L;)yt=Cr(yt),V--;for(;0<L-V;)j=Cr(j),L--;for(;V--;){if(yt===j||j!==null&&yt===j.alternate)break e;yt=Cr(yt),j=Cr(j)}yt=null}else yt=null;q!==null&&vy(K,P,q,yt,!1),At!==null&&te!==null&&vy(K,te,At,yt,!0)}}t:{if(P=z?ti(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var lt=Lm;else if(Ie(P))if(zm)lt=eE;else{lt=W1;var Nt=J1}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&ll(z.elementType)&&(lt=Lm):lt=tE;if(lt&&(lt=lt(t,z))){ki(K,lt,s,F);break t}Nt&&Nt(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&os(P,"number",P.value)}switch(Nt=z?ti(z):window,t){case"focusin":(Ie(Nt)||Nt.contentEditable==="true")&&(ir=Nt,lh=z,yl=null);break;case"focusout":yl=lh=ir=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Ym(K,s,F);break;case"selectionchange":if(iE)break;case"keydown":case"keyup":Ym(K,s,F)}var dt;if(li)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?B(t,s)&&(vt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(p&&s.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(dt=ul()):(ii=F,us="value"in ii?ii.value:ii.textContent,kt=!0)),Nt=ku(z,vt),0<Nt.length&&(vt=new fl(vt,t,null,s,F),K.push({event:vt,listeners:Nt}),dt?vt.data=dt:(dt=tt(s),dt!==null&&(vt.data=dt)))),(dt=m?Ce(t,s):Lt(t,s))&&(vt=ku(z,"onBeforeInput"),0<vt.length&&(Nt=new fl("onBeforeInput","beforeinput",null,s,F),K.push({event:Nt,listeners:vt}),Nt.data=dt)),zE(K,t,z,s,F)}yy(K,n)})}function Fl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ku(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ra(t,s),c!=null&&l.unshift(Fl(t,c,f)),c=ra(t,n),c!=null&&l.push(Fl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Cr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,n,s,l,c){for(var f=n._reactName,v=[];s!==null&&s!==l;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,c?(z=ra(s,f),z!=null&&v.unshift(Fl(s,z,C))):c||(z=ra(s,f),z!=null&&v.push(Fl(s,z,C)))),s=s.return}v.length!==0&&t.push({event:n,listeners:v})}var HE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(HE,`
`).replace(GE,"")}function Ty(t,n){return n=Ey(n),Ey(t)===n}function Lu(){}function Wt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Cn(t,""+l);break;case"className":ei(t,"class",l);break;case"tabIndex":ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,s,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){ei(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ka(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(t,n,"name",c.name,c,null),Wt(t,n,"formEncType",c.formEncType,c,null),Wt(t,n,"formMethod",c.formMethod,c,null),Wt(t,n,"formTarget",c.formTarget,c,null)):(Wt(t,n,"encType",c.encType,c,null),Wt(t,n,"method",c.method,c,null),Wt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ka(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Lu);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),ls(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=th.get(s)||s,ls(t,s,l))}}function xf(t,n,s,l,c,f){switch(s){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[_e]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ls(t,s,l)}}}function He(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(t,n,f,v,s,null)}}c&&Wt(t,n,"srcSet",s.srcSet,s,null),l&&Wt(t,n,"src",s.src,s,null);return;case"input":xt("invalid",t);var E=f=v=c=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Wt(t,n,l,F,s,null)}}ia(t,f,E,C,z,v,c,!1),Ya(t);return;case"select":xt("invalid",t),l=v=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Wt(t,n,c,E,s,null)}n=f,s=v,t.multiple=!!l,n!=null?Vi(t,!!l,n,!1):s!=null&&Vi(t,!!l,s,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Wt(t,n,v,E,s,null)}sa(t,l,c,f),Ya(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,C,l,s,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)xt(Gl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Wt(t,n,z,l,s,null)}return;default:if(ll(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&xf(t,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Wt(t,n,E,l,s,null))}function FE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,C=null,z=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(q)||Wt(t,n,q,null,l,K)}}for(var P in l){var q=l[P];if(K=s[P],l.hasOwnProperty(P)&&(q!=null||K!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Wt(t,n,P,q,l,K)}}pn(t,v,E,C,z,F,f,c);return;case"select":q=v=E=P=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Wt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=s[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==C&&Wt(t,n,c,f,l,C)}n=E,s=v,l=q,P!=null?Vi(t,!!s,P,!1):!!l!=!!s&&(n!=null?Vi(t,!!s,n,!0):Vi(t,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=s[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Wt(t,n,v,c,l,f)}Zt(t,P,q);return;case"option":for(var At in s)if(P=s[At],s.hasOwnProperty(At)&&P!=null&&!l.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:Wt(t,n,At,null,l,P)}for(C in l)if(P=l[C],q=s[C],l.hasOwnProperty(C)&&P!==q&&(P!=null||q!=null))switch(C){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Wt(t,n,C,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)P=s[yt],s.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt)&&Wt(t,n,yt,null,l,P);for(z in l)if(P=l[z],q=s[z],l.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Wt(t,n,z,P,l,q)}return;default:if(ll(n)){for(var te in s)P=s[te],s.hasOwnProperty(te)&&P!==void 0&&!l.hasOwnProperty(te)&&xf(t,n,te,void 0,l,P);for(F in l)P=l[F],q=s[F],!l.hasOwnProperty(F)||P===q||P===void 0&&q===void 0||xf(t,n,F,P,l,q);return}}for(var j in s)P=s[j],s.hasOwnProperty(j)&&P!=null&&!l.hasOwnProperty(j)&&Wt(t,n,j,null,l,P);for(K in l)P=l[K],q=s[K],!l.hasOwnProperty(K)||P===q||P==null&&q==null||Wt(t,n,K,P,l,q)}var Of=null,Mf=null;function zu(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jf=null;function QE(){var t=window.event;return t&&t.type==="popstate"?t===jf?!1:(jf=t,!0):(jf=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(XE)}:by;function XE(t){setTimeout(function(){throw t})}function ws(t){return t==="head"}function Ry(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&Ql(v.documentElement),s&2&&Ql(v.body),s&4)for(s=v.head,Ql(s),v=s.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Ws]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(c===0){t.removeChild(f),to(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);to(n)}function kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kf(s),rs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function $E(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ws])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function ZE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function Lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function JE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var zf=null;function Cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Iy(t,n,s){switch(n=zu(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ql(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rs(t)}var kn=new Map,Dy=new Set;function Pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=nt.d;nt.d={f:WE,r:tT,D:eT,C:nT,L:iT,m:sT,X:rT,S:aT,M:lT};function WE(){var t=$i.f(),n=Vu();return t||n}function tT(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):$i.r(t)}var Ir=typeof document>"u"?null:document;function Ny(t,n,s){var l=Ir;if(l&&typeof n=="string"&&n){var c=ve(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Dy.has(c)||(Dy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),me(n),l.head.appendChild(n)))}}function eT(t){$i.D(t),Ny("dns-prefetch",t,null)}function nT(t,n){$i.C(t,n),Ny("preconnect",t,n)}function iT(t,n,s){$i.L(t,n,s);var l=Ir;if(l&&t&&n){var c='link[rel="preload"][as="'+ve(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ve(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ve(s.imageSizes)+'"]')):c+='[href="'+ve(t)+'"]';var f=c;switch(n){case"style":f=Dr(t);break;case"script":f=Nr(t)}kn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),kn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Yl(f))||n==="script"&&l.querySelector(Kl(f))||(n=l.createElement("link"),He(n,"link",t),me(n),l.head.appendChild(n)))}}function sT(t,n){$i.m(t,n);var s=Ir;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Nr(t)}if(!kn.has(f)&&(t=A({rel:"modulepreload",href:t},n),kn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(f)))return}l=s.createElement("link"),He(l,"link",t),me(l),s.head.appendChild(l)}}}function aT(t,n,s){$i.S(t,n,s);var l=Ir;if(l&&t){var c=tn(l).hoistableStyles,f=Dr(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Yl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=kn.get(f))&&Pf(t,s);var C=v=l.createElement("link");me(C),He(C,"link",t),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function rT(t,n){$i.X(t,n);var s=Ir;if(s&&t){var l=tn(s).hoistableScripts,c=Nr(t),f=l.get(c);f||(f=s.querySelector(Kl(c)),f||(t=A({src:t,async:!0},n),(n=kn.get(c))&&qf(t,n),f=s.createElement("script"),me(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lT(t,n){$i.M(t,n);var s=Ir;if(s&&t){var l=tn(s).hoistableScripts,c=Nr(t),f=l.get(c);f||(f=s.querySelector(Kl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=kn.get(c))&&qf(t,n),f=s.createElement("script"),me(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Vy(t,n,s,l){var c=(c=_t.current)?Pu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Dr(s.href),s=tn(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Dr(s.href);var f=tn(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Yl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(t,s),f||oT(c,t,s,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Nr(s),s=tn(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Dr(t){return'href="'+ve(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function xy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),me(n),t.head.appendChild(n))}function Nr(t){return'[src="'+ve(t)+'"]'}function Kl(t){return"script[async]"+t}function Oy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ve(s.href)+'"]');if(l)return n.instance=l,me(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),me(l),He(l,"style",c),qu(l,s.precedence,t),n.instance=l;case"stylesheet":c=Dr(s.href);var f=t.querySelector(Yl(c));if(f)return n.state.loading|=4,n.instance=f,me(f),f;l=xy(s),(c=kn.get(c))&&Pf(l,c),f=(t.ownerDocument||t).createElement("link"),me(f);var v=f;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),He(f,"link",l),n.state.loading|=4,qu(f,s.precedence,t),n.instance=f;case"script":return f=Nr(s.src),(c=t.querySelector(Kl(f)))?(n.instance=c,me(c),c):(l=s,(c=kn.get(f))&&(l=A({},s),qf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),me(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,s.precedence,t));return n.instance}function qu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function My(t,n,s){if(Bu===null){var l=new Map,c=Bu=new Map;c.set(s,l)}else c=Bu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Ws]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function Uy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function uT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Xl=null;function cT(){}function hT(t,n,s){if(Xl===null)throw Error(r(475));var l=Xl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Dr(s.href),f=t.querySelector(Yl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Hu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,me(f);return}f=t.ownerDocument||t,s=xy(s),(c=kn.get(c))&&Pf(s,c),f=f.createElement("link"),me(f);var v=f;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),He(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Hu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function fT(){if(Xl===null)throw Error(r(475));var t=Xl;return t.stylesheets&&t.count===0&&Bf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Bf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Hu(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Bf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(dT,t),Gu=null,Hu.call(t))}function dT(t,n){if(!(n.state.loading&4)){var s=Gu.get(t);if(s)var l=s.get(null);else{s=new Map,Gu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=s.get(v)||l,f===l&&s.set(null,c),s.set(v,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function mT(t,n,s,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ky(t,n,s,l,c,f,v,E,C,z,F,K){return t=new mT(t,n,s,v,E,C,z,K),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),t.current=f,f.stateNode=t,n=Ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Rh(f),t}function Ly(t){return t?(t=lr,t):lr}function zy(t,n,s,l,c,f){c=Ly(c),l.context===null?l.context=c:l.pendingContext=c,l=fs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ds(t,l,n),s!==null&&(Sn(s,t,n),Rl(s,t,n))}function Py(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Hf(t,n){Py(t,n),(t=t.alternate)&&Py(t,n)}function qy(t){if(t.tag===13){var n=rr(t,67108864);n!==null&&Sn(n,t,67108864),Hf(t,67108864)}}var Fu=!0;function gT(t,n,s,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,Gf(t,n,s,l)}finally{nt.p=f,H.T=c}}function pT(t,n,s,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,Gf(t,n,s,l)}finally{nt.p=f,H.T=c}}function Gf(t,n,s,l){if(Fu){var c=Ff(l);if(c===null)Vf(t,n,l,Qu,s),Hy(t,l);else if(_T(c,t,n,s,l))l.stopPropagation();else if(Hy(t,l),n&4&&-1<yT.indexOf(t)){for(;c!==null;){var f=Wn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ye(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Bt(v);E.entanglements[1]|=C,v&=~C}di(f),(Xt&6)===0&&(Du=rn()+500,Hl(0))}}break;case 13:E=rr(f,2),E!==null&&Sn(E,f,2),Vu(),Hf(f,2)}if(f=Ff(l),f===null&&Vf(t,n,l,Qu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Vf(t,n,l,null,s)}}function Ff(t){return t=In(t),Qf(t)}var Qu=null;function Qf(t){if(Qu=null,t=Ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Qu=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case $s:return 2;case es:return 8;case Zn:case Xr:return 32;case wi:return 268435456;default:return 32}default:return 32}}var Yf=!1,Rs=null,Cs=null,Is=null,Zl=new Map,Jl=new Map,Ds=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(t,n){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function Wl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Wn(n),n!==null&&qy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _T(t,n,s,l,c){switch(n){case"focusin":return Rs=Wl(Rs,t,n,s,l,c),!0;case"dragenter":return Cs=Wl(Cs,t,n,s,l,c),!0;case"mouseover":return Is=Wl(Is,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Zl.set(f,Wl(Zl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Jl.set(f,Wl(Jl.get(f)||null,t,n,s,l,c)),!0}return!1}function Gy(t){var n=Ii(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Vo(t.priority,function(){if(s.tag===13){var l=An();l=is(l);var c=rr(s,l);c!==null&&Sn(c,s,l),Hf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Ff(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);xi=l,s.target.dispatchEvent(l),xi=null}else return n=Wn(s),n!==null&&qy(n),t.blockedOn=s,!1;n.shift()}return!0}function Fy(t,n,s){Yu(t)&&s.delete(n)}function vT(){Yf=!1,Rs!==null&&Yu(Rs)&&(Rs=null),Cs!==null&&Yu(Cs)&&(Cs=null),Is!==null&&Yu(Is)&&(Is=null),Zl.forEach(Fy),Jl.forEach(Fy)}function Ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Yf||(Yf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vT)))}var Xu=null;function Qy(t){Xu!==t&&(Xu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Qf(l||s)===null)continue;break}var f=Wn(s);f!==null&&(t.splice(n,3),n-=3,Fh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function to(t){function n(C){return Ku(C,t)}Rs!==null&&Ku(Rs,t),Cs!==null&&Ku(Cs,t),Is!==null&&Ku(Is,t),Zl.forEach(n),Jl.forEach(n);for(var s=0;s<Ds.length;s++){var l=Ds[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ds.length&&(s=Ds[0],s.blockedOn===null);)Gy(s),s.blockedOn===null&&Ds.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],v=c[_e]||null;if(typeof f=="function")v||Qy(s);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[_e]||null)E=v.formAction;else if(Qf(c)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Qy(s)}}}function Kf(t){this._internalRoot=t}$u.prototype.render=Kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=An();zy(s,l,t,n,null,null)},$u.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;zy(t.current,2,null,t,null,null),Vu(),n[Rn]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var n=ss();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ds.length&&n!==0&&n<Ds[s].priority;s++);Ds.splice(s,0,t),s===0&&Gy(t)}};var Yy=e.version;if(Yy!=="19.1.0")throw Error(r(527,Yy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var ET={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{ae=Zu.inject(ET),Ft=Zu}catch{}}return no.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=up,f=cp,v=hp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ky(t,1,!1,null,null,s,l,c,f,v,E,null),t[Rn]=n.current,Nf(t),new Kf(n)},no.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=up,v=cp,E=hp,C=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=ky(t,1,!0,n,s??null,l,c,f,v,E,C,z),n.context=Ly(null),s=n.current,l=An(),l=is(l),c=fs(l),c.callback=null,ds(s,c,l),s=l,n.current.lanes=s,Ci(n,s),di(n),t[Rn]=n.current,Nf(t),new $u(n)},no.version="19.1.0",no}var i_;function NT(){if(i_)return Zf.exports;i_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Zf.exports=DT(),Zf.exports}var VT=NT();const xT="/voucher-wallet2/assets/money-bg-CbFHKl6r.jpg",OT=document.documentElement;OT.style.setProperty("--money-bg-url",`url(${xT})`);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),s_=a=>{const e=UT(a);return e.charAt(0).toUpperCase()+e.slice(1)},Dv=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),jT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Et.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...g},y)=>Et.createElement("svg",{ref:y,...kT,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:Dv("lucide",o),...!h&&!jT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>Et.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(a,e)=>{const i=Et.forwardRef(({className:r,...o},h)=>Et.createElement(LT,{ref:h,iconNode:e,className:Dv(`lucide-${MT(s_(a))}`,`lucide-${a}`,r),...o}));return i.displayName=s_(a),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],gd=xe("archive",zT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qT=xe("arrow-right",PT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],HT=xe("chart-pie",BT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],FT=xe("circle-alert",GT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],YT=xe("external-link",QT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],XT=xe("eye-off",KT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZT=xe("eye",$T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WT=xe("lock",JT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qd=xe("plus",tA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],nA=xe("qr-code",eA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nv=xe("rotate-ccw",iA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aA=xe("save",sA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lA=xe("square-pen",rA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Yd=xe("trash-2",oA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cA=xe("triangle-alert",uA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Vv=xe("upload",hA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xv=xe("user",fA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],a_=xe("wallet",dA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ei=xe("x",mA),gA=a=>{const e=a.filter(o=>!o.isArchived),i=e.reduce((o,h)=>o+h.amount,0),r=e.reduce((o,h)=>(o[h.name]=(o[h.name]||0)+h.amount,o),{});return{totalAmount:i,byType:r}},pd=a=>`${a.toLocaleString("he-IL")} ש״ח`,pA=({isOpen:a,onClose:e,onAdd:i})=>{const[r,o]=Et.useState(""),h=g=>{g.preventDefault(),r.trim()&&(i(r.trim()),d())},d=()=>{o(""),e()};return a?S.jsx("div",{className:"modal-overlay",onClick:d,children:S.jsxs("div",{className:"modal-content glass",onClick:g=>g.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:"הוסף משתמש חדש"}),S.jsx("button",{className:"close-btn",onClick:d,children:S.jsx(Ei,{size:24})})]}),S.jsxs("form",{onSubmit:h,className:"modal-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"שם המשתמש:"}),S.jsx("input",{type:"text",className:"input",value:r,onChange:g=>o(g.target.value),placeholder:"הכנס שם משתמש...",required:!0})]}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:d,children:"ביטול"}),S.jsxs("button",{type:"submit",className:"btn btn-primary",children:[S.jsx(xv,{size:16}),"הוסף משתמש"]})]})]})]})}):null},yA=({users:a,onSelectUser:e,onAddUser:i,onDeleteUser:r})=>{const[o,h]=Et.useState(!1),d=()=>{h(!0)},g=(y,_)=>{y.stopPropagation(),r(_)};return S.jsx("div",{className:"user-selector",children:S.jsxs("div",{className:"user-selector-content glass",children:[S.jsx("div",{className:"buyme-logo",children:S.jsx("img",{src:"./buyme-logo.png",alt:"BuyMe",className:"buyme-image"})}),S.jsx("h1",{className:"app-title",children:"ארנק שוברים"}),S.jsx("p",{className:"app-subtitle",children:"בחר משתמש כדי להמשיך"}),S.jsxs("div",{className:"user-buttons",children:[a.map(y=>S.jsxs("div",{className:"user-button-wrapper",children:[S.jsxs("button",{className:"user-button btn btn-primary",onClick:()=>e(y),children:[S.jsx(xv,{size:20}),y.name]}),S.jsx("button",{className:"delete-user-btn btn btn-danger",onClick:_=>g(_,y),title:"מחק משתמש",children:S.jsx(Yd,{size:16})})]},y.id)),S.jsxs("button",{className:"add-user-btn btn btn-secondary",onClick:d,children:[S.jsx(Qd,{size:20}),"הוסף משתמש"]})]}),S.jsx(pA,{isOpen:o,onClose:()=>h(!1),onAdd:y=>{i(y),h(!1)}})]})})},r_=({voucher:a,onEdit:e,onArchive:i,onDelete:r,onRestore:o,onOpenLink:h,onViewQR:d,isArchived:g=!1})=>{const y=A=>{A.stopPropagation(),a.link&&h(a.link)},_=A=>{A.stopPropagation(),a.qrImage&&d&&d(a.qrImage)};return S.jsxs("div",{className:"voucher-card glass",children:[S.jsxs("div",{className:"voucher-header",children:[S.jsxs("h3",{className:"voucher-name",onClick:y,style:{cursor:a.link?"pointer":"default"},children:[a.name,a.link&&S.jsx(YT,{size:16,className:"external-link-icon"}),a.qrImage&&S.jsx("button",{className:"qr-btn",onClick:_,title:"הצג QR",children:S.jsx(nA,{size:40})})]}),S.jsx("div",{className:"voucher-amount",children:pd(a.amount)})]}),a.code&&S.jsxs("div",{className:"voucher-code",children:[S.jsx("span",{className:"code-label",children:"קוד: "}),S.jsx("span",{className:"code-value",children:a.code})]}),S.jsx("div",{className:"voucher-actions",children:g?S.jsxs(S.Fragment,{children:[o&&S.jsx("button",{className:"action-btn btn btn-secondary",onClick:()=>o(a),title:"שחזר לארנק",children:S.jsx(Nv,{size:16})}),r&&S.jsx("button",{className:"action-btn btn btn-danger",onClick:()=>r(a),title:"מחק לצמיתות",children:S.jsx(Yd,{size:16})})]}):S.jsxs(S.Fragment,{children:[S.jsxs("button",{className:"action-btn btn btn-secondary",onClick:()=>e(a),title:"עריכה",children:[S.jsx(lA,{size:16}),"ערוך"]}),i&&S.jsxs("button",{className:"action-btn btn btn-secondary",onClick:()=>i(a),title:"העבר לארכיון",children:[S.jsx(gd,{size:16}),"העבר לארכיון"]})]})})]})},yd=["ביי מי","תו הזהב","אחר"],wc=({isOpen:a,title:e="הודעה",message:i,onClose:r,variant:o="info"})=>a?S.jsx("div",{className:"modal-overlay",onClick:r,children:S.jsxs("div",{className:"alert-modal glass",onClick:h=>h.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("div",{className:`modal-icon ${o}`,children:S.jsx(FT,{size:24})}),S.jsx("h2",{children:e}),S.jsx("button",{className:"close-btn",onClick:r,children:S.jsx(Ei,{size:20})})]}),S.jsx("div",{className:"modal-body",children:S.jsx("p",{children:i})}),S.jsx("div",{className:"modal-actions",children:S.jsx("button",{className:"btn btn-primary",onClick:r,children:"אישור"})})]})}):null,_A=({isOpen:a,onClose:e,onAdd:i})=>{const[r,o]=Et.useState("ביי מי"),[h,d]=Et.useState(""),[g,y]=Et.useState(""),[_,A]=Et.useState(""),[I,D]=Et.useState(""),[G,Z]=Et.useState(""),[et,J]=Et.useState({isOpen:!1,message:"",variant:"warning"}),pt=at=>{if(at.preventDefault(),!g||parseFloat(g)<=0){J({isOpen:!0,message:"אנא הזן סכום תקין",variant:"warning"});return}const ct=r==="אחר"?h.trim():r;if(!ct){J({isOpen:!0,message:"אנא הזן שם שובר",variant:"warning"});return}i(ct,parseFloat(g),_.trim(),I.trim(),G),mt()},mt=()=>{o("ביי מי"),d(""),y(""),A(""),D(""),Z(""),J({isOpen:!1,message:"",variant:"warning"}),e()},ot=at=>{const ct=at.target.files?.[0];if(ct){if(ct.size>5*1024*1024){J({isOpen:!0,message:"גודל התמונה חייב להיות קטן מ-5MB",variant:"warning"});return}const x=new Image;x.onload=()=>{const R=document.createElement("canvas"),O=R.getContext("2d"),M=800,U=800;let{width:w,height:wt}=x;w>wt?w>M&&(wt=wt*M/w,w=M):wt>U&&(w=w*U/wt,wt=U),R.width=w,R.height=wt,O?.drawImage(x,0,0,w,wt);const Rt=R.toDataURL("image/jpeg",.7);if(console.log("Compressed image size:",Math.round(Rt.length/1024),"KB"),Rt.length>7e5){J({isOpen:!0,message:"התמונה גדולה מדי. אנא בחר תמונה קטנה יותר.",variant:"warning"});return}Z(Rt)},x.onerror=()=>{J({isOpen:!0,message:"שגיאה בטעינת התמונה. אנא נסה תמונה אחרת.",variant:"error"})};const b=new FileReader;b.onload=R=>{x.src=R.target?.result},b.readAsDataURL(ct)}},Ut=()=>{Z("")};return a?S.jsxs("div",{className:"modal-overlay",onClick:mt,children:[S.jsxs("div",{className:"modal-content glass",onClick:at=>at.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:"הוסף שובר חדש"}),S.jsx("button",{className:"close-btn",onClick:mt,children:S.jsx(Ei,{size:24})})]}),S.jsxs("form",{onSubmit:pt,className:"modal-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"סוג שובר:"}),S.jsx("select",{className:"select",value:r,onChange:at=>o(at.target.value),children:yd.map(at=>S.jsx("option",{value:at,children:at},at))})]}),r==="אחר"&&S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"שם השובר:"}),S.jsx("input",{type:"text",className:"input",value:h,onChange:at=>d(at.target.value),placeholder:"הזן שם שובר...",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"סכום (ש״ח):"}),S.jsx("input",{type:"number",className:"input",value:g,onChange:at=>y(at.target.value),placeholder:"הזן סכום...",min:"0.01",step:"0.01",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"קוד שובר:"}),S.jsx("input",{type:"text",className:"input",value:I,onChange:at=>D(at.target.value),placeholder:"הזן קוד שובר..."})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"קישור לשובר:"}),S.jsx("input",{type:"url",className:"input",value:_,onChange:at=>A(at.target.value),placeholder:"הזן קישור..."})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"תמונת QR (צילום מסך):"}),S.jsxs("div",{className:"qr-upload-container",children:[S.jsx("input",{type:"file",id:"qr-upload",accept:"image/*",onChange:ot,style:{display:"none"}}),S.jsxs("label",{htmlFor:"qr-upload",className:"btn btn-secondary upload-btn",children:[S.jsx(Vv,{size:16}),"העלה תמונה"]}),G&&S.jsxs("div",{className:"qr-preview",children:[S.jsx("img",{src:G,alt:"QR Code Preview",className:"qr-image-preview"}),S.jsx("button",{type:"button",onClick:Ut,className:"remove-image-btn",children:S.jsx(Ei,{size:16})})]})]})]}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:mt,children:"ביטול"}),S.jsxs("button",{type:"submit",className:"btn btn-primary",children:[S.jsx(Qd,{size:16}),"הוסף שובר"]})]})]})]}),S.jsx(wc,{isOpen:et.isOpen,message:et.message,variant:et.variant,onClose:()=>J({isOpen:!1,message:"",variant:"warning"})})]}):null},vA=({isOpen:a,voucher:e,onClose:i,onSave:r})=>{const[o,h]=Et.useState("ביי מי"),[d,g]=Et.useState(""),[y,_]=Et.useState(""),[A,I]=Et.useState(""),[D,G]=Et.useState(""),[Z,et]=Et.useState(""),[J,pt]=Et.useState({isOpen:!1,message:"",variant:"warning"});Et.useEffect(()=>{e&&(yd.includes(e.name)&&e.name!=="אחר"?(h(e.name),g("")):(h("אחר"),g(e.name)),_(e.amount.toString()),I(e.link||""),G(e.code||""),et(e.qrImage||""))},[e]);const mt=ct=>{if(ct.preventDefault(),!e)return;if(!y||parseFloat(y)<0){pt({isOpen:!0,message:"אנא הזן סכום תקין",variant:"warning"});return}const x=o==="אחר"?d.trim():o;if(!x){pt({isOpen:!0,message:"אנא הזן שם שובר",variant:"warning"});return}r(e.id,x,parseFloat(y),A.trim(),D.trim(),Z),ot()},ot=()=>{h("ביי מי"),g(""),_(""),I(""),G(""),et(""),pt({isOpen:!1,message:"",variant:"warning"}),i()},Ut=ct=>{const x=ct.target.files?.[0];if(x){if(x.size>5*1024*1024){pt({isOpen:!0,message:"גודל התמונה חייב להיות קטן מ-5MB",variant:"warning"});return}const b=new Image;b.onload=()=>{const O=document.createElement("canvas"),M=O.getContext("2d"),U=800,w=800;let{width:wt,height:Rt}=b;wt>Rt?wt>U&&(Rt=Rt*U/wt,wt=U):Rt>w&&(wt=wt*w/Rt,Rt=w),O.width=wt,O.height=Rt,M?.drawImage(b,0,0,wt,Rt);const H=O.toDataURL("image/jpeg",.7);if(H.length>7e5){pt({isOpen:!0,message:"התמונה גדולה מדי. אנא בחר תמונה קטנה יותר.",variant:"warning"});return}et(H)},b.onerror=()=>{pt({isOpen:!0,message:"שגיאה בטעינת התמונה. אנא נסה תמונה אחרת.",variant:"error"})};const R=new FileReader;R.onload=O=>{b.src=O.target?.result},R.readAsDataURL(x)}},at=()=>{et("")};return!a||!e?null:S.jsxs("div",{className:"modal-overlay",onClick:ot,children:[S.jsxs("div",{className:"modal-content glass",onClick:ct=>ct.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:"עריכת שובר"}),S.jsx("button",{className:"close-btn",onClick:ot,children:S.jsx(Ei,{size:24})})]}),S.jsxs("form",{onSubmit:mt,className:"modal-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"סוג שובר:"}),S.jsx("select",{className:"select",value:o,onChange:ct=>h(ct.target.value),children:yd.map(ct=>S.jsx("option",{value:ct,children:ct},ct))})]}),o==="אחר"&&S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"שם השובר:"}),S.jsx("input",{type:"text",className:"input",value:d,onChange:ct=>g(ct.target.value),placeholder:"הזן שם שובר...",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"סכום (ש״ח):"}),S.jsx("input",{type:"number",className:"input",value:y,onChange:ct=>_(ct.target.value),placeholder:"הזן סכום...",min:"0",step:"0.01",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"קישור לשובר:"}),S.jsx("input",{type:"url",className:"input",value:A,onChange:ct=>I(ct.target.value),placeholder:"הזן קישור..."})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"קוד שובר:"}),S.jsx("input",{type:"text",className:"input",value:D,onChange:ct=>G(ct.target.value),placeholder:"הזן קוד שובר..."})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"תמונת QR (צילום מסך):"}),S.jsxs("div",{className:"qr-upload-container",children:[S.jsx("input",{type:"file",id:"qr-upload-edit",accept:"image/*",onChange:Ut,style:{display:"none"}}),S.jsxs("label",{htmlFor:"qr-upload-edit",className:"btn btn-secondary upload-btn",children:[S.jsx(Vv,{size:16}),"העלה תמונה"]}),Z&&S.jsxs("div",{className:"qr-preview",children:[S.jsx("img",{src:Z,alt:"QR Code Preview",className:"qr-image-preview"}),S.jsx("button",{type:"button",onClick:at,className:"remove-image-btn",children:S.jsx(Ei,{size:16})})]})]})]}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ot,children:"ביטול"}),S.jsxs("button",{type:"submit",className:"btn btn-primary",children:[S.jsx(aA,{size:16}),"שמור שינויים"]})]})]})]}),S.jsx(wc,{isOpen:J.isOpen,message:J.message,variant:J.variant,onClose:()=>pt({isOpen:!1,message:"",variant:"warning"})})]})},EA=({isOpen:a,voucher:e,onClose:i,onRestore:r})=>{const[o,h]=Et.useState(""),[d,g]=Et.useState({isOpen:!1,message:"",variant:"warning"}),y=A=>{if(A.preventDefault(),!!e){if(!o||parseFloat(o)<=0){g({isOpen:!0,message:"אנא הזן סכום תקין",variant:"warning"});return}r(e.id,parseFloat(o)),_()}},_=()=>{h(""),g({isOpen:!1,message:"",variant:"warning"}),i()};return!a||!e?null:S.jsxs("div",{className:"modal-overlay",onClick:_,children:[S.jsxs("div",{className:"modal-content glass",onClick:A=>A.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h2",{children:"שחזור שובר"}),S.jsx("button",{className:"close-btn",onClick:_,children:S.jsx(Ei,{size:24})})]}),S.jsxs("div",{className:"voucher-info",children:[S.jsxs("h3",{children:["שובר: ",e.name]}),S.jsxs("p",{children:["סכום קודם: ",e.amount.toLocaleString("he-IL")," ש״ח"]})]}),S.jsxs("form",{onSubmit:y,className:"modal-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"סכום חדש (ש״ח):"}),S.jsx("input",{type:"number",className:"input",value:o,onChange:A=>h(A.target.value),placeholder:"הזן סכום מעודכן...",min:"0.01",step:"0.01",required:!0})]}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:_,children:"ביטול"}),S.jsxs("button",{type:"submit",className:"btn btn-primary",children:[S.jsx(Nv,{size:16}),"שחזר לארנק"]})]})]})]}),S.jsx(wc,{isOpen:d.isOpen,message:d.message,variant:d.variant,onClose:()=>g({isOpen:!1,message:"",variant:"warning"})})]})},Ju=({isOpen:a,title:e,message:i,confirmText:r="כן",cancelText:o="לא",onConfirm:h,onCancel:d,variant:g="warning"})=>a?S.jsx("div",{className:"modal-overlay",onClick:d,children:S.jsxs("div",{className:"confirmation-modal glass",onClick:y=>y.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("div",{className:`modal-icon ${g}`,children:S.jsx(cA,{size:24})}),S.jsx("h2",{children:e}),S.jsx("button",{className:"close-btn",onClick:d,children:S.jsx(Ei,{size:20})})]}),S.jsx("div",{className:"modal-body",children:S.jsx("p",{children:i})}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{className:"btn btn-secondary",onClick:d,children:o}),S.jsx("button",{className:`btn ${g==="danger"?"btn-danger":"btn-primary"}`,onClick:h,children:r})]})]})}):null,l_=({isOpen:a,title:e,message:i,onConfirm:r,onCancel:o})=>{const[h,d]=Et.useState(""),[g,y]=Et.useState(!1),_=I=>{I.preventDefault(),r(h),d(""),y(!1)},A=()=>{d(""),y(!1),o()};return a?S.jsx("div",{className:"modal-overlay",onClick:A,children:S.jsxs("div",{className:"password-modal glass",onClick:I=>I.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("div",{className:"modal-icon",children:S.jsx(WT,{size:24})}),S.jsx("h2",{children:e}),S.jsx("button",{className:"close-btn",onClick:A,children:S.jsx(Ei,{size:20})})]}),S.jsxs("form",{onSubmit:_,className:"modal-form",children:[i&&S.jsx("div",{className:"modal-body",children:S.jsx("p",{children:i})}),S.jsx("div",{className:"password-input-group",children:S.jsxs("div",{className:"password-input-wrapper",children:[S.jsx("input",{type:g?"text":"password",className:"password-input",value:h,onChange:I=>d(I.target.value),placeholder:"הכנס סיסמת מנהל",required:!0}),S.jsx("button",{type:"button",className:"password-toggle",onClick:()=>y(!g),children:g?S.jsx(XT,{size:18}):S.jsx(ZT,{size:18})})]})}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:A,children:"ביטול"}),S.jsx("button",{type:"submit",className:"btn btn-primary",children:"אישור"})]})]})]})}):null},TA=({isOpen:a,qrImage:e,onClose:i})=>a?S.jsx("div",{className:"qr-modal-overlay",onClick:i,children:S.jsxs("div",{className:"qr-modal-content",onClick:r=>r.stopPropagation(),children:[S.jsxs("div",{className:"qr-modal-header",children:[S.jsx("h3",{children:"קוד QR"}),S.jsx("button",{className:"close-btn",onClick:i,children:S.jsx(Ei,{size:24})})]}),S.jsx("div",{className:"qr-modal-body",children:S.jsx("img",{src:e,alt:"QR Code",className:"qr-modal-image"})})]})}):null,AA=()=>{};var o_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},SA=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,_=y?a[o+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,G=_&63;y||(G=64,d||(D=64)),r.push(i[A],i[I],i[D],i[G])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Ov(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):SA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const I=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||I==null)throw new bA;const D=h<<2|g>>4;if(r.push(D),_!==64){const G=g<<4&240|_>>2;if(r.push(G),I!==64){const Z=_<<6&192|I;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(a){const e=Ov(a);return Mv.encodeByteArray(e,!0)},cc=function(a){return wA(a).replace(/\./g,"")},RA=function(a){try{return Mv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>CA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof o_>"u")return;const a=o_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&RA(a[1]);return e&&JSON.parse(e)},Kd=()=>{try{return AA()||IA()||DA()||NA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},VA=a=>Kd()?.emulatorHosts?.[a],xA=a=>{const e=VA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Uv=()=>Kd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MA(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[cc(JSON.stringify(i)),cc(JSON.stringify(d)),""].join(".")}const lo={};function jA(){const a={prod:[],emulator:[]};for(const e of Object.keys(lo))lo[e]?a.emulator.push(e):a.prod.push(e);return a}function kA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let u_=!1;function LA(a,e){if(typeof window>"u"||typeof document>"u"||!Xd(window.location.host)||lo[a]===e||lo[a]||u_)return;lo[a]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",h=jA().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{u_=!0,d()},D}function A(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=kA(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),pt=i("preprendIcon"),mt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ot=D.element;g(ot),A(J,et);const Ut=_();y(mt,pt),ot.append(mt,Z,J,Ut),document.body.appendChild(ot)}h?(Z.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){const a=Kd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function BA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jv(){try{return typeof indexedDB=="object"}catch{return!1}}function kv(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function HA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="FirebaseError";class Fs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=GA,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?FA(h,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Fs(o,g,r)}}function FA(a,e){return a.replace(QA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function mo(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(c_(h)&&c_(d)){if(!mo(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function c_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=1e3,KA=2,XA=4*60*60*1e3,$A=.5;function h_(a,e=YA,i=KA){const r=e*Math.pow(i,a),o=Math.round($A*r*(Math.random()-.5)*2);return Math.min(XA,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(a){return a&&a._delegate?a._delegate:a}class Zi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new OA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WA(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JA(a){return a===Ia?void 0:a}function WA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qt||(qt={}));const eS={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},nS=qt.INFO,iS={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},sS=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=iS[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $d{constructor(e){this.name=e,this._logLevel=nS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const aS=(a,e)=>e.some(i=>a instanceof i);let f_,d_;function rS(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,_d=new WeakMap,zv=new WeakMap,ed=new WeakMap,Zd=new WeakMap;function oS(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(xs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Lv.set(i,a)}).catch(()=>{}),Zd.set(e,a),e}function uS(a){if(_d.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});_d.set(a,e)}let vd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return _d.get(a);if(e==="objectStoreNames")return a.objectStoreNames||zv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xs(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function cS(a){vd=a(vd)}function hS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(nd(this),e,...i);return zv.set(r,e.sort?e.sort():[e]),xs(r)}:lS().includes(a)?function(...e){return a.apply(nd(this),e),xs(Lv.get(this))}:function(...e){return xs(a.apply(nd(this),e))}}function fS(a){return typeof a=="function"?hS(a):(a instanceof IDBTransaction&&uS(a),aS(a,rS())?new Proxy(a,vd):a)}function xs(a){if(a instanceof IDBRequest)return oS(a);if(ed.has(a))return ed.get(a);const e=fS(a);return e!==a&&(ed.set(a,e),Zd.set(e,a)),e}const nd=a=>Zd.get(a);function Pv(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=xs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(xs(d.result),y.oldVersion,y.newVersion,xs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const dS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],id=new Map;function m_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(id.get(e))return id.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=mS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||dS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return id.set(e,h),h}cS(a=>({...a,get:(e,i,r)=>m_(e,i)||a.get(e,i,r),has:(e,i)=>!!m_(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function pS(a){return a.getComponent()?.type==="VERSION"}const Ed="@firebase/app",g_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new $d("@firebase/app"),yS="@firebase/app-compat",_S="@firebase/analytics-compat",vS="@firebase/analytics",ES="@firebase/app-check-compat",TS="@firebase/app-check",AS="@firebase/auth",SS="@firebase/auth-compat",bS="@firebase/database",wS="@firebase/data-connect",RS="@firebase/database-compat",CS="@firebase/functions",IS="@firebase/functions-compat",DS="@firebase/installations",NS="@firebase/installations-compat",VS="@firebase/messaging",xS="@firebase/messaging-compat",OS="@firebase/performance",MS="@firebase/performance-compat",US="@firebase/remote-config",jS="@firebase/remote-config-compat",kS="@firebase/storage",LS="@firebase/storage-compat",zS="@firebase/firestore",PS="@firebase/ai",qS="@firebase/firestore-compat",BS="firebase",HS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",GS={[Ed]:"fire-core",[yS]:"fire-core-compat",[vS]:"fire-analytics",[_S]:"fire-analytics-compat",[TS]:"fire-app-check",[ES]:"fire-app-check-compat",[AS]:"fire-auth",[SS]:"fire-auth-compat",[bS]:"fire-rtdb",[wS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[CS]:"fire-fn",[IS]:"fire-fn-compat",[DS]:"fire-iid",[NS]:"fire-iid-compat",[VS]:"fire-fcm",[xS]:"fire-fcm-compat",[OS]:"fire-perf",[MS]:"fire-perf-compat",[US]:"fire-rc",[jS]:"fire-rc-compat",[kS]:"fire-gcs",[LS]:"fire-gcs-compat",[zS]:"fire-fst",[qS]:"fire-fst-compat",[PS]:"fire-vertex","fire-js":"fire-js",[BS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,FS=new Map,Ad=new Map;function p_(a,e){try{a.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ks(a){const e=a.name;if(Ad.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,a);for(const i of hc.values())p_(i,a);for(const i of FS.values())p_(i,a);return!0}function So(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function QS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Rc("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=HS;function qv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Td,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Os.create("bad-app-name",{appName:String(o)});if(i||(i=Uv()),!i)throw Os.create("no-options");const h=hc.get(o);if(h){if(mo(i,h.options)&&mo(r,h.config))return h;throw Os.create("duplicate-app",{appName:o})}const d=new tS(o);for(const y of Ad.values())d.addComponent(y);const g=new KS(i,r,d);return hc.set(o,g),g}function Bv(a=Td){const e=hc.get(a);if(!e&&a===Td&&Uv())return qv();if(!e)throw Os.create("no-app",{appName:a});return e}function gi(a,e,i){let r=GS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}ks(new Zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebase-heartbeat-database",ZS=1,go="firebase-heartbeat-store";let sd=null;function Hv(){return sd||(sd=Pv($S,ZS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(a=>{throw Os.create("idb-open",{originalErrorMessage:a.message})})),sd}async function JS(a){try{const i=(await Hv()).transaction(go),r=await i.objectStore(go).get(Gv(a));return await i.done,r}catch(e){if(e instanceof Fs)Ji.warn(e.message);else{const i=Os.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function y_(a,e){try{const r=(await Hv()).transaction(go,"readwrite");await r.objectStore(go).put(e,Gv(a)),await r.done}catch(i){if(i instanceof Fs)Ji.warn(i.message);else{const r=Os.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(r.message)}}}function Gv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=1024,tb=30;class eb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ib(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tb){const o=sb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=__(),{heartbeatsToSend:i,unsentEntries:r}=nb(this._heartbeatsCache.heartbeats),o=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function __(){return new Date().toISOString().substring(0,10)}function nb(a,e=WS){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),v_(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),v_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ib{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jv()?kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v_(a){return cc(JSON.stringify({version:2,heartbeats:a})).length}function sb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(a){ks(new Zi("platform-logger",e=>new gS(e),"PRIVATE")),ks(new Zi("heartbeat",e=>new eb(e),"PRIVATE")),gi(Ed,g_,a),gi(Ed,g_,"esm2020"),gi("fire-js","")}ab("");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,Fv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(O,M,U){for(var w=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)w[wt-2]=arguments[wt];return b.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,R){R||(R=0);var O=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)O[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],M=x.g[2];var U=x.g[3],w=b+(U^R&(M^U))+O[0]+3614090360&4294967295;b=R+(w<<7&4294967295|w>>>25),w=U+(M^b&(R^M))+O[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(R^U&(b^R))+O[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(b^M&(U^b))+O[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(U^R&(M^U))+O[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(M^b&(R^M))+O[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(R^U&(b^R))+O[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(b^M&(U^b))+O[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(U^R&(M^U))+O[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(M^b&(R^M))+O[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(R^U&(b^R))+O[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(b^M&(U^b))+O[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(U^R&(M^U))+O[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=U+(M^b&(R^M))+O[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=M+(R^U&(b^R))+O[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(b^M&(U^b))+O[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=b+(M^U&(R^M))+O[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(b^R))+O[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(U^b))+O[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(M^U))+O[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(M^U&(R^M))+O[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(b^R))+O[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(U^b))+O[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(M^U))+O[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(M^U&(R^M))+O[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(b^R))+O[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(U^b))+O[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(M^U))+O[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(M^U&(R^M))+O[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(b^R))+O[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=M+(b^R&(U^b))+O[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^b&(M^U))+O[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=b+(R^M^U)+O[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^M)+O[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^R)+O[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^b)+O[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(R^M^U)+O[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^M)+O[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^R)+O[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^b)+O[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(R^M^U)+O[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^M)+O[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^R)+O[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^b)+O[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(R^M^U)+O[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=U+(b^R^M)+O[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=M+(U^b^R)+O[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^b)+O[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=b+(M^(R|~U))+O[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~M))+O[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~R))+O[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~b))+O[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=b+(M^(R|~U))+O[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~M))+O[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~R))+O[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~b))+O[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=b+(M^(R|~U))+O[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~M))+O[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~R))+O[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~b))+O[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=b+(M^(R|~U))+O[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=U+(R^(b|~M))+O[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=M+(b^(U|~R))+O[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~b))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,O=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<b;)if(O[M++]=x.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<b;)if(O[M++]=x[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var O=0;32>O;O+=8)x[R++]=this.g[b]>>>O&255;return x};function h(x,b){var R=g;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function d(x,b){this.h=b;for(var R=[],O=!0,M=x.length-1;0<=M;M--){var U=x[M]|0;O&&U==b||(R[M]=U,O=!1)}this.g=R}var g={};function y(x){return-128<=x&&128>x?h(x,function(b){return new d([b|0],0>b?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return J(_(-x));for(var b=[],R=1,O=0;x>=R;O++)b[O]=x/R|0,R*=4294967296;return new d(b,0)}function A(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return J(A(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(b,8)),O=I,M=0;M<x.length;M+=8){var U=Math.min(8,x.length-M),w=parseInt(x.substring(M,M+U),b);8>U?(U=_(Math.pow(b,U)),O=O.j(U).add(_(w))):(O=O.j(R),O=O.add(_(w)))}return O}var I=y(0),D=y(1),G=y(16777216);a=d.prototype,a.m=function(){if(et(this))return-J(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var O=this.i(R);x+=(0<=O?O:4294967296+O)*b,b*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(x);for(var b=_(Math.pow(x,6)),R=this,O="";;){var M=Ut(R,b).g;R=pt(R,M.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=M,Z(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function et(x){return x.h==-1}a.l=function(x){return x=pt(this,x),et(x)?-1:Z(x)?0:1};function J(x){for(var b=x.g.length,R=[],O=0;O<b;O++)R[O]=~x.g[O];return new d(R,~x.h).add(D)}a.abs=function(){return et(this)?J(this):this},a.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],O=0,M=0;M<=b;M++){var U=O+(this.i(M)&65535)+(x.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);O=w>>>16,U&=65535,w&=65535,R[M]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pt(x,b){return x.add(J(b))}a.j=function(x){if(Z(this)||Z(x))return I;if(et(this))return et(x)?J(this).j(J(x)):J(J(this).j(x));if(et(x))return J(this.j(J(x)));if(0>this.l(G)&&0>x.l(G))return _(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],O=0;O<2*b;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<x.g.length;M++){var U=this.i(O)>>>16,w=this.i(O)&65535,wt=x.i(M)>>>16,Rt=x.i(M)&65535;R[2*O+2*M]+=w*Rt,mt(R,2*O+2*M),R[2*O+2*M+1]+=U*Rt,mt(R,2*O+2*M+1),R[2*O+2*M+1]+=w*wt,mt(R,2*O+2*M+1),R[2*O+2*M+2]+=U*wt,mt(R,2*O+2*M+2)}for(O=0;O<b;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=b;O<2*b;O++)R[O]=0;return new d(R,0)};function mt(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ot(x,b){this.g=x,this.h=b}function Ut(x,b){if(Z(b))throw Error("division by zero");if(Z(x))return new ot(I,I);if(et(x))return b=Ut(J(x),b),new ot(J(b.g),J(b.h));if(et(b))return b=Ut(x,J(b)),new ot(J(b.g),b.h);if(30<x.g.length){if(et(x)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,O=b;0>=O.l(x);)R=at(R),O=at(O);var M=ct(R,1),U=ct(O,1);for(O=ct(O,2),R=ct(R,2);!Z(O);){var w=U.add(O);0>=w.l(x)&&(M=M.add(R),U=w),O=ct(O,1),R=ct(R,1)}return b=pt(x,M.j(b)),new ot(M,b)}for(M=I;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=_(R),w=U.j(b);et(w)||0<w.l(x);)R-=O,U=_(R),w=U.j(b);Z(U)&&(U=D),M=M.add(U),x=pt(x,w)}return new ot(M,x)}a.A=function(x){return Ut(this,x).h},a.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],O=0;O<b;O++)R[O]=this.i(O)&x.i(O);return new d(R,this.h&x.h)},a.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],O=0;O<b;O++)R[O]=this.i(O)|x.i(O);return new d(R,this.h|x.h)},a.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],O=0;O<b;O++)R[O]=this.i(O)^x.i(O);return new d(R,this.h^x.h)};function at(x){for(var b=x.g.length+1,R=[],O=0;O<b;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(R,x.h)}function ct(x,b){var R=b>>5;b%=32;for(var O=x.g.length-R,M=[],U=0;U<O;U++)M[U]=0<b?x.i(U+R)>>>b|x.i(U+R+1)<<32-b:x.i(U+R);return new d(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ms=d}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qv,io,Yv,sc,Sd,Kv,Xv,$v;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in p))break t;p=p[k]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,k={next:function(){if(!T&&p<u.length){var B=p++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,D.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var tt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)tt[kt-2]=arguments[kt];return m.prototype[k].apply(T,tt)}}function et(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let tt=0;tt<B;tt++)u[k+tt]=T[tt]}else u.push(T)}}class pt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function mt(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ut(u){return Ut[" "](u),u}Ut[" "]=function(){};var at=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function ct(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(p in T)u[p]=T[p];for(let B=0;B<R.length;B++)p=R[B],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class wt{constructor(){this.h=this.g=null}add(m,p){const T=Rt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Rt=new pt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,jt=new wt,N=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=Rt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Ct(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(at){t:{try{Ut(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}Z(Ct,W);var _t={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function an(u,m,p,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=k,this.key=++Gt,this.da=this.fa=!1}function $n(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pn(u){this.src=u,this.g={},this.h=0}Pn.prototype.add=function(u,m,p,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var tt=Si(u,m,T,k);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new an(m,this.src,B,!!T,k),m.fa=p,u.push(m)),m};function Ai(u,m){var p=m.type;if(p in u.g){var T=u.g[p],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&($n(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Si(u,m,p,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return k}return-1}var bi="closure_lm_"+(1e6*Math.random()|0),Xs={};function Pa(u,m,p,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Pa(u,m[B],p,T,k);return null}return p=Zs(p),u&&u[ce]?u.K(m,p,_(T)?!!T.capture:!1,k):rn(u,m,p,!1,T,k)}function rn(u,m,p,T,k,B){if(!m)throw Error("Invalid event type");var tt=_(k)?!!k.capture:!!k,kt=wi(u);if(kt||(u[bi]=kt=new Pn(u)),p=kt.add(m,p,T,tt,B),p.proxy)return p;if(T=Kr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ft||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Kr(){function u(p){return m.call(u.src,u.listener,p)}const m=Xr;return u}function $s(u,m,p,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)$s(u,m[B],p,T,k);else T=_(T)?!!T.capture:!!T,p=Zs(p),u&&u[ce]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],p=Si(B,p,T,k),-1<p&&($n(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=wi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Si(m,p,T,k)),(p=-1<u?m[u]:null)&&es(p))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])Ai(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Zn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=wi(m))?(Ai(p,u),p.h==0&&(p.src=null,m[bi]=null)):$n(u)}}}function Zn(u){return u in Xs?Xs[u]:Xs[u]="on"+u}function Xr(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&es(u),u=p.call(T,m)}return u}function wi(u){return u=u[bi],u instanceof Pn?u:null}var ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(u){return typeof u=="function"?u:(u[ns]||(u[ns]=function(m){return u.handleEvent(m)}),u[ns])}function ae(){it.call(this),this.i=new Pn(this),this.M=this,this.F=null}Z(ae,it),ae.prototype[ce]=!0,ae.prototype.removeEventListener=function(u,m,p,T){$s(this,u,m,p,T)};function Ft(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(T,u),O(m,k)}if(k=!0,p)for(var B=p.length-1;0<=B;B--){var tt=m.g=p[B];k=ut(tt,T,!0,m)&&k}if(tt=m.g=u,k=ut(tt,T,!0,m)&&k,k=ut(tt,T,!1,m)&&k,p)for(B=0;B<p.length;B++)tt=m.g=p[B],k=ut(tt,T,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)$n(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function ut(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var tt=m[B];if(tt&&!tt.da&&tt.capture==p){var kt=tt.listener,Ce=tt.ha||tt.src;tt.fa&&Ai(u.i,tt),k=kt.call(Ce,T)!==!1&&k}}return k&&!T.defaultPrevented}function Bt(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function gn(u){u.g=Bt(()=>{u.g=null,u.i&&(u.i=!1,gn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qn extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gn(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(u){it.call(this),this.h=u,this.g={}}Z(Bn,it);var We=[];function de(u){ct(u.g,function(m,p){this.g.hasOwnProperty(p)&&es(m)},u),u.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),de(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=g.JSON.stringify,qa=g.JSON.parse,Js=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function $r(){}$r.prototype.h=null;function Zr(u){return u.h||(u.h=u.i())}function Jr(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){W.call(this,"d")}Z(Ci,W);function Wr(){W.call(this,"c")}Z(Wr,W);var Jn={},tl=null;function is(){return tl=tl||new ae}Jn.La="serverreachability";function Ba(u){W.call(this,Jn.La,u)}Z(Ba,W);function ss(u){const m=is();Ft(m,new Ba(m))}Jn.STAT_EVENT="statevent";function Vo(u,m){W.call(this,Jn.STAT_EVENT,u),this.stat=m}Z(Vo,W);function re(u){const m=is();Ft(m,new Vo(m,u))}Jn.Ma="timingevent";function Re(u,m){W.call(this,Jn.Ma,u),this.size=m}Z(Re,W);function _e(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function el(u,m,p,T,k,B){u.info(function(){if(u.g)if(B)for(var tt="",kt=B.split("&"),Ce=0;Ce<kt.length;Ce++){var Lt=kt[Ce].split("=");if(1<Lt.length){var Me=Lt[0];Lt=Lt[1];var Ie=Me.split("_");tt=2<=Ie.length&&Ie[1]=="type"?tt+(Me+"="+Lt+"&"):tt+(Me+"=redacted&")}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+p+`
`+tt})}function Zc(u,m,p,T,k,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+p+`
`+B+" "+tt})}function as(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ws(u,p)+(T?" "+T:"")})}function xo(u,m){u.info(function(){return"TIMEOUT: "+m})}Rn.prototype.info=function(){};function Ws(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var tt=1;tt<k.length;tt++)k[tt]=""}}}}return Ye(p)}catch{return m}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function ti(){}Z(ti,$r),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Wn=new ti;function tn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var nl={},Ha={};function Hn(u,m,p){u.L=1,u.v=sa(pn(m)),u.m=p,u.P=!0,Di(u,null)}function Di(u,m){u.F=Date.now(),ta(u),u.A=pn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),ol(p.i,"t",T),u.C=0,p=u.j.J,u.h=new me,u.g=Ko(u.j,p?m:null,!u.m),0<u.O&&(u.M=new qn(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(We[0]=k.toString()),k=We);for(var B=0;B<k.length;B++){var tt=Pa(p,k[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ss(),el(u.i,u.u,u.A,u.l,u.R,u.m)}tn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Nn(u)==3?m.j():this.Y(u)},tn.prototype.Y=function(u){try{if(u==this.g)t:{const Ie=Nn(this.g);var m=this.g.Ba();const ki=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||Ie!=4||m==7||(m==8||0>=ki?ss(3):ss(2)),ls(this);var p=this.g.Z();this.X=p;e:if(Oo(this)){var T=Po(this.g);u="";var k=T.length,B=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),ei(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Zc(this.i,this.u,this.A,this.l,this.R,Ie,p),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ce=this.g;if((kt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(kt)){var Lt=kt;break e}}Lt=null}if(p=Lt)as(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,p);else{this.o=!1,this.s=3,re(12),ze(this),ei(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<tt.length;)if(Pe=Mo(this,tt),Pe==Ha){Ie==4&&(this.s=4,re(14),p=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==nl){this.s=4,re(15),as(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else as(this.i,this.l,Pe,null),ea(this,Pe);if(Oo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||tt.length!=0||this.h.h||(this.s=1,re(16),p=!1),this.o=this.o&&p,!p)as(this.i,this.l,tt,"[Invalid Chunked Response]"),ze(this),ei(this);else if(0<tt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),fa(Me),Me.M=!0,re(11))}}else as(this.i,this.l,tt,null),ea(this,tt);Ie==4&&ze(this),this.o&&!this.J&&(Ie==4?Fo(this.j,this):(this.o=!1,ta(this)))}else nh(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),ze(this),ei(this)}}}catch{}finally{}};function Oo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Mo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ha:(p=Number(m.substring(p,T)),isNaN(p)?nl:(T+=1,T+p>m.length?Ha:(m=m.slice(T,T+p),u.C=T+p,m)))}tn.prototype.cancel=function(){this.J=!0,ze(this)};function ta(u){u.S=Date.now()+u.I,Uo(u,u.I)}function Uo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(D(u.ba,u),m)}function ls(u){u.B&&(g.clearTimeout(u.B),u.B=null)}tn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xo(this.i,this.A),this.L!=2&&(ss(),re(17)),ze(this),this.s=2,ei(this)):Uo(this,this.S-u)};function ei(u){u.j.G==0||u.J||Fo(u.j,u)}function ze(u){ls(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,de(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||il(p.h,u))){if(!u.K&&il(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)er(p),Wa(p);else break t;dl(p),re(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=_e(D(p.Za,p),6e3));if(1>=Fa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ji(p,11)}else if((u.K||p.g==u)&&er(p),!mt(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let Lt=k[m];if(p.T=Lt[0],Lt=Lt[1],p.G==2)if(Lt[0]=="c"){p.K=Lt[1],p.ia=Lt[2];const Me=Lt[3];Me!=null&&(p.la=Me,p.j.info("VER="+p.la));const Ie=Lt[4];Ie!=null&&(p.Aa=Ie,p.j.info("SVER="+p.Aa));const ki=Lt[5];ki!=null&&typeof ki=="number"&&0<ki&&(T=1.5*ki,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pe=u.g;if(Pe){const oi=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var B=T.h;B.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Qa(B,B.h),B.h=null))}if(T.D){const gl=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(T.ya=gl,Zt(T.I,T.D,gl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Yo(T,T.J?T.ia:null,T.W),tt.K){en(T.h,tt);var kt=tt,Ce=T.L;Ce&&(kt.I=Ce),kt.B&&(ls(kt),ta(kt)),T.g=tt}else Ho(T);0<p.i.length&&tr(p)}else Lt[0]!="stop"&&Lt[0]!="close"||ji(p,7);else p.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ji(p,7):hl(p):Lt[0]!="noop"&&p.l&&p.l.ta(Lt),p.v=0)}}ss(4)}catch{}}var jo=class{constructor(u,m){this.g=u,this.map=m}};function Ni(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fa(u){return u.h?1:u.g?u.g.size:0}function il(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qa(u,m){u.g?u.g.add(m):u.h=m}function en(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ni.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return et(u.i)}function Jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ya(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function al(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ya(u),T=Jc(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],p&&p[B],u)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),k=null;if(0<=T){var B=u[p].substring(0,T);k=u[p].substring(T+1)}else B=u[p];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ve(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ve){this.h=u.h,ia(this,u.j),this.o=u.o,this.g=u.g,os(this,u.s),this.l=u.l;var m=u.i,p=new xi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Vi(this,p),this.m=u.m}else u&&(m=String(u).match(na))?(this.h=!1,ia(this,m[1]||"",!0),this.o=Cn(m[2]||""),this.g=Cn(m[3]||"",!0),os(this,m[4]),this.l=Cn(m[5]||"",!0),Vi(this,m[6]||"",!0),this.m=Cn(m[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}ve.prototype.toString=function(){var u=[],m=this.j;m&&u.push(aa(m,rl,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(aa(m,rl,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(aa(p,p.charAt(0)=="/"?th:ll,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",aa(p,Ka)),u.join("")};function pn(u){return new ve(u)}function ia(u,m,p){u.j=p?Cn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Vi(u,m,p){m instanceof xi?(u.i=m,Lo(u.i,u.h)):(p||(m=aa(m,eh)),u.i=new xi(m,u.h))}function Zt(u,m,p){u.i.set(m,p)}function sa(u){return Zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,ko),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ko(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,ll=/[#\?:]/g,th=/[#\?]/g,eh=/[#\?@]/g,Ka=/#/g;function xi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Wc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=xi.prototype,a.add=function(u,m){In(this),this.i=null,u=ni(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Oi(u,m){In(u),m=ni(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mi(u,m){return In(u),m=ni(u,m),u.g.has(m)}a.forEach=function(u,m){In(this),this.g.forEach(function(p,T){p.forEach(function(k){u.call(m,k,T,this)},this)},this)},a.na=function(){In(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)p.push(m[T])}return p},a.V=function(u){In(this);let m=[];if(typeof u=="string")Mi(this,u)&&(m=m.concat(this.g.get(ni(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return In(this),this.i=null,u=ni(this,u),Mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ol(u,m,p){Oi(u,m),0<p.length&&(u.i=null,u.g.set(ni(u,m),et(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const B=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var k=B;tt[T]!==""&&(k+="="+encodeURIComponent(String(tt[T]))),u.push(k)}}return this.i=u.join("&")};function ni(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Lo(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(p,T){var k=T.toLowerCase();T!=k&&(Oi(this,T),ol(this,k,p))},u)),u.j=m}function ra(u,m){const p=new Rn;if(g.Image){const T=new Image;T.onload=G(Dn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(Dn,p,"TestLoadImage: error",!1,m,T),T.onabort=G(Dn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(Dn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Gn(u,m){const p=new Rn,T=new AbortController,k=setTimeout(()=>{T.abort(),Dn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?Dn(p,"TestPingServer: ok",!0,m):Dn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Dn(p,"TestPingServer: error",!1,m)})}function Dn(u,m,p,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(p)}catch{}}function la(){this.g=new Js}function ii(u,m,p){const T=p||"";try{al(u,function(k,B){let tt=k;_(k)&&(tt=Ye(k)),m.push(T+B+"="+encodeURIComponent(tt))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function us(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(us,$r),us.prototype.g=function(){return new Ui(this.l,this.j)},us.prototype.i=function(u){return function(){return u}}({});function Ui(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ui,ae),a=Ui.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ai(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?si(this):ai(this),this.readyState==3&&ul(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,si(this))},a.Qa=function(u){this.g&&(this.response=u,si(this))},a.ga=function(){this.g&&si(this)};function si(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ai(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cl(u){let m="";return ct(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Oe(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=cl(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Zt(u,m,p))}function Yt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Yt,ae);var Xa=/^https?$/i,oa=["POST","PUT"];a=Yt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Zr(this.o):Zr(Wn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){zo(this,B);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)p.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(oa,m,void 0))||T||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of p)this.g.setRequestHeader(B,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){zo(this,B)}};function zo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$a(u),ri(u)}function $a(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),ri(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Yt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},a.bb=function(){Za(this)};function Za(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)Bt(u.Ea,0,u);else if(Ft(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var k=String(u.D).match(na)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Xa.test(k?k.toLowerCase():"")}p=T}if(p)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var B=2<Nn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",$a(u)}}finally{ri(u)}}}}function ri(u,m){if(u.g){ua(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{p.onreadystatechange=T}catch{}}}function ua(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qa(m)}};function Po(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nh(u){const m={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(mt(u[T]))continue;var p=M(u[T]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[k]||[];m[k]=B,B.push(p)}x(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ja(u){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(u&&u.concurrentRequestLimit),this.Da=new la,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ja.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){re(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Yo(this,null,this.W),tr(this)};function hl(u){if(qo(u),u.G==3){var m=u.U++,p=pn(u.I);if(Zt(p,"SID",u.K),Zt(p,"RID",m),Zt(p,"TYPE","terminate"),ha(u,p),m=new tn(u,u.j,m),m.L=2,m.v=sa(pn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ko(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ta(m)}Qo(u)}function Wa(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function qo(u){Wa(u),u.u&&(g.clearTimeout(u.u),u.u=null),er(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function tr(u){if(!Ga(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||N(),ht||(nt(),ht=!0),jt.add(m,u),u.B=0}}function ih(u,m){return Fa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(D(u.Ga,u,m),ml(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new tn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=b(B),O(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Bo(this,k,m),p=pn(this.I),Zt(p,"RID",u),Zt(p,"CVER",22),this.D&&Zt(p,"X-HTTP-Session-Id",this.D),ha(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(cl(B)))+"&"+m:this.m&&Oe(p,this.m,B)),Qa(this.h,k),this.Ua&&Zt(p,"TYPE","init"),this.P?(Zt(p,"$req",m),Zt(p,"SID","null"),k.T=!0,Hn(k,p,null)):Hn(k,p,m),this.G=2}}else this.G==3&&(u?fl(this,u):this.i.length==0||Ga(this.h)||fl(this))};function fl(u,m){var p;m?p=m.l:p=u.U++;const T=pn(u.I);Zt(T,"SID",u.K),Zt(T,"RID",p),Zt(T,"AID",u.T),ha(u,T),u.m&&u.o&&Oe(T,u.m,u.o),p=new tn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Bo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qa(u.h,p),Hn(p,T,m)}function ha(u,m){u.H&&ct(u.H,function(p,T){Zt(m,T,p)}),u.l&&al({},function(p,T){Zt(m,T,p)})}function Bo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const tt=["count="+p];B==-1?0<p?(B=k[0].g,tt.push("ofs="+B)):B=0:tt.push("ofs="+B);let kt=!0;for(let Ce=0;Ce<p;Ce++){let Lt=k[Ce].g;const Me=k[Ce].map;if(Lt-=B,0>Lt)B=Math.max(0,k[Ce].g-100),kt=!1;else try{ii(Me,tt,"req"+Lt+"_")}catch{T&&T(Me)}}if(kt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Ho(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||N(),ht||(nt(),ht=!0),jt.add(m,u),u.v=0}}function dl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(D(u.Fa,u),ml(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Wa(this),Go(this))};function fa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Go(u){u.g=new tn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=pn(u.qa);Zt(m,"RID","rpc"),Zt(m,"SID",u.K),Zt(m,"AID",u.T),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Zt(m,"TO",u.ja),Zt(m,"TYPE","xmlhttp"),ha(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=sa(pn(m)),p.m=null,p.P=!0,Di(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Wa(this),dl(this),re(19))};function er(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Fo(u,m){var p=null;if(u.g==m){er(u),fa(u),u.g=null;var T=2}else if(il(u.h,m))p=m.D,en(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=is(),Ft(T,new Re(T,p)),tr(u)}else Ho(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&ih(u,m)||T==2&&dl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function ml(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const k=!T;T=new ve(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ia(T,"https"),sa(T),k?ra(T.toString(),p):Gn(T.toString(),p)}else re(2);u.G=0,u.l&&u.l.sa(m),Qo(u),qo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Qo(u){if(u.G=0,u.ka=[],u.l){const m=sl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function Yo(u,m,p){var T=p instanceof ve?pn(p):new ve(p);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new ve(null);T&&ia(B,T),m&&(B.g=m),k&&os(B,k),p&&(B.l=p),T=B}return p=u.D,m=u.ya,p&&m&&Zt(T,p,m),Zt(T,"VER",u.la),ha(u,T),T}function Ko(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Yt(new us({eb:p})):new Yt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}a=Xo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function nr(){}nr.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ae.call(this),this.g=new Ja(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!mt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!mt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new li(this)}Z(nn,ae),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){hl(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Ye(u),u=p);m.i.push(new jo(m.Ya++,u)),m.G==3&&tr(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,nn.aa.N.call(this)};function $o(u){Ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z($o,Ci);function Zo(){Wr.call(this),this.status=1}Z(Zo,Wr);function li(u){this.g=u}Z(li,Xo),li.prototype.ua=function(){Ft(this.g,"a")},li.prototype.ta=function(u){Ft(this.g,new $o(u))},li.prototype.sa=function(u){Ft(this.g,new Zo)},li.prototype.ra=function(){Ft(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,$v=function(){return new nr},Xv=function(){return is()},Kv=Jn,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,sc=rs,Ii.COMPLETE="complete",Yv=Ii,Jr.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",ae.prototype.listen=ae.prototype.K,io=Jr,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,Qv=Yt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",A_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new $d("@firebase/firestore");function Vr(){return Oa.logLevel}function rt(a,...e){if(Oa.logLevel<=qt.DEBUG){const i=e.map(Jd);Oa.debug(`Firestore (${Br}): ${a}`,...i)}}function Wi(a,...e){if(Oa.logLevel<=qt.ERROR){const i=e.map(Jd);Oa.error(`Firestore (${Br}): ${a}`,...i)}}function jr(a,...e){if(Oa.logLevel<=qt.WARN){const i=e.map(Jd);Oa.warn(`Firestore (${Br}): ${a}`,...i)}}function Jd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Zv(a,r,i)}function Zv(a,e,i){let r=`FIRESTORE (${Br}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Kt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Zv(e,o,r)}function bt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class lb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ob{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Kt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let h=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Us,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Us)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new Jv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class ub{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ub(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,QS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Kt(this.o===void 0,3512);const r=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=fb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Ot(a,e){return a<e?-1:a>e?1:0}function bd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return ad(o)===ad(h)?Ot(o,h):ad(o)?1:-1}return Ot(a.length,e.length)}const db=55296,mb=57343;function ad(a){const e=a.charCodeAt(0);return e>=db&&e<=mb}function kr(a,e,i){return a.length===e.length&&a.every((r,o)=>i(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Tt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Tt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=mi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const r=mi.isNumericId(e),o=mi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?mi.extractNumericId(e).compare(mi.extractNumericId(i)):bd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class se extends mi{construct(e,i,r){return new se(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new se(i)}static emptyPath(){return new se([])}}const gb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends mi{construct(e,i,r){return new Fe(e,i,r)}static isValidIdentifier(e){return gb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Fe([b_])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(h(),o++)}if(h(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(se.fromString(e))}static fromName(e){return new gt(se.fromString(e).popFirst(5))}static empty(){return new gt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(a,e,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function pb(a,e,i,r){if(e===!0&&r===!0)throw new st(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function w_(a){if(!gt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function R_(a){if(gt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function t0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Cc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Tt(12329,{type:typeof a})}function Kn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cc(a);throw new st(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(a,e){const i={typeString:a};return e&&(i.value=e),i}function bo(a,e){if(!t0(a))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new st(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,I_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*I_);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bo(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:be("string",ne._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new ne(0,0))}static max(){return new St(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function yb(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Ls(o,gt.empty(),e)}function _b(a){return new Ls(a.readTime,a.key,po)}class Ls{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ls(St.min(),gt.empty(),po)}static max(){return new Ls(St.max(),gt.empty(),po)}}function vb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Ot(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==Eb)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,r)=>{i(e)})}static reject(e){return new X((i,r)=>{r(e)})}static waitFor(e){return new X((i,r)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},y=>r(y))}),d=!0,h===o&&i()})}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next(o=>o?X.resolve(o):r());return i}static forEach(e,i){const r=[];return e.forEach((o,h)=>{r.push(i.call(this,o,h))}),this.waitFor(r)}static mapArray(e,i){return new X((r,o)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const _=y;i(e[_]).next(A=>{d[_]=A,++g,g===h&&r(d)},A=>o(A))}})}static doWhile(e,i){return new X((r,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):r()};h()})}}function Ab(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ic.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function Dc(a){return a==null}function fc(a){return a===0&&1/a==-1/0}function Sb(a){return typeof a=="number"&&Number.isInteger(a)&&!fc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="";function bb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=D_(e)),e=wb(a.get(i),e);return D_(e)}function wb(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case e0:i+="";break;default:i+=h}}return i}function D_(a){return a+e0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Qs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function n0(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new bn([])}unionWith(e){let i=new Ve(Fe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return kr(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new i0("Invalid base64 string: "+h):h}}(e);return new Qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Rb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(a){if(Kt(!!a,39018),typeof a=="string"){let e=0;const i=Rb.exec(a);if(Kt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ps(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="server_timestamp",a0="__type__",r0="__previous_value__",l0="__local_write_time__";function em(a){return(a?.mapValue?.fields||{})[a0]?.stringValue===s0}function Nc(a){const e=a.mapValue.fields[r0];return em(e)?Nc(e):e}function yo(a){const e=zs(a.mapValue.fields[l0].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,i,r,o,h,d,g,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const dc="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="__type__",Ib="__max__",ec={mapValue:{}},u0="__vector__",mc="value";function qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?em(a)?4:Nb(a)?9007199254740991:Db(a)?10:11:Tt(28295,{value:a})}function Ti(a,e){if(a===e)return!0;const i=qs(a);if(i!==qs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return yo(a).isEqual(yo(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=zs(o.timestampValue),g=zs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Ps(o.bytesValue).isEqual(Ps(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),g=ye(h.doubleValue);return d===g?fc(d)===fc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return kr(a.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(N_(d)!==N_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ti(d[y],g[y])))return!1;return!0}(a,e);default:return Tt(52216,{left:a})}}function vo(a,e){return(a.values||[]).find(i=>Ti(i,e))!==void 0}function Lr(a,e){if(a===e)return 0;const i=qs(a),r=qs(e);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ye(h.integerValue||h.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return x_(a.timestampValue,e.timestampValue);case 4:return x_(yo(a),yo(e));case 5:return bd(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Ps(h),y=Ps(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Ot(g[_],y[_]);if(A!==0)return A}return Ot(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ot(ye(h.latitude),ye(d.latitude));return g!==0?g:Ot(ye(h.longitude),ye(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return O_(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},_=g[mc]?.arrayValue,A=y[mc]?.arrayValue,I=Ot(_?.values?.length||0,A?.values?.length||0);return I!==0?I:O_(_,A)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===ec.mapValue&&d===ec.mapValue)return 0;if(h===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let I=0;I<y.length&&I<A.length;++I){const D=bd(y[I],A[I]);if(D!==0)return D;const G=Lr(g[y[I]],_[A[I]]);if(G!==0)return G}return Ot(y.length,A.length)}(a.mapValue,e.mapValue);default:throw Tt(23264,{he:i})}}function x_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ot(a,e);const i=zs(a),r=zs(e),o=Ot(i.seconds,r.seconds);return o!==0?o:Ot(i.nanos,r.nanos)}function O_(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Lr(i[o],r[o]);if(h)return h}return Ot(i.length,r.length)}function zr(a){return wd(a)}function wd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const r=zs(i);return`time(${r.seconds},${r.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Ps(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=wd(h);return r+"]"}(a.arrayValue):"mapValue"in a?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${wd(i.fields[d])}`;return o+"}"}(a.mapValue):Tt(61005,{value:a})}function ac(a){switch(qs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(a);return e?16+ac(e):16;case 5:return 2*a.stringValue.length;case 6:return Ps(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,h)=>o+ac(h),0)}(a.arrayValue);case 10:case 11:return function(r){let o=0;return Qs(r.fields,(h,d)=>{o+=h.length+ac(d)}),o}(a.mapValue);default:throw Tt(13486,{value:a})}}function M_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Rd(a){return!!a&&"integerValue"in a}function nm(a){return!!a&&"arrayValue"in a}function U_(a){return!!a&&"nullValue"in a}function j_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function rc(a){return!!a&&"mapValue"in a}function Db(a){return(a?.mapValue?.fields||{})[o0]?.stringValue===u0}function oo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Qs(a.mapValue.fields,(i,r)=>e.mapValue.fields[i]=oo(r)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(a.arrayValue.values[i]);return e}return{...a}}function Nb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=Fe.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=oo(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Qs(i,(o,h)=>e[o]=h);for(const o of r)delete e[o]}clone(){return new hn(oo(this.value))}}function c0(a){const e=[];return Qs(a.fields,(i,r)=>{const o=new Fe([i]);if(rc(r)){const h=c0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,r,o,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Je(e,0,St.min(),St.min(),St.min(),hn.empty(),0)}static newFoundDocument(e,i,r,o){return new Je(e,1,i,St.min(),r,o,0)}static newNoDocument(e,i){return new Je(e,2,i,St.min(),St.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,St.min(),St.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.position=e,this.inclusive=i}}function k_(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=Lr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function L_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ti(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function Vb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{}class Se extends h0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Ob(e,i,r):i==="array-contains"?new jb(e,r):i==="in"?new kb(e,r):i==="not-in"?new Lb(e,r):i==="array-contains-any"?new zb(e,r):new Se(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Mb(e,r):new Ub(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Lr(i,this.value)):i!==null&&qs(this.value)===qs(i)&&this.matchesComparison(Lr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends h0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Xn(e,i)}matches(e){return f0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f0(a){return a.op==="and"}function d0(a){return xb(a)&&f0(a)}function xb(a){for(const e of a.filters)if(e instanceof Xn)return!1;return!0}function Cd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+zr(a.value);if(d0(a))return a.filters.map(e=>Cd(e)).join(",");{const e=a.filters.map(i=>Cd(i)).join(",");return`${a.op}(${e})`}}function m0(a,e){return a instanceof Se?function(r,o){return o instanceof Se&&r.op===o.op&&r.field.isEqual(o.field)&&Ti(r.value,o.value)}(a,e):a instanceof Xn?function(r,o){return o instanceof Xn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((h,d,g)=>h&&m0(d,o.filters[g]),!0):!1}(a,e):void Tt(19439)}function g0(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${zr(i.value)}`}(a):a instanceof Xn?function(i){return i.op.toString()+" {"+i.getFilters().map(g0).join(" ,")+"}"}(a):"Filter"}class Ob extends Se{constructor(e,i,r){super(e,i,r),this.key=gt.fromName(r.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Mb extends Se{constructor(e,i){super(e,"in",i),this.keys=p0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Ub extends Se{constructor(e,i){super(e,"not-in",i),this.keys=p0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function p0(a,e){return(e.arrayValue?.values||[]).map(i=>gt.fromName(i.referenceValue))}class jb extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nm(i)&&vo(i.arrayValue,this.value)}}class kb extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class Lb extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class zb extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>vo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,i=null,r=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function z_(a,e=null,i=[],r=[],o=null,h=null,d=null){return new Pb(a,e,i,r,o,h,d)}function im(a){const e=bt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Cd(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),Dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>zr(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>zr(r)).join(",")),e.Te=i}return e.Te}function sm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Vb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!m0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!L_(a.startAt,e.startAt)&&L_(a.endAt,e.endAt)}function Id(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,i=null,r=[],o=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qb(a,e,i,r,o,h,d,g){return new Fr(a,e,i,r,o,h,d,g)}function am(a){return new Fr(a)}function P_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function y0(a){return a.collectionGroup!==null}function uo(a){const e=bt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Fe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Eo(h,r))}),i.has(Fe.keyField().canonicalString())||e.Ie.push(new Eo(Fe.keyField(),r))}return e.Ie}function pi(a){const e=bt(a);return e.Ee||(e.Ee=Bb(e,uo(a))),e.Ee}function Bb(a,e){if(a.limitType==="F")return z_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Eo(o.field,h)});const i=a.endAt?new gc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new gc(a.startAt.position,a.startAt.inclusive):null;return z_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Dd(a,e){const i=a.filters.concat([e]);return new Fr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Nd(a,e,i){return new Fr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Vc(a,e){return sm(pi(a),pi(e))&&a.limitType===e.limitType}function _0(a){return`${im(pi(a))}|lt:${a.limitType}`}function xr(a){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>g0(o)).join(", ")}]`),Dc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>zr(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>zr(o)).join(",")),`Target(${r})`}(pi(a))}; limitType=${a.limitType})`}function xc(a,e){return e.isFoundDocument()&&function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):gt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(a,e)&&function(r,o){for(const h of uo(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(r,o){return!(r.startAt&&!function(d,g,y){const _=k_(d,g,y);return d.inclusive?_<=0:_<0}(r.startAt,uo(r),o)||r.endAt&&!function(d,g,y){const _=k_(d,g,y);return d.inclusive?_>=0:_>0}(r.endAt,uo(r),o))}(a,e)}function Hb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function v0(a){return(e,i)=>{let r=!1;for(const o of uo(a)){const h=Gb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function Gb(a,e,i){const r=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const y=d.data.field(h),_=g.data.field(h);return y!==null&&_!==null?Lr(y,_):Tt(42886)}(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(i,r)=>{for(const[o,h]of r)e(o,h)})}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new ue(gt.comparator);function ts(){return Fb}const E0=new ue(gt.comparator);function so(...a){let e=E0;for(const i of a)e=e.insert(i.key,i);return e}function T0(a){let e=E0;return a.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function Da(){return co()}function A0(){return co()}function co(){return new ka(a=>a.toString(),(a,e)=>a.isEqual(e))}const Qb=new ue(gt.comparator),Yb=new Ve(gt.comparator);function Mt(...a){let e=Yb;for(const i of a)e=e.add(i);return e}const Kb=new Ve(Ot);function Xb(){return Kb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function S0(a){return{integerValue:""+a}}function $b(a,e){return Sb(e)?S0(e):rm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function Zb(a,e,i){return a instanceof pc?function(o,h){const d={fields:{[a0]:{stringValue:s0},[l0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&em(h)&&(h=Nc(h)),h&&(d.fields[r0]=h),{mapValue:d}}(i,e):a instanceof To?w0(a,e):a instanceof Ao?R0(a,e):function(o,h){const d=b0(o,h),g=q_(d)+q_(o.Ae);return Rd(d)&&Rd(o.Ae)?S0(g):rm(o.serializer,g)}(a,e)}function Jb(a,e,i){return a instanceof To?w0(a,e):a instanceof Ao?R0(a,e):i}function b0(a,e){return a instanceof yc?function(r){return Rd(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class pc extends Oc{}class To extends Oc{constructor(e){super(),this.elements=e}}function w0(a,e){const i=C0(e);for(const r of a.elements)i.some(o=>Ti(o,r))||i.push(r);return{arrayValue:{values:i}}}class Ao extends Oc{constructor(e){super(),this.elements=e}}function R0(a,e){let i=C0(e);for(const r of a.elements)i=i.filter(o=>!Ti(o,r));return{arrayValue:{values:i}}}class yc extends Oc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function q_(a){return ye(a.integerValue||a.doubleValue)}function C0(a){return nm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Wb(a,e){return a.field.isEqual(e.field)&&function(r,o){return r instanceof To&&o instanceof To||r instanceof Ao&&o instanceof Ao?kr(r.elements,o.elements,Ti):r instanceof yc&&o instanceof yc?Ti(r.Ae,o.Ae):r instanceof pc&&o instanceof pc}(a.transform,e.transform)}class t2{constructor(e,i){this.version=e,this.transformResults=i}}class fn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mc{}function I0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Uc(a.key,fn.none()):new wo(a.key,a.data,fn.none());{const i=a.data,r=hn.empty();let o=new Ve(Fe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ys(a.key,r,new bn(o.toArray()),fn.none())}}function e2(a,e,i){a instanceof wo?function(o,h,d){const g=o.value.clone(),y=H_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ys?function(o,h,d){if(!lc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=H_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(D0(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ho(a,e,i,r){return a instanceof wo?function(h,d,g,y){if(!lc(h.precondition,d))return g;const _=h.value.clone(),A=G_(h.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,r):a instanceof Ys?function(h,d,g,y){if(!lc(h.precondition,d))return g;const _=G_(h.fieldTransforms,y,d),A=d.data;return A.setAll(D0(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(a,e,i,r):function(h,d,g){return lc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function n2(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=b0(r.transform,o||null);h!=null&&(i===null&&(i=hn.empty()),i.set(r.field,h))}return i||null}function B_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&kr(r,o,(h,d)=>Wb(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class wo extends Mc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Mc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function D0(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}}),e}function H_(a,e,i){const r=new Map;Kt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);r.set(h.field,Jb(d,g,i[o]))}return r}function G_(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Zb(h,d,e))}return r}class Uc extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i2 extends Mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&e2(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ho(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ho(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=A0();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=I0(d,g);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Mt())}isEqual(e){return this.batchId===e.batchId&&kr(this.mutations,e.mutations,(i,r)=>B_(i,r))&&kr(this.baseMutations,e.baseMutations,(i,r)=>B_(i,r))}}class lm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return Qb}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new lm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Pt;function l2(a){switch(a){case Y.OK:return Tt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Tt(15467,{code:a})}}function N0(a){if(a===void 0)return Wi("GRPC error has no .code"),Y.UNKNOWN;switch(a){case Ae.OK:return Y.OK;case Ae.CANCELLED:return Y.CANCELLED;case Ae.UNKNOWN:return Y.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return Y.INTERNAL;case Ae.UNAVAILABLE:return Y.UNAVAILABLE;case Ae.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ae.NOT_FOUND:return Y.NOT_FOUND;case Ae.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ae.ABORTED:return Y.ABORTED;case Ae.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ae.DATA_LOSS:return Y.DATA_LOSS;default:return Tt(39323,{code:a})}}(Pt=Ae||(Ae={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Ms([4294967295,4294967295],0);function F_(a){const e=o2().encode(a),i=new Fv;return i.update(e),new Uint8Array(i.digest())}function Q_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ms([i,r],0),new Ms([o,h],0)]}class om{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ao(`Invalid padding: ${i}`);if(r<0)throw new ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ms.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ms.fromNumber(r)));return o.compare(u2)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F_(e),[r,o]=Q_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new om(h,o,i);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=F_(e),[r,o]=Q_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new jc(St.min(),o,new ue(Ot),ts(),Mt())}}class Ro{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ro(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class V0{constructor(e,i){this.targetId=e,this.Ce=i}}class x0{constructor(e,i,r=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Y_{constructor(){this.ve=0,this.Fe=K_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),r=Mt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:h})}}),new Ro(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=K_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=nc(),this.He=nc(),this.Ye=new ue(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((r,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Id(h))if(r===0){const d=new gt(h.path);this.et(i,d,Je.newNoDocument(d,St.min()))}else Kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ps(r).toUint8Array()}catch(y){if(y instanceof i0)return jr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new om(d,o,h)}catch(y){return jr(y instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Id(g.target)){const y=new gt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let r=Mt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new jc(e,i,this.Ye,this.je,r);return this.je=ts(),this.Je=nc(),this.He=nc(),this.Ye=new ue(Ot),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ve(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ve(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nc(){return new ue(gt.comparator)}function K_(){return new ue(gt.comparator)}const h2={asc:"ASCENDING",desc:"DESCENDING"},f2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d2={and:"AND",or:"OR"};class m2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vd(a,e){return a.useProto3Json||Dc(e)?e:{value:e}}function _c(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function g2(a,e){return _c(a,e.toTimestamp())}function yi(a){return Kt(!!a,49232),St.fromTimestamp(function(i){const r=zs(i);return new ne(r.seconds,r.nanos)}(a))}function um(a,e){return xd(a,e).canonicalString()}function xd(a,e){const i=function(o){return new se(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function M0(a){const e=se.fromString(a);return Kt(z0(e),10190,{key:e.toString()}),e}function Od(a,e){return um(a.databaseId,e.path)}function rd(a,e){const i=M0(e);if(i.get(1)!==a.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(j0(i))}function U0(a,e){return um(a.databaseId,e)}function p2(a){const e=M0(a);return e.length===4?se.emptyPath():j0(e)}function Md(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function j0(a){return Kt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function X_(a,e,i){return{name:Od(a,e),fields:i.value.mapValue.fields}}function y2(a,e){let i;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Kt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Y.UNKNOWN:N0(_.code);return new st(A,_.message||"")}(d);i=new x0(r,o,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rd(a,r.document.name),h=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):St.min(),g=new hn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(o,h,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new oc(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rd(a,r.document),h=r.readTime?yi(r.readTime):St.min(),d=Je.newNoDocument(o,h),g=r.removedTargetIds||[];i=new oc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rd(a,r.document),h=r.removedTargetIds||[];i=new oc([],h,o,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new r2(o,h),g=r.targetId;i=new V0(g,d)}}return i}function _2(a,e){let i;if(e instanceof wo)i={update:X_(a,e.key,e.value)};else if(e instanceof Uc)i={delete:Od(a,e.key)};else if(e instanceof Ys)i={update:X_(a,e.key,e.data),updateMask:C2(e.fieldMask)};else{if(!(e instanceof i2))return Tt(16599,{Vt:e.type});i={verify:Od(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const g=d.transform;if(g instanceof pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof To)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Tt(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:g2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Tt(27497)}(a,e.precondition)),i}function v2(a,e){return a&&a.length>0?(Kt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?yi(o.updateTime):yi(h);return d.isEqual(St.min())&&(d=yi(h)),new t2(d,o.transformResults||[])}(i,e))):[]}function E2(a,e){return{documents:[U0(a,e.path)]}}function T2(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=U0(a,o);const h=function(_){if(_.length!==0)return L0(Xn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:Or(D.field),direction:b2(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Vd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function A2(a){let e=p2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Kt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const D=k0(I);return D instanceof Xn&&d0(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(D=>function(Z){return new Eo(Mr(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(I){let D;return D=typeof I=="object"?I.value:I,Dc(D)?null:D}(i.limit));let y=null;i.startAt&&(y=function(I){const D=!!I.before,G=I.values||[];return new gc(G,D)}(i.startAt));let _=null;return i.endAt&&(_=function(I){const D=!I.before,G=I.values||[];return new gc(G,D)}(i.endAt)),qb(e,o,d,h,g,"F",y,_)}function S2(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function k0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Mr(i.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mr(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Mr(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mr(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Se.create(Mr(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Xn.create(i.compositeFilter.filters.map(r=>k0(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(i.compositeFilter.op))}(a):Tt(30097,{filter:a})}function b2(a){return h2[a]}function w2(a){return f2[a]}function R2(a){return d2[a]}function Or(a){return{fieldPath:a.canonicalString()}}function Mr(a){return Fe.fromServerFormat(a.fieldPath)}function L0(a){return a instanceof Se?function(i){if(i.op==="=="){if(j_(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NAN"}};if(U_(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j_(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NOT_NAN"}};if(U_(i.value))return{unaryFilter:{field:Or(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Or(i.field),op:w2(i.op),value:i.value}}}(a):a instanceof Xn?function(i){const r=i.getFilters().map(o=>L0(o));return r.length===1?r[0]:{compositeFilter:{op:R2(i.op),filters:r}}}(a):Tt(54877,{filter:a})}function C2(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function z0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,i,r,o,h=St.min(),d=St.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.yt=e}}function D2(a){const e=A2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.Cn=new V2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ls.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class V2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ve(se.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ve(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(P0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pr(0)}static cr(){return new Pr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LruGarbageCollector",x2=1048576;function J_([a,e],[i,r]){const o=Ot(a,i);return o===0?Ot(e,r):o}class O2{constructor(e){this.Ir=e,this.buffer=new Ve(J_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();J_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class M2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gr(i)?rt(Z_,"Ignoring IndexedDB error during garbage collection: ",i):await Hr(i)}await this.Vr(3e5)})}}class U2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ic.ce);const r=new O2(i);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(r=I,g=Date.now(),this.removeTargets(e,r,i))).next(I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(_=Date.now(),Vr()<=qt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${I} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I})))}}function j2(a,e){return new U2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.changes=new ka(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(r!==null&&ho(r.mutation,o,bn.empty(),ne.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Mt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Mt()){const o=Da();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,r).next(h=>{let d=so();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=Da();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Mt()))}populateOverlays(e,i,r){const o=[];return r.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,r,o){let h=ts();const d=co(),g=function(){return co()}();return i.forEach((y,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ys)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ho(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,bn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>g.set(_,new L2(A,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,i){const r=co();let o=new ue((d,g)=>d-g),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||bn.empty();A=g.applyToLocalView(_,A),r.set(y,A);const I=(o.get(g.batchId)||Mt()).add(y);o=o.insert(g.batchId,I)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,I=A0();A.forEach(D=>{if(!h.has(D)){const G=I0(i.get(D),r.get(D));G!==null&&I.set(D,G),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,I))}return X.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):y0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):X.resolve(Da());let g=po,y=h;return d.next(_=>X.forEach(_,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{y=y.insert(A,D)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,y,_,Mt())).next(A=>({batchId:g,changes:T0(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(r=>{let o=so();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=so();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,y=>{const _=function(I,D){return new Fr(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next(A=>{A.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o))).next(d=>{h.forEach((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))});let g=so();return d.forEach((y,_)=>{const A=h.get(y);A!==void 0&&ho(A.mutation,_,bn.empty(),ne.now()),xc(i,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:D2(o.bundledQuery),readTime:yi(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Da();return X.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&r.set(o,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((o,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=Da(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&y.largestBatchId>r&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ue((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=Da(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Da(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return X.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new a2(i,r));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Le(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach(r=>this.removeReference(r,i))}jr(e){const i=new gt(new se([])),r=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([r,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new se([])),r=new Le(i,e),o=new Le(i,e+1);let h=Mt();return this.Ur.forEachInRange([r,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Le(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new s2(h,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?tm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ve(Ot);return i.forEach(o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{r=r.add(g.Yr)})}),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;gt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new gt(h),0);let g=new Ve(Ot);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)},d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,o=>{const h=new Le(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,i){const r=new Le(i,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.ri=e,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let r=ts();return i.forEach(o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Je.newInvalidDocument(o))}),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=ts();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vb(_b(A),r)<=0||(o.has(A.key)||xc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,r,o){Tt(9500)}ii(e,i){return X.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new F2(this)}getSize(e){return X.resolve(this.size)}}class F2 extends k2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.persistence=e,this.si=new ka(i=>im(i),sm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new cm,this.targetCount=0,this.ai=Pr.ur()}forEachTarget(e,i){return this.si.forEach((r,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Pr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ic(0),this.li=!1,this.li=!0,this.hi=new B2,this.referenceDelegate=e(this),this.Pi=new Q2(this),this.indexManager=new N2,this.remoteDocumentCache=function(o){return new G2(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new I2(i),this.Ii=new P2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new q2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new H2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){rt("MemoryPersistence","Starting transaction:",e);const o=new Y2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return X.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,i)))}}class Y2 extends Tb{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Ri=new cm,this.Vi=null}static mi(e){return new hm(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,r=>{const o=gt.fromPath(r);return this.gi(e,o).next(h=>{h||i.removeEntry(o,St.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class vc{constructor(e,i){this.persistence=e,this.pi=new ka(r=>bb(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=j2(this,i)}static mi(e,i){return new vc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(o=>r+o))}wr(e){let i=0;return this.pr(e,r=>{i++}).next(()=>i)}pr(e,i){return X.forEach(this.pi,(r,o)=>this.br(e,r,o).next(h=>h?X.resolve():i(o)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(r++,h.removeEntry(d,St.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ac(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new fm(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return BA()?8:Ab(zA())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new K2;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,r,o){return r.documentReadCount<this.fs?(Vr()<=qt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",xr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Vr()<=qt.DEBUG&&rt("QueryEngine","Query:",xr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Vr()<=qt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",xr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):X.resolve())}ys(e,i){if(P_(i))return X.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,Nd(i,null,"F")):this.vs(e,_,i,y)}))})))}ws(e,i,r,o){return P_(i)||o.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(e,r).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?X.resolve(null):(Vr()<=qt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xr(i)),this.vs(e,d,i,yb(o,po)).next(g=>g))})}Ds(e,i){let r=new Ve(v0(e));return i.forEach((o,h)=>{xc(e,h)&&(r=r.add(h))}),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return Vr()<=qt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",xr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ls.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="LocalStore",$2=3e8;class Z2{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ue(Ot),this.xs=new ka(h=>im(h),sm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function J2(a,e,i,r){return new Z2(a,e,i,r)}async function B0(a,e){const i=bt(a);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let y=Mt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function W2(a,e){const i=bt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,_,A){const I=_.batch,D=I.keys();let G=X.resolve();return D.forEach(Z=>{G=G.next(()=>A.getEntry(y,Z)).next(et=>{const J=_.docVersions.get(Z);Kt(J!==null,48541),et.version.compareTo(J)<0&&(I.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(y,I))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(e))).next(()=>i.localDocuments.getDocuments(r,o))})}function H0(a){const e=bt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function tw(a,e){const i=bt(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((A,I)=>{const D=o.get(I);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,I)));let G=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(I,G),function(et,J,pt){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=$2?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(D,G,A)&&g.push(i.Pi.updateTargetData(h,G))});let y=ts(),_=Mt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(ew(h,d,e.documentUpdates).next(A=>{y=A.ks,_=A.qs})),!r.isEqual(St.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,_)).next(()=>y)}).then(h=>(i.Ms=o,h))}function ew(a,e,i){let r=Mt(),o=Mt();return i.forEach(h=>r=r.add(h)),e.getEntries(a,r).next(h=>{let d=ts();return i.forEach((g,y)=>{const _=h.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):rt(dm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)}),{ks:d,qs:o}})}function nw(a,e){const i=bt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iw(a,e){const i=bt(a);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Pi.getTargetData(r,e).next(h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(r).next(d=>(o=new Vs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r})}async function Ud(a,e,i){const r=bt(a),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Gr(d))throw d;rt(dm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function W_(a,e,i){const r=bt(a);let o=St.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,A){const I=bt(y),D=I.xs.get(A);return D!==void 0?X.resolve(I.Ms.get(D)):I.Pi.getTargetData(_,A)}(r,d,pi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Mt())).next(g=>(sw(r,Hb(e),g),{documents:g,Qs:h})))}function sw(a,e,i){let r=a.Os.get(e)||St.min();i.forEach((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),a.Os.set(e,r)}class tv{constructor(){this.activeTargetIds=Xb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aw{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function jd(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="RestConnection",lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ow{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===dc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=jd(),g=this.zo(e,i.toUriEncodedString());rt(ld,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,h);const{host:_}=new URL(g),A=Xd(_);return this.Jo(e,g,y,r,A).then(I=>(rt(ld,`Received RPC '${e}' ${d}: `,I),I),I=>{throw jr(ld,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",r),I})}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Br}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),r&&r.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const r=lw[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class cw extends ow{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=jd();return new Promise((g,y)=>{const _=new Qv;_.setWithCredentials(!0),_.listenOnce(Yv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case sc.NO_ERROR:const I=_.getResponseJson();rt($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case sc.TIMEOUT:rt($e,`RPC '${e}' ${d} timed out`),y(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const D=_.getStatus();if(rt($e,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const et=function(pt){const mt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(mt)>=0?mt:Y.UNKNOWN}(Z.status);y(new st(et,Z.message))}else y(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st(Y.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt($e,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);rt($e,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)})}T_(e,i,r){const o=jd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$v(),g=Xv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=h.join("");rt($e,`Creating RPC '${e}' stream ${o}: ${A}`,y);const I=d.createWebChannel(A,y);this.I_(I);let D=!1,G=!1;const Z=new uw({Yo:J=>{G?rt($e,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(D||(rt($e,`Opening RPC '${e}' stream ${o} transport.`),I.open(),D=!0),rt($e,`RPC '${e}' stream ${o} sending:`,J),I.send(J))},Zo:()=>I.close()}),et=(J,pt,mt)=>{J.listen(pt,ot=>{try{mt(ot)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return et(I,io.EventType.OPEN,()=>{G||(rt($e,`RPC '${e}' stream ${o} transport opened.`),Z.o_())}),et(I,io.EventType.CLOSE,()=>{G||(G=!0,rt($e,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(I))}),et(I,io.EventType.ERROR,J=>{G||(G=!0,jr($e,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))}),et(I,io.EventType.MESSAGE,J=>{if(!G){const pt=J.data[0];Kt(!!pt,16349);const mt=pt,ot=mt?.error||mt[0]?.error;if(ot){rt($e,`RPC '${e}' stream ${o} received error:`,ot);const Ut=ot.status;let at=function(b){const R=Ae[b];if(R!==void 0)return N0(R)}(Ut),ct=ot.message;at===void 0&&(at=Y.INTERNAL,ct="Unknown error status: "+Ut+" with message "+ot.message),G=!0,Z.a_(new st(at,ct)),I.close()}else rt($e,`RPC '${e}' stream ${o} received:`,pt),Z.u_(pt)}}),et(g,Kv.STAT_EVENT,J=>{J.stat===Sd.PROXY?rt($e,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Sd.NOPROXY&&rt($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(a){return new m2(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="PersistentStream";class F0{constructor(e,i,r,o,h,d,g,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===i&&this.G_(r,o)},r=>{e(()=>{const o=new st(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return rt(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(rt(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hw extends F0{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=y2(this.serializer,e),r=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?yi(d.readTime):St.min()}(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Md(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Id(y)?{documents:E2(h,y)}:{query:T2(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=O0(h,d.resumeToken);const _=Vd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=_c(h,d.snapshotVersion.toTimestamp());const _=Vd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const r=S2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Md(this.serializer),i.removeTarget=e,this.q_(i)}}class fw extends F0{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=v2(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Md(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>_2(this.serializer,r))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{}class mw extends dw{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,xd(i,r),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(Y.UNKNOWN,h.toString())})}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,xd(i,r),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class pw{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{r.enqueueAndForget(async()=>{La(this)&&(rt(Ma,"Restarting streams for network reachability change."),await async function(y){const _=bt(y);_.Ea.add(4),await Co(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lc(_)}(this))})}),this.Ra=new gw(r,o)}}async function Lc(a){if(La(a))for(const e of a.da)await e(!0)}async function Co(a){for(const e of a.da)await e(!1)}function Q0(a,e){const i=bt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ym(i)?pm(i):Qr(i).O_()&&gm(i,e))}function mm(a,e){const i=bt(a),r=Qr(i);i.Ia.delete(e),r.O_()&&Y0(i,e),i.Ia.size===0&&(r.O_()?r.L_():La(i)&&i.Ra.set("Unknown"))}function gm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qr(a).Y_(e)}function Y0(a,e){a.Va.Ue(e),Qr(a).Z_(e)}function pm(a){a.Va=new c2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Qr(a).start(),a.Ra.ua()}function ym(a){return La(a)&&!Qr(a).x_()&&a.Ia.size>0}function La(a){return bt(a).Ea.size===0}function K0(a){a.Va=void 0}async function yw(a){a.Ra.set("Online")}async function _w(a){a.Ia.forEach((e,i)=>{gm(a,e)})}async function vw(a,e){K0(a),ym(a)?(a.Ra.ha(e),pm(a)):a.Ra.set("Unknown")}async function Ew(a,e,i){if(a.Ra.set("Online"),e instanceof x0&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(r){rt(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ec(a,r)}else if(e instanceof oc?a.Va.Ze(e):e instanceof V0?a.Va.st(e):a.Va.tt(e),!i.isEqual(St.min()))try{const r=await H0(a.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,_)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Y0(h,y);const I=new Vs(A.target,y,_,A.sequenceNumber);gm(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(r){rt(Ma,"Failed to raise snapshot:",r),await Ec(a,r)}}async function Ec(a,e,i){if(!Gr(e))throw e;a.Ea.add(1),await Co(a),a.Ra.set("Offline"),i||(i=()=>H0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(Ma,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Lc(a)})}function X0(a,e){return e().catch(i=>Ec(a,i,e))}async function zc(a){const e=bt(a),i=Bs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tm;for(;Tw(e);)try{const o=await nw(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,Aw(e,o)}catch(o){await Ec(e,o)}$0(e)&&Z0(e)}function Tw(a){return La(a)&&a.Ta.length<10}function Aw(a,e){a.Ta.push(e);const i=Bs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function $0(a){return La(a)&&!Bs(a).x_()&&a.Ta.length>0}function Z0(a){Bs(a).start()}async function Sw(a){Bs(a).ra()}async function bw(a){const e=Bs(a);for(const i of a.Ta)e.ea(i.mutations)}async function ww(a,e,i){const r=a.Ta.shift(),o=lm.from(r,e,i);await X0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await zc(a)}async function Rw(a,e){e&&Bs(a).X_&&await async function(r,o){if(function(d){return l2(d)&&d!==Y.ABORTED}(o.code)){const h=r.Ta.shift();Bs(r).B_(),await X0(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),await zc(r)}}(a,e),$0(a)&&Z0(a)}async function sv(a,e){const i=bt(a);i.asyncQueue.verifyOperationInProgress(),rt(Ma,"RemoteStore received new credentials");const r=La(i);i.Ea.add(3),await Co(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lc(i)}async function Cw(a,e){const i=bt(a);e?(i.Ea.delete(2),await Lc(i)):e||(i.Ea.add(2),await Co(i),i.Ra.set("Unknown"))}function Qr(a){return a.ma||(a.ma=function(i,r,o){const h=bt(i);return h.sa(),new hw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:yw.bind(null,a),t_:_w.bind(null,a),r_:vw.bind(null,a),H_:Ew.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),ym(a)?pm(a):a.Ra.set("Unknown")):(await a.ma.stop(),K0(a))})),a.ma}function Bs(a){return a.fa||(a.fa=function(i,r,o){const h=bt(i);return h.sa(),new fw(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sw.bind(null,a),r_:Rw.bind(null,a),ta:bw.bind(null,a),na:ww.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await zc(a)):(await a.fa.stop(),a.Ta.length>0&&(rt(Ma,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,g=new _m(e,i,d,o,h);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(a,e){if(Wi("AsyncQueue",`${e}: ${a}`),Gr(a))return new st(Y.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{static emptySet(e){return new Ur(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=so(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ur;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.ga=new ue(gt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,r)=>{e.push(r)}),e}}class qr{constructor(e,i,r,o,h,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new qr(e,i,Ur.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Dw{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=bt(i),h=o.queries;o.queries=rv(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(r)})})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function rv(){return new ka(a=>_0(a),Vc)}async function J0(a,e){const i=bt(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new Iw,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=vm(d,`Initialization of query '${xr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Em(i)}async function W0(a,e){const i=bt(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Nw(a,e){const i=bt(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&Em(i)}function Vw(a,e,i){const r=bt(a),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Em(a){a.Ca.forEach(e=>{e.next()})}var kd,lv;(lv=kd||(kd={})).Ma="default",lv.Cache="cache";class t1{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.key=e}}class n1{constructor(e){this.key=e}}class xw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=v0(e),this.tu=new Ur(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new av,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,I)=>{const D=o.get(A),G=xc(this.query,I)?I:null,Z=!!D&&this.mutatedKeys.has(D.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;D&&G?D.data.isEqual(G.data)?Z!==et&&(r.track({type:3,doc:G}),J=!0):this.su(D,G)||(r.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!D&&G?(r.track({type:0,doc:G}),J=!0):D&&!G&&(r.track({type:1,doc:D}),J=!0,(y||_)&&(g=!0)),J&&(G?(d=d.add(G),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,I)=>function(G,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:J})}};return et(G)-et(Z)}(A.type,I.type)||this.eu(A.doc,I.doc)),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new qr(this.query,e.tu,h,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const i=[];return e.forEach(r=>{this.Xa.has(r)||i.push(new n1(r))}),this.Xa.forEach(r=>{e.has(r)||i.push(new e1(r))}),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tm="SyncEngine";class Ow{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Mw{constructor(e){this.key=e,this.hu=!1}}class Uw{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ka(g=>_0(g),Vc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new cm,this.Vu={},this.mu=new Map,this.fu=Pr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jw(a,e,i=!0){const r=o1(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await i1(r,e,i,!0),o}async function kw(a,e){const i=o1(a);await i1(i,e,!0,!1)}async function i1(a,e,i,r){const o=await iw(a.localStore,pi(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await Lw(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Q0(a.remoteStore,o),g}async function Lw(a,e,i,r,o){a.pu=(I,D,G)=>async function(et,J,pt,mt){let ot=J.view.ru(pt);ot.Cs&&(ot=await W_(et.localStore,J.query,!1).then(({documents:x})=>J.view.ru(x,ot)));const Ut=mt&&mt.targetChanges.get(J.targetId),at=mt&&mt.targetMismatches.get(J.targetId)!=null,ct=J.view.applyChanges(ot,et.isPrimaryClient,Ut,at);return uv(et,J.targetId,ct.au),ct.snapshot}(a,I,D,G);const h=await W_(a.localStore,e,!0),d=new xw(e,h.Qs),g=d.ru(h.documents),y=Ro.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,y);uv(a,i,_.au);const A=new Ow(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function zw(a,e,i){const r=bt(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter(d=>!Vc(d,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&mm(r.remoteStore,o.targetId),Ld(r,o.targetId)}).catch(Hr)):(Ld(r,o.targetId),await Ud(r.localStore,o.targetId,!0))}async function Pw(a,e){const i=bt(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),mm(i.remoteStore,r.targetId))}async function qw(a,e,i){const r=Kw(a);try{const o=await function(d,g){const y=bt(d),_=ne.now(),A=g.reduce((G,Z)=>G.add(Z.key),Mt());let I,D;return y.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=ts(),et=Mt();return y.Ns.getEntries(G,A).next(J=>{Z=J,Z.forEach((pt,mt)=>{mt.isValidDocument()||(et=et.add(pt))})}).next(()=>y.localDocuments.getOverlayedDocuments(G,Z)).next(J=>{I=J;const pt=[];for(const mt of g){const ot=n2(mt,I.get(mt.key).overlayedDocument);ot!=null&&pt.push(new Ys(mt.key,ot,c0(ot.value.mapValue),fn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,pt,g)}).next(J=>{D=J;const pt=J.applyToLocalDocumentSet(I,et);return y.documentOverlayCache.saveOverlays(G,J.batchId,pt)})}).then(()=>({batchId:D.batchId,changes:T0(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Ot)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_}(r,o.batchId,i),await Io(r,o.changes),await zc(r.remoteStore)}catch(o){const h=vm(o,"Failed to persist write");i.reject(h)}}async function s1(a,e){const i=bt(a);try{const r=await tw(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))}),await Io(i,r,e)}catch(r){await Hr(r)}}function ov(a,e,i){const r=bt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=bt(d);y.onlineState=g;let _=!1;y.queries.forEach((A,I)=>{for(const D of I.Sa)D.va(g)&&(_=!0)}),_&&Em(y)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bw(a,e,i){const r=bt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ue(gt.comparator);d=d.insert(h,Je.newNoDocument(h,St.min()));const g=Mt().add(h),y=new jc(St.min(),new Map,new ue(Ot),d,g);await s1(r,y),r.du=r.du.remove(h),r.Au.delete(e),Am(r)}else await Ud(r.localStore,e,!1).then(()=>Ld(r,e,i)).catch(Hr)}async function Hw(a,e){const i=bt(a),r=e.batch.batchId;try{const o=await W2(i.localStore,e);r1(i,r,null),a1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Io(i,o)}catch(o){await Hr(o)}}async function Gw(a,e,i){const r=bt(a);try{const o=await function(d,g){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next(I=>(Kt(I!==null,37113),A=I.keys(),y.mutationQueue.removeMutationBatch(_,I))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>y.localDocuments.getDocuments(_,A))})}(r.localStore,e);r1(r,e,i),a1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Io(r,o)}catch(o){await Hr(o)}}function a1(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function r1(a,e,i){const r=bt(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ld(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(r=>{a.Ru.containsKey(r)||l1(a,r)})}function l1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(mm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Am(a))}function uv(a,e,i){for(const r of i)r instanceof e1?(a.Ru.addReference(r.key,e),Fw(a,r)):r instanceof n1?(rt(Tm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||l1(a,r.key)):Tt(19791,{wu:r})}function Fw(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(rt(Tm,"New document in limbo: "+i),a.Eu.add(r),Am(a))}function Am(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new gt(se.fromString(e)),r=a.fu.next();a.Au.set(r,new Mw(i)),a.du=a.du.insert(i,r),Q0(a.remoteStore,new Vs(pi(am(i.path)),r,"TargetPurposeLimboResolution",Ic.ce))}}async function Io(a,e,i){const r=bt(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach((g,y)=>{d.push(r.pu(y,e,i).then(_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=fm.As(y.targetId,_);h.push(A)}}))}),await Promise.all(d),r.Pu.H_(o),await async function(y,_){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>X.forEach(_,D=>X.forEach(D.Es,G=>A.persistence.referenceDelegate.addReference(I,D.targetId,G)).next(()=>X.forEach(D.ds,G=>A.persistence.referenceDelegate.removeReference(I,D.targetId,G)))))}catch(I){if(!Gr(I))throw I;rt(dm,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const G=A.Ms.get(D),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(D,et)}}}(r.localStore,h))}async function Qw(a,e){const i=bt(a);if(!i.currentUser.isEqual(e)){rt(Tm,"User change. New user:",e.toKey());const r=await B0(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new st(Y.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Io(i,r.Ls)}}function Yw(a,e){const i=bt(a),r=i.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function o1(a){const e=bt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bw.bind(null,e),e.Pu.H_=Nw.bind(null,e.eventManager),e.Pu.yu=Vw.bind(null,e.eventManager),e}function Kw(a){const e=bt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gw.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return J2(this.persistence,new X2,e.initialUser,this.serializer)}Cu(e){return new q0(hm.mi,this.serializer)}Du(e){return new aw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class Xw extends Tc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Kt(this.persistence.referenceDelegate instanceof vc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new M2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new q0(r=>vc.mi(r,i),this.serializer)}}class zd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qw.bind(null,this.syncEngine),await Cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dw}()}createDatastore(e){const i=kc(e.databaseInfo.databaseId),r=function(h){return new cw(h)}(e.databaseInfo);return function(h,d,g,y){return new mw(h,d,g,y)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,o,h,d,g){return new pw(r,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>ov(this.syncEngine,i,0),function(){return nv.v()?new nv:new rw}())}createSyncEngine(e,i){return function(o,h,d,g,y,_,A){const I=new Uw(o,h,d,g,y,_);return A&&(I.gu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const r=bt(i);rt(Ma,"RemoteStore shutting down."),r.Ea.add(5),await Co(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class $w{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{rt(Hs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(rt(Hs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=vm(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ud(a,e){a.asyncQueue.verifyOperationInProgress(),rt(Hs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener(async o=>{r.isEqual(o)||(await B0(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function cv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Zw(a);rt(Hs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(r=>sv(e.remoteStore,r)),a.setAppCheckTokenChangeListener((r,o)=>sv(e.remoteStore,o)),a._onlineComponents=e}async function Zw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(Hs,"Using user provided OfflineComponentProvider");try{await ud(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),await ud(a,new Tc)}}else rt(Hs,"Using default OfflineComponentProvider"),await ud(a,new Xw(void 0));return a._offlineComponents}async function c1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(Hs,"Using user provided OnlineComponentProvider"),await cv(a,a._uninitializedComponentsProvider._online)):(rt(Hs,"Using default OnlineComponentProvider"),await cv(a,new zd))),a._onlineComponents}function Jw(a){return c1(a).then(e=>e.syncEngine)}async function Pd(a){const e=await c1(a),i=e.eventManager;return i.onListen=jw.bind(null,e.syncEngine),i.onUnlisten=zw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=kw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Pw.bind(null,e.syncEngine),i}function Ww(a,e,i={}){const r=new Us;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,_){const A=new u1({next:D=>{A.Nu(),d.enqueueAndForget(()=>W0(h,I)),D.fromCache&&y.source==="server"?_.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new t1(g,A,{includeMetadataChanges:!0,qa:!0});return J0(h,I)}(await Pd(a),a.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f1,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x2)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rb;switch(r.type){case"firstParty":return new cb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=hv.get(i);r&&(rt("ComponentProvider","Removing Datastore"),hv.delete(i),r.terminate())}(this),Promise.resolve()}}function tR(a,e,i,r={}){a=Kn(a,Pc);const o=Xd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(MA(`https://${g}`),LA("Firestore",!0)),h.host!==f1&&h.host!==g&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:o,emulatorOptions:r};if(!mo(y,d)&&(a._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ze.MOCK_USER;else{_=UA(r.mockUserToken,a._app?.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(I)}a._authCredentials=new lb(new Jv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class we{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(bo(i,we._jsonSchema))return new we(e,r||null,new gt(se.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:be("string",we._jsonSchemaVersion),referencePath:be("string")};class js extends Ks{constructor(e,i,r){super(e,i,am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new gt(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function za(a,e,...i){if(a=mn(a),Wv("collection","path",e),a instanceof Pc){const r=se.fromString(e,...i);return R_(r),new js(a,null,r)}{if(!(a instanceof we||a instanceof js))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(e,...i));return R_(r),new js(a.firestore,null,r)}}function qc(a,e,...i){if(a=mn(a),arguments.length===1&&(e=Wd.newId()),Wv("doc","path",e),a instanceof Pc){const r=se.fromString(e,...i);return w_(r),new we(a,null,new gt(r))}{if(!(a instanceof we||a instanceof js))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(e,...i));return w_(r),new we(a.firestore,a instanceof js?a.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G0(this,"async_queue_retry"),this._c=()=>{const r=od();r&&rt(mv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gr(e))throw e;rt(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",pv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=_m.createAndSchedule(this,e,i,r,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(a){return function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Gs extends Pc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function eR(a,e){const i=typeof a=="object"?a:Bv(),r=typeof a=="string"?a:dc,o=So(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=xA("firestore");h&&tR(o,...h)}return o}function Bc(a){if(a._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||nR(a),a._firestoreClient}function nR(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new Cb(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,h1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new $w(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Qe.fromBase64String(e))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:be("string",Ln._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(bo(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:be("string",_i._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bo(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new vi(e.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:be("string",vi._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^__.*__$/;class sR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms):new wo(e,this.data,i,this.fieldTransforms)}}class d1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ys(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function m1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:a})}}class bm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ac(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m1(this.Ac)&&iR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||kc(e)}Cc(e,i,r,o=!1){return new bm({Ac:e,methodName:i,Dc:r,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(a){const e=a._freezeSettings(),i=kc(a._databaseId);return new aR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function g1(a,e,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);wm("Data must be an object, but it was:",d,r);const g=_1(r,d);let y,_;if(h.merge)y=new bn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const D=qd(e,I,i);if(!d.contains(D))throw new st(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);E1(A,D)||A.push(D)}y=new bn(A),_=d.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,_=d.fieldTransforms;return new sR(new hn(g),y,_)}class Gc extends Sm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gc}}function p1(a,e,i,r){const o=a.Cc(1,e,i);wm("Data must be an object, but it was:",o,r);const h=[],d=hn.empty();Qs(r,(y,_)=>{const A=Rm(e,y,i);_=mn(_);const I=o.yc(A);if(_ instanceof Gc)h.push(A);else{const D=No(_,I);D!=null&&(h.push(A),d.set(A,D))}});const g=new bn(h);return new d1(d,g,o.fieldTransforms)}function y1(a,e,i,r,o,h){const d=a.Cc(1,e,i),g=[qd(e,r,i)],y=[o];if(h.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(qd(e,h[D])),y.push(h[D+1]);const _=[],A=hn.empty();for(let D=g.length-1;D>=0;--D)if(!E1(_,g[D])){const G=g[D];let Z=y[D];Z=mn(Z);const et=d.yc(G);if(Z instanceof Gc)_.push(G);else{const J=No(Z,et);J!=null&&(_.push(G),A.set(G,J))}}const I=new bn(_);return new d1(A,I,d.fieldTransforms)}function rR(a,e,i,r=!1){return No(i,a.Cc(r?4:3,e))}function No(a,e){if(v1(a=mn(a)))return wm("Unsupported field value:",e,a),_1(a,e);if(a instanceof Sm)return function(r,o){if(!m1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const h=[];let d=0;for(const g of r){let y=No(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,e)}return function(r,o){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $b(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ne.fromDate(r);return{timestampValue:_c(o.serializer,h)}}if(r instanceof ne){const h=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(o.serializer,h)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:O0(o.serializer,r._byteString)};if(r instanceof we){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:um(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return function(d,g){return{mapValue:{fields:{[o0]:{stringValue:u0},[mc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return rm(g.serializer,_)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Cc(r)}`)}(a,e)}function _1(a,e){const i={};return n0(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(a,(r,o)=>{const h=No(o,e.mc(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function v1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof _i||a instanceof Ln||a instanceof we||a instanceof Sm||a instanceof vi)}function wm(a,e,i){if(!v1(i)||!t0(i)){const r=Cc(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function qd(a,e,i){if((e=mn(e))instanceof Do)return e._internalPath;if(typeof e=="string")return Rm(a,e);throw Ac("Field path arguments must be of type string or ",a,!1,void 0,i)}const lR=new RegExp("[~\\*/\\[\\]]");function Rm(a,e,i){if(e.search(lR)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Do(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Ac(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new st(Y.INVALID_ARGUMENT,g+a+y)}function E1(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Fc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oR extends T1{data(){return super.data()}}function Fc(a,e){return typeof e=="string"?Rm(a,e):e instanceof Do?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class S1 extends Cm{}function Im(a,e,...i){let r=[];e instanceof Cm&&r.push(e),r=r.concat(i),function(h){const d=h.filter(y=>y instanceof Dm).length,g=h.filter(y=>y instanceof Qc).length;if(d>1||d>0&&g>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)a=o._apply(a);return a}class Qc extends S1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Qc(e,i,r)}_apply(e){const i=this._parse(e);return b1(e._query,i),new Ks(e.firestore,e.converter,Dd(e._query,i))}_parse(e){const i=Hc(e.firestore);return function(h,d,g,y,_,A,I){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){vv(I,A);const Z=[];for(const et of I)Z.push(_v(y,h,et));D={arrayValue:{values:Z}}}else D=_v(y,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||vv(I,A),D=rR(g,d,I,A==="in"||A==="not-in");return Se.create(_,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Bd(a,e,i){const r=e,o=Fc("where",a);return Qc._create(o,r,i)}class Dm extends Cm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Dm(e,i)}_parse(e){const i=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const y of g)b1(d,y),d=Dd(d,y)}(e._query,i),new Ks(e.firestore,e.converter,Dd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nm extends S1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Nm(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eo(h,d)}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Fr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function uR(a,e="asc"){const i=e,r=Fc("orderBy",a);return Nm._create(r,i)}function _v(a,e,i){if(typeof(i=mn(i))=="string"){if(i==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&i.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(se.fromString(i));if(!gt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M_(a,new gt(r))}if(i instanceof we)return M_(a,i._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cc(i)}.`)}function vv(a,e){if(!Array.isArray(a)||a.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b1(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class cR{convertValue(e,i="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Qs(e,(o,h)=>{r[o]=this.convertValue(h,i)}),r}convertVectorValue(e){const i=e.fields?.[mc].arrayValue?.values?.map(r=>ye(r.doubleValue));return new vi(i)}convertGeoPoint(e){return new _i(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=zs(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=se.fromString(e);Kt(z0(r),9688,{name:e});const o=new _o(r.get(1),r.get(3)),h=new gt(r.popFirst(5));return o.isEqual(i)||Wi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends T1{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:be("string",Va._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class uc extends Va{data(e={}){return super.data(e)}}class xa{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new uc(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new uc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new uc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:hR(g.type),doc:y,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:a})}}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:be("string",xa._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class Vm extends cR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function xm(a){a=Kn(a,Ks);const e=Kn(a.firestore,Gs),i=Bc(e),r=new Vm(e);return A1(a._query),Ww(i,a._query).then(o=>new xa(e,r,a,o))}function fR(a,e,i,...r){a=Kn(a,we);const o=Kn(a.firestore,Gs),h=Hc(o);let d;return d=typeof(e=mn(e))=="string"||e instanceof Do?y1(h,"updateDoc",a._key,e,i,r):p1(h,"updateDoc",a._key,e),Yc(o,[d.toMutation(a._key,fn.exists(!0))])}function dR(a){return Yc(Kn(a.firestore,Gs),[new Uc(a._key,fn.none())])}function R1(a,e){const i=Kn(a.firestore,Gs),r=qc(a),o=w1(a.converter,e);return Yc(i,[g1(Hc(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then(()=>r)}function C1(a,...e){a=mn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let h,d,g;if(a instanceof we)d=Kn(a.firestore,Gs),g=am(a._key.path),h={next:y=>{e[r]&&e[r](mR(d,a,y))},error:e[r+1],complete:e[r+2]};else{const y=Kn(a,Ks);d=Kn(y.firestore,Gs),g=y._query;const _=new Vm(d);h={next:A=>{e[r]&&e[r](new xa(d,_,y,A))},error:e[r+1],complete:e[r+2]},A1(a._query)}return function(_,A,I,D){const G=new u1(D),Z=new t1(A,G,I);return _.asyncQueue.enqueueAndForget(async()=>J0(await Pd(_),Z)),()=>{G.Nu(),_.asyncQueue.enqueueAndForget(async()=>W0(await Pd(_),Z))}}(Bc(d),g,o,h)}function Yc(a,e){return function(r,o){const h=new Us;return r.asyncQueue.enqueueAndForget(async()=>qw(await Jw(r),o,h)),h.promise}(Bc(a),e)}function mR(a,e,i){const r=i.docs.get(e._key),o=new Vm(a);return new Va(a,o,e._key,r,new ro(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,i,r){this._verifyNotCommitted();const o=cd(e,this._firestore),h=w1(o.converter,i,r),d=g1(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,fn.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const h=cd(e,this._firestore);let d;return d=typeof(i=mn(i))=="string"||i instanceof Do?y1(this._dataReader,"WriteBatch.update",h._key,i,r,o):p1(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=cd(e,this._firestore);return this._mutations=this._mutations.concat(new Uc(i._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cd(a,e){if((a=mn(a)).firestore!==e)throw new st(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(a){return Bc(a=Kn(a,Gs)),new gR(a,e=>Yc(a,e))}(function(e,i=!0){(function(o){Br=o})(XS),ks(new Zi("firestore",(r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Gs(new ob(r.getProvider("auth-internal")),new hb(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(_.options.projectId,A)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),gi(T_,A_,e),gi(T_,A_,"esm2020")})();var pR="firebase",yR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(pR,yR,"app");const D1="@firebase/installations",Om="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1e4,V1=`w:${Om}`,x1="FIS_v2",_R="https://firebaseinstallations.googleapis.com/v1",vR=60*60*1e3,ER="installations",TR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ua=new Rc(ER,TR,AR);function O1(a){return a instanceof Fs&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1({projectId:a}){return`${_R}/projects/${a}/installations`}function U1(a){return{token:a.token,requestStatus:2,expiresIn:bR(a.expiresIn),creationTime:Date.now()}}async function j1(a,e){const r=(await e.json()).error;return Ua.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function k1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function SR(a,{refreshToken:e}){const i=k1(a);return i.append("Authorization",wR(e)),i}async function L1(a){const e=await a();return e.status>=500&&e.status<600?a():e}function bR(a){return Number(a.replace("s","000"))}function wR(a){return`${x1} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const r=M1(a),o=k1(a),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={fid:i,authVersion:x1,appId:a.appId,sdkVersion:V1},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await L1(()=>fetch(r,g));if(y.ok){const _=await y.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:U1(_.authToken)}}else throw await j1("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^[cdef][\w-]{21}$/,Hd="";function DR(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=NR(a);return IR.test(i)?i:Hd}catch{return Hd}}function NR(a){return CR(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function q1(a,e){const i=Kc(a);B1(i,e),VR(i,e)}function B1(a,e){const i=P1.get(a);if(i)for(const r of i)r(e)}function VR(a,e){const i=xR();i&&i.postMessage({key:a,fid:e}),OR()}let Na=null;function xR(){return!Na&&"BroadcastChannel"in self&&(Na=new BroadcastChannel("[Firebase] FID Change"),Na.onmessage=a=>{B1(a.data.key,a.data.fid)}),Na}function OR(){P1.size===0&&Na&&(Na.close(),Na=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-installations-database",UR=1,ja="firebase-installations-store";let hd=null;function Mm(){return hd||(hd=Pv(MR,UR,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(ja)}}})),hd}async function Sc(a,e){const i=Kc(a),o=(await Mm()).transaction(ja,"readwrite"),h=o.objectStore(ja),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&q1(a,e.fid),e}async function H1(a){const e=Kc(a),r=(await Mm()).transaction(ja,"readwrite");await r.objectStore(ja).delete(e),await r.done}async function Xc(a,e){const i=Kc(a),o=(await Mm()).transaction(ja,"readwrite"),h=o.objectStore(ja),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&q1(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(a){let e;const i=await Xc(a.appConfig,r=>{const o=jR(r),h=kR(a,o);return e=h.registrationPromise,h.installationEntry});return i.fid===Hd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function jR(a){const e=a||{fid:DR(),registrationStatus:0};return G1(e)}function kR(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ua.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=LR(a,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zR(a)}:{installationEntry:e}}async function LR(a,e){try{const i=await RR(a,e);return Sc(a.appConfig,i)}catch(i){throw O1(i)&&i.customData.serverCode===409?await H1(a.appConfig):await Sc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function zR(a){let e=await Ev(a.appConfig);for(;e.registrationStatus===1;)await z1(100),e=await Ev(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Um(a);return r||i}return e}function Ev(a){return Xc(a,e=>{if(!e)throw Ua.create("installation-not-found");return G1(e)})}function G1(a){return PR(a)?{fid:a.fid,registrationStatus:0}:a}function PR(a){return a.registrationStatus===1&&a.registrationTime+N1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR({appConfig:a,heartbeatServiceProvider:e},i){const r=BR(a,i),o=SR(a,i),h=e.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const d={installation:{sdkVersion:V1,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await L1(()=>fetch(r,g));if(y.ok){const _=await y.json();return U1(_)}else throw await j1("Generate Auth Token",y)}function BR(a,{fid:e}){return`${M1(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(a,e=!1){let i;const r=await Xc(a.appConfig,h=>{if(!F1(h))throw Ua.create("not-registered");const d=h.authToken;if(!e&&FR(d))return h;if(d.requestStatus===1)return i=HR(a,e),h;{if(!navigator.onLine)throw Ua.create("app-offline");const g=YR(h);return i=GR(a,g),g}});return i?await i:r.authToken}async function HR(a,e){let i=await Tv(a.appConfig);for(;i.authToken.requestStatus===1;)await z1(100),i=await Tv(a.appConfig);const r=i.authToken;return r.requestStatus===0?jm(a,e):r}function Tv(a){return Xc(a,e=>{if(!F1(e))throw Ua.create("not-registered");const i=e.authToken;return KR(i)?{...e,authToken:{requestStatus:0}}:e})}async function GR(a,e){try{const i=await qR(a,e),r={...e,authToken:i};return await Sc(a.appConfig,r),i}catch(i){if(O1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await H1(a.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Sc(a.appConfig,r)}throw i}}function F1(a){return a!==void 0&&a.registrationStatus===2}function FR(a){return a.requestStatus===2&&!QR(a)}function QR(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+vR}function YR(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function KR(a){return a.requestStatus===1&&a.requestTime+N1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(a){const e=a,{installationEntry:i,registrationPromise:r}=await Um(e);return r?r.catch(console.error):jm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(a,e=!1){const i=a;return await ZR(i),(await jm(i,e)).token}async function ZR(a){const{registrationPromise:e}=await Um(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(a){if(!a||!a.options)throw fd("App Configuration");if(!a.name)throw fd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw fd(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function fd(a){return Ua.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="installations",WR="installations-internal",tC=a=>{const e=a.getProvider("app").getImmediate(),i=JR(e),r=So(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},eC=a=>{const e=a.getProvider("app").getImmediate(),i=So(e,Q1).getImmediate();return{getId:()=>XR(i),getToken:o=>$R(i,o)}};function nC(){ks(new Zi(Q1,tC,"PUBLIC")),ks(new Zi(WR,eC,"PRIVATE"))}nC();gi(D1,Om);gi(D1,Om,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="analytics",iC="firebase_id",sC="origin",aC=60*1e3,rC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",km="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new $d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Rc("analytics","Analytics",lC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(a){if(!a.startsWith(km)){const e=wn.create("invalid-gtag-resource",{gtagURL:a});return dn.warn(e.message),""}return a}function Y1(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function uC(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function cC(a,e){const i=uC("firebase-js-sdk-policy",{createScriptURL:oC}),r=document.createElement("script"),o=`${km}?l=${a}&id=${e}`;r.src=i?i?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function hC(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function fC(a,e,i,r,o,h){const d=r[o];try{if(d)await e[d];else{const y=(await Y1(i)).find(_=>_.measurementId===o);y&&await e[y.appId]}}catch(g){dn.error(g)}a("config",o,h)}async function dC(a,e,i,r,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await Y1(i);for(const y of d){const _=g.find(I=>I.measurementId===y),A=_&&e[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),a("event",r,o||{})}catch(h){dn.error(h)}}function mC(a,e,i,r){async function o(h,...d){try{if(h==="event"){const[g,y]=d;await dC(a,e,i,g,y)}else if(h==="config"){const[g,y]=d;await fC(a,e,i,r,g,y)}else if(h==="consent"){const[g,y]=d;a("consent",g,y)}else if(h==="get"){const[g,y,_]=d;a("get",g,y,_)}else if(h==="set"){const[g]=d;a("set",g)}else a(h,...d)}catch(g){dn.error(g)}}return o}function gC(a,e,i,r,o){let h=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=mC(h,a,e,i),{gtagCore:h,wrappedGtag:window[o]}}function pC(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(km)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=30,_C=1e3;class vC{constructor(e={},i=_C){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const K1=new vC;function EC(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function TC(a){const{appId:e,apiKey:i}=a,r={method:"GET",headers:EC(i)},o=rC.replace("{app-id}",e),h=await fetch(o,r);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();g.error?.message&&(d=g.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function AC(a,e=K1,i){const{appId:r,apiKey:o,measurementId:h}=a.options;if(!r)throw wn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:r};throw wn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new wC;return setTimeout(async()=>{g.abort()},aC),X1({appId:r,apiKey:o,measurementId:h},d,g,e)}async function X1(a,{throttleEndTimeMillis:e,backoffCount:i},r,o=K1){const{appId:h,measurementId:d}=a;try{await SC(r,e)}catch(g){if(d)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await TC(a);return o.deleteThrottleMetadata(h),g}catch(g){const y=g;if(!bC(y)){if(o.deleteThrottleMetadata(h),d)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:h,measurementId:d};throw g}const _=Number(y?.customData?.httpStatus)===503?h_(i,o.intervalMillis,yC):h_(i,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return o.setThrottleMetadata(h,A),dn.debug(`Calling attemptFetch again in ${_} millis`),X1(a,A,r,o)}}function SC(a,e){return new Promise((i,r)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(h),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bC(a){if(!(a instanceof Fs)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class wC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function RC(a,e,i,r,o){if(o&&o.global){a("event",i,r);return}else{const h=await e,d={...r,send_to:h};a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(){if(jv())try{await kv()}catch(a){return dn.warn(wn.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return dn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IC(a,e,i,r,o,h,d){const g=AC(a);g.then(D=>{i[D.measurementId]=D.appId,a.options.measurementId&&D.measurementId!==a.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>dn.error(D)),e.push(g);const y=CC().then(D=>{if(D)return r.getId()}),[_,A]=await Promise.all([g,y]);pC(h)||cC(h,_.measurementId),o("js",new Date);const I=d?.config??{};return I[sC]="firebase",I.update=!0,A!=null&&(I[iC]=A),o("config",_.measurementId,I),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.app=e}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},Av=[];const Sv={};let dd="dataLayer",NC="gtag",bv,$1,wv=!1;function VC(){const a=[];if(qA()&&a.push("This is a browser extension environment."),HA()||a.push("Cookies are not available."),a.length>0){const e=a.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=wn.create("invalid-analytics-context",{errorInfo:e});dn.warn(i.message)}}function xC(a,e,i){VC();const r=a.options.appId;if(!r)throw wn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(fo[r]!=null)throw wn.create("already-exists",{id:r});if(!wv){hC(dd);const{wrappedGtag:h,gtagCore:d}=gC(fo,Av,Sv,dd,NC);$1=h,bv=d,wv=!0}return fo[r]=IC(a,Av,Sv,e,bv,dd,i),new DC(a)}function OC(a=Bv()){a=mn(a);const e=So(a,bc);return e.isInitialized()?e.getImmediate():MC(a)}function MC(a,e={}){const i=So(a,bc);if(i.isInitialized()){const o=i.getImmediate();if(mo(e,i.getOptions()))return o;throw wn.create("already-initialized")}return i.initialize({options:e})}function UC(a,e,i,r){a=mn(a),RC($1,fo[a.app.options.appId],e,i,r).catch(o=>dn.error(o))}const Rv="@firebase/analytics",Cv="0.10.18";function jC(){ks(new Zi(bc,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return xC(r,o,i)},"PUBLIC")),ks(new Zi("analytics-internal",a,"PRIVATE")),gi(Rv,Cv),gi(Rv,Cv,"esm2020");function a(e){try{const i=e.getProvider(bc).getImmediate();return{logEvent:(r,o,h)=>UC(i,r,o,h)}}catch(i){throw wn.create("interop-component-reg-failed",{reason:i})}}}jC();const kC={apiKey:"AIzaSyDFVJWzRpAQWfZu8gHm2gQcLXgt1VvvWbo",authDomain:"voucher-wallet2.firebaseapp.com",projectId:"voucher-wallet2",storageBucket:"voucher-wallet2.firebasestorage.app",messagingSenderId:"303182842940",appId:"1:303182842940:web:432b82ec6d1a4a9108c739",measurementId:"G-K9MMRSWFF1"},Z1=qv(kC);OC(Z1);const zn=eR(Z1),$c="users",Yr="vouchers",Gd=async a=>{try{return(await R1(za(zn,$c),a)).id}catch(e){throw console.error("Error creating user:",e),e}},Iv=async a=>{try{const e=I1(zn),i=qc(zn,$c,a);e.delete(i);const r=Im(za(zn,Yr),Bd("userId","==",a));(await xm(r)).forEach(h=>{e.delete(h.ref)}),await e.commit()}catch(e){throw console.error("Error deleting user:",e),e}},LC=async()=>{try{return(await xm(za(zn,$c))).docs.map(e=>({id:e.id,...e.data()}))}catch(a){throw console.error("Error getting users:",a),a}},zC=a=>C1(za(zn,$c),e=>{const i=e.docs.map(r=>({id:r.id,...r.data()}));a(i)}),PC=async a=>{try{const e=ne.now(),i={...a,createdAt:e,updatedAt:e},r=JSON.stringify(i).length;if(console.log("Document size:",Math.round(r/1024),"KB"),r>9e5)throw new Error("Document too large - exceeds Firestore 1MB limit");const o=await R1(za(zn,Yr),i);return console.log("Voucher created successfully with ID:",o.id),o.id}catch(e){throw console.error("Error creating voucher:",e),e}},md=async(a,e)=>{try{const i={...e,updatedAt:ne.now()},r=JSON.stringify(i).length;if(console.log("Update data size:",Math.round(r/1024),"KB"),r>9e5)throw new Error("Document too large - exceeds Firestore 1MB limit");const o=qc(zn,Yr,a);await fR(o,i),console.log("Voucher updated successfully")}catch(i){throw console.error("Error updating voucher:",i),i}},qC=async a=>{try{const e=qc(zn,Yr,a);await dR(e)}catch(e){throw console.error("Error deleting voucher:",e),e}},BC=a=>{const e=Im(za(zn,Yr),uR("createdAt","desc"));return C1(e,i=>{const r=i.docs.map(o=>{const h=o.data();return{id:o.id,...h,createdAt:h.createdAt?.toDate()||new Date,updatedAt:h.updatedAt?.toDate()||new Date}});a(r)})},HC=async a=>{try{const e=Im(za(zn,Yr),Bd("userId","==",a),Bd("isArchived","==",!0)),i=await xm(e),r=I1(zn);i.forEach(o=>{r.delete(o.ref)}),await r.commit()}catch(e){throw console.error("Error deleting archived vouchers:",e),e}},GC=async()=>{try{(await LC()).length===0&&(await Gd({name:"פנינה"}),await Gd({name:"אור ורון"}))}catch(a){throw console.error("Error initializing default users:",a),a}};function FC(){const[a,e]=Et.useState([]),[i,r]=Et.useState(null),[o,h]=Et.useState([]),[d,g]=Et.useState(!0),[y,_]=Et.useState(!1),[A,I]=Et.useState(!1),[D,G]=Et.useState(!1),[Z,et]=Et.useState(!1),[J,pt]=Et.useState(!1),[mt,ot]=Et.useState(!1),[Ut,at]=Et.useState(!1),[ct,x]=Et.useState(!1),[b,R]=Et.useState(!1),[O,M]=Et.useState(""),[U,w]=Et.useState({isOpen:!1,message:"",variant:"info"}),[wt,Rt]=Et.useState(null),[H,nt]=Et.useState(null),[ht,jt]=Et.useState(null),[N,$]=Et.useState(null),[it,W]=Et.useState(null),[ft,Ct]=Et.useState("wallet");Et.useEffect(()=>{(async()=>{try{g(!0),await GC();const Bt=zC(qn=>{e(qn)}),gn=BC(qn=>{h(qn)});return g(!1),()=>{Bt(),gn()}}catch(Bt){console.error("Error initializing app:",Bt),w({isOpen:!0,message:"שגיאה בטעינת הנתונים. אנא רענן את הדף.",variant:"error"}),g(!1)}})()},[]);const _t=o.filter(ut=>ut.userId===i?.id),ce=_t.filter(ut=>!ut.isArchived),Gt=_t.filter(ut=>ut.isArchived),an=gA(_t),$n=async(ut,Bt,gn,qn,Bn)=>{if(i)try{await PC({name:ut,amount:Bt,link:gn,code:qn,qrImage:Bn,userId:i.id,isArchived:!1})}catch(We){console.error("Error adding voucher:",We);let de="שגיאה בהוספת השובר. אנא נסה שוב.";We instanceof Error&&(We.message.includes("Document too large")?de="התמונה גדולה מדי. אנא בחר תמונה קטנה יותר.":We.message.includes("quota")?de="הגעת למגבלת השימוש. אנא נסה שוב מאוחר יותר.":We.message.includes("permission")&&(de="אין הרשאה לשמירה. אנא בדוק את החיבור.")),w({isOpen:!0,message:de,variant:"error"})}},Pn=async(ut,Bt,gn,qn,Bn,We)=>{try{const de={name:Bt,amount:gn,link:qn,code:Bn,qrImage:We};gn===0&&(de.isArchived=!0),await md(ut,de)}catch(de){console.error("Error updating voucher:",de);let Ye="שגיאה בעדכון השובר. אנא נסה שוב.";de instanceof Error&&(de.message.includes("Document too large")?Ye="התמונה גדולה מדי. אנא בחר תמונה קטנה יותר.":de.message.includes("quota")?Ye="הגעת למגבלת השימוש. אנא נסה שוב מאוחר יותר.":de.message.includes("permission")&&(Ye="אין הרשאה לעדכון. אנא בדוק את החיבור.")),w({isOpen:!0,message:Ye,variant:"error"})}},Ai=ut=>{nt(ut),et(!0)},Si=async()=>{if(H)try{await md(H.id,{isArchived:!0})}catch(ut){console.error("Error archiving voucher:",ut),w({isOpen:!0,message:"שגיאה בהעברה לארכיון. אנא נסה שוב.",variant:"error"})}et(!1),nt(null)},bi=async(ut,Bt)=>{try{await md(ut,{amount:Bt,isArchived:!1})}catch(gn){console.error("Error restoring voucher:",gn),w({isOpen:!0,message:"שגיאה בשחזור השובר. אנא נסה שוב.",variant:"error"})}},Xs=ut=>{jt(ut),at(!0)},Pa=async()=>{if(ht)try{await qC(ht.id)}catch(ut){console.error("Error deleting voucher:",ut),w({isOpen:!0,message:"שגיאה במחיקת השובר. אנא נסה שוב.",variant:"error"})}at(!1),jt(null)},rn=()=>{pt(!0)},Kr=async()=>{if(i)try{await HC(i.id)}catch(ut){console.error("Error deleting archived vouchers:",ut),w({isOpen:!0,message:"שגיאה במחיקת שוברי הארכיון. אנא נסה שוב.",variant:"error"})}pt(!1)},$s=async ut=>{try{await Gd({name:ut})}catch(Bt){console.error("Error adding user:",Bt),w({isOpen:!0,message:"שגיאה בהוספת המשתמש. אנא נסה שוב.",variant:"error"})}},es=ut=>{Rt(ut),ot(!0)},Zn=async ut=>{if(ut==="12891289"){if(ot(!1),wt){try{await Iv(wt.id),i?.id===wt.id&&r(null)}catch(Bt){console.error("Error deleting user:",Bt),w({isOpen:!0,message:"שגיאה במחיקת המשתמש. אנא נסה שוב.",variant:"error"})}Rt(null)}}else w({isOpen:!0,message:"סיסמה שגויה!",variant:"error"})},Xr=async()=>{if(wt){try{await Iv(wt.id),i?.id===wt.id&&r(null)}catch(ut){console.error("Error deleting user:",ut),w({isOpen:!0,message:"שגיאה במחיקת המשתמש. אנא נסה שוב.",variant:"error"})}Rt(null)}x(!1)},wi=ut=>{window.open(ut,"_blank")},ns=ut=>{M(ut),R(!0)},Zs=ut=>{$(ut),I(!0)},ae=ut=>{W(ut),G(!0)},Ft=()=>{r(null),Ct("wallet")};return d?S.jsx("div",{className:"app",children:S.jsxs("div",{className:"loading-container glass",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"טוען נתונים..."})]})}):i?S.jsxs("div",{className:"app",children:[S.jsxs("header",{className:"app-header",children:[S.jsxs("button",{className:"back-btn btn btn-secondary",onClick:Ft,children:[S.jsx(qT,{size:20}),"חזור למשתמשים"]}),S.jsxs("h1",{className:"user-title",children:["שלום ",i.name]})]}),S.jsxs("div",{className:"app-content",children:[S.jsxs("div",{className:"summary-section glass",children:[S.jsxs("div",{className:"summary-header",children:[S.jsx(HT,{size:24}),S.jsx("h2",{children:"סיכום כספי"})]}),S.jsxs("div",{className:"summary-content",children:[S.jsxs("div",{className:"total-amount",children:[S.jsx("span",{className:"label",children:"סך הכל:"}),S.jsx("span",{className:"amount",children:pd(an.totalAmount)})]}),Object.entries(an.byType).length>0&&S.jsxs("div",{className:"breakdown",children:[S.jsx("h3",{children:"פירוט לפי סוג:"}),Object.entries(an.byType).map(([ut,Bt])=>S.jsxs("div",{className:"breakdown-item",children:[S.jsxs("span",{children:[ut,":"]}),S.jsx("span",{children:pd(Bt)})]},ut))]})]})]}),S.jsx("div",{className:"action-section",children:S.jsxs("button",{className:"add-voucher-btn btn btn-primary",onClick:()=>_(!0),children:[S.jsx(Qd,{size:20}),"הוסף שובר"]})}),S.jsxs("div",{className:"tab-navigation",children:[S.jsxs("button",{className:`tab-btn ${ft==="wallet"?"active":""}`,onClick:()=>Ct("wallet"),children:[S.jsx(a_,{size:20}),"ארנק שוברים (",ce.length,")"]}),S.jsxs("button",{className:`tab-btn ${ft==="archive"?"active":""}`,onClick:()=>Ct("archive"),children:[S.jsx(gd,{size:20}),"ארכיון שוברים (",Gt.length,")"]})]}),S.jsx("div",{className:"content-area",children:ft==="wallet"?S.jsxs("div",{className:"vouchers-section",children:[S.jsx("h2",{className:"section-title",children:"ארנק שוברים"}),ce.length===0?S.jsxs("div",{className:"empty-state glass",children:[S.jsx(a_,{size:48}),S.jsx("h3",{children:"אין שוברים פעילים"}),S.jsx("p",{children:"הוסף שובר חדש כדי להתחיל"})]}):S.jsx("div",{className:"vouchers-grid",children:ce.map(ut=>S.jsx(r_,{voucher:ut,onEdit:Zs,onArchive:Ai,onOpenLink:wi,onViewQR:ns},ut.id))})]}):S.jsxs("div",{className:"vouchers-section",children:[S.jsxs("div",{className:"archive-header",children:[S.jsx("h2",{className:"section-title",children:"ארכיון שוברים"}),Gt.length>0&&S.jsxs("button",{className:"delete-all-btn btn btn-danger",onClick:rn,children:[S.jsx(Yd,{size:16}),"מחק את כל שוברי הארכיון"]})]}),Gt.length===0?S.jsxs("div",{className:"empty-state glass",children:[S.jsx(gd,{size:48}),S.jsx("h3",{children:"אין שוברים בארכיון"}),S.jsx("p",{children:"שוברים שהועברו לארכיון יופיעו כאן"})]}):S.jsx("div",{className:"vouchers-grid",children:Gt.map(ut=>S.jsx(r_,{voucher:ut,onEdit:Zs,onDelete:Xs,onRestore:ae,onOpenLink:wi,onViewQR:ns,isArchived:!0},ut.id))})]})})]}),S.jsx(_A,{isOpen:y,onClose:()=>_(!1),onAdd:$n}),S.jsx(vA,{isOpen:A,voucher:N,onClose:()=>{I(!1),$(null)},onSave:Pn}),S.jsx(EA,{isOpen:D,voucher:it,onClose:()=>{G(!1),W(null)},onRestore:bi}),S.jsx(Ju,{isOpen:Z,title:"העבר לארכיון",message:`האם אתה בטוח שברצונך להעביר את השובר "${H?.name}" לארכיון?`,confirmText:"כן",cancelText:"לא",onConfirm:Si,onCancel:()=>{et(!1),nt(null)},variant:"warning"}),S.jsx(Ju,{isOpen:J,title:"מחק את כל שוברי הארכיון",message:"האם אתה בטוח שברצונך למחוק את כל השוברים בארכיון? פעולה זו לא ניתנת לביטול.",confirmText:"כן",cancelText:"לא",onConfirm:Kr,onCancel:()=>pt(!1),variant:"danger"}),S.jsx(Ju,{isOpen:Ut,title:"מחק שובר",message:`האם אתה בטוח שברצונך למחוק את השובר "${ht?.name}" לצמיתות?`,confirmText:"כן",cancelText:"לא",onConfirm:Pa,onCancel:()=>{at(!1),jt(null)},variant:"danger"}),S.jsx(Ju,{isOpen:ct,title:"מחק משתמש",message:`הסיסמה נכונה. האם אתה בטוח שברצונך למחוק את המשתמש "${wt?.name}"?`,confirmText:"כן",cancelText:"לא",onConfirm:Xr,onCancel:()=>{x(!1),Rt(null)},variant:"danger"}),S.jsx(wc,{isOpen:U.isOpen,message:U.message,variant:U.variant,onClose:()=>w({isOpen:!1,message:"",variant:"info"})}),S.jsx(l_,{isOpen:mt,title:"מחיקת משתמש",message:"זוהי פעולת מנהל שדורשת סיסמה",onConfirm:Zn,onCancel:()=>{ot(!1),Rt(null)}}),S.jsx(TA,{isOpen:b,qrImage:O,onClose:()=>R(!1)})]}):S.jsxs(S.Fragment,{children:[S.jsx(yA,{users:a,onSelectUser:r,onAddUser:$s,onDeleteUser:es}),S.jsx(l_,{isOpen:mt,title:"מחיקת משתמש",message:"זוהי פעולת מנהל שדורשת סיסמה",onConfirm:Zn,onCancel:()=>{ot(!1),Rt(null)}})]})}VT.createRoot(document.getElementById("root")).render(S.jsx(Et.StrictMode,{children:S.jsx(FC,{})}));
